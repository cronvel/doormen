(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.doormen=e()}})(function(){var e,t,r;return function(){function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var f="function"==typeof require&&require;if(!a&&f)return f(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[s]={exports:{}};t[s][0].call(u.exports,function(e){var r=t[s][1][e];return i(r||e)},u,u.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}return e}()({1:[function(e,t,r){"use strict";function n(e,t,r={}){this.message=e;t=t||n;this.actual=r.actual;this.expected=r.expected;this.expectationType=r.expectationType;this.showDiff=!!r.showDiff;this.from=r.fromError;if(t instanceof Error){this.stack=t.stack}else if(Error.captureStackTrace){Error.captureStackTrace(this,t)}else{this.stack=Error().stack}}t.exports=n;n.prototype=Object.create(TypeError.prototype);n.prototype.constructor=n;n.prototype.name="AssertionError"},{}],2:[function(e,t,r){"use strict";function n(e){this.message=e;if(Error.captureStackTrace){Error.captureStackTrace(this,n)}else{Object.defineProperty(this,"stack",{value:Error().stack,enumerable:true,configurable:true})}}t.exports=n;n.prototype=Object.create(TypeError.prototype);n.prototype.constructor=n;n.prototype.name="SchemaError"},{}],3:[function(e,t,r){"use strict";function n(e,t){this.message=e;if(t){this.at=this.path=t.path}if(Error.captureStackTrace){Error.captureStackTrace(this,n)}else{Object.defineProperty(this,"stack",{value:Error().stack,enumerable:true,configurable:true})}}t.exports=n;n.prototype=Object.create(TypeError.prototype);n.prototype.constructor=n;n.prototype.name="ValidatorError"},{}],4:[function(e,t,r){"use strict";t.exports=e("./core.js");t.exports.isBrowser=true},{"./core.js":6}],5:[function(e,t,r){(function(r){(function(){"use strict";if(!r){r=window}if(!r.DOORMEN_GLOBAL_EXTENSIONS){r.DOORMEN_GLOBAL_EXTENSIONS={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.constraints){r.DOORMEN_GLOBAL_EXTENSIONS.constraints={}}const n=Object.create(r.DOORMEN_GLOBAL_EXTENSIONS.constraints);t.exports=n;const i=e("./core.js");const o=e("tree-kit/lib/dotPath.js");const s=e("string-kit/lib/format.js").format;n.condition=function(e,t,r,n){var s=e,a=e;if(t.source){s=o.get(e,t.source)}if(t.target){a=o.get(e,t.target)}if(t.if){try{i(t.if,s)}catch(t){return e}}if(t.then){a=this.check(t.then,a,r)}if(t.target){o.set(e,t.target,a)}else{e=a}return e};n.switch=function(e,t,r,n){var i=e,s=e;if(t.source){i=o.get(e,t.source)}if(t.target){s=o.get(e,t.target)}if(t.case&&typeof t.case==="object"&&i in t.case){s=this.check(t.case[i],s,r)}else if(t.otherCases){s=this.check(t.otherCases,s,r)}else{return e}if(t.target){o.set(e,t.target,s)}else{e=s}return e};n.unique=function(e,t,r,n){var s,a,f,l,u,c=new Set;if(t.convert&&!i.sanitizers[t.convert]){if(i.clientMode){return e}throw new i.SchemaError("Bad schema (at "+r.displayPath+"), unexistant sanitizer '"+t.convert+"' (used as 'convert').")}if(!Array.isArray(e)){this.validatorError(r.displayPath+" should be an array to satisfy the 'unique' constraint.",r);return}for(s=0,a=e.length;s<a;s++){l=f=e[s];if(t.path){l=o.get(f,t.path)}if(t.noEmpty&&!l||t.noNull&&(l===null||l===undefined)){if(!t.resolve){this.validatorError(r.displayPath+" does not satisfy the 'unique' constraint (has null/empty value).",r);return}if(!u){u=e.slice(0,s)}continue}if(t.convert){l=i.sanitizers[t.convert].call(this,l,t,true)}if(c.has(l)){if(!t.resolve){this.validatorError(r.displayPath+" does not satisfy the 'unique' constraint.",r);return}if(!u){u=e.slice(0,s)}continue}if(u){u.push(f)}c.add(l)}return u||e};n.compound=function(e,t,r,n){var a,f,l;if(!Array.isArray(t.sources)||typeof t.target!=="string"||typeof t.format!=="string"){throw new i.SchemaError("Bad schema (at "+r.displayPath+"), the 'compound' constraint needs a 'sources' array, a 'target' and a 'format' string.")}a=o.get(e,t.target);if(a&&t.ifEmpty){return e}f=t.sources.map(t=>o.get(e,t)),l=s(t.format,...f);if(l===a){return e}if(!t.resolve){this.validatorError(r.displayPath+" does not satisfy the 'compound' constraint.",r);return}o.set(e,t.target,l);return e};n.extraction=function(e,t,r,n){var s,a,f,l,u,c,h;if(!Array.isArray(t.targets)||typeof t.source!=="string"||typeof t.match!=="string"&&!(t.match instanceof RegExp)){throw new i.SchemaError("Bad schema (at "+r.displayPath+"), the 'extraction' constraint needs a 'targets' array, a 'source' string, and a 'match' string or RegExp.")}l=o.get(e,t.source);if(typeof l!=="string"){this.validatorError(r.displayPath+" should have a string as its '"+t.source+"' child to satisfy the 'extraction' constraint.",r);return}h=t.match instanceof RegExp?t.match:new RegExp(t.match,t.flags||"");u=l.match(h);if(!u){this.validatorError(r.displayPath+" 's child '"+t.source+"' does not match the regular expression, hence do not to satisfy the 'extraction' constraint.",r);return}for(s=0,a=t.targets.length;s<a;s++){f=o.get(e,t.targets[s]);c=u[s+1];if(f&&t.ifEmpty){continue}if(c===f){continue}if(!t.resolve){this.validatorError(r.displayPath+" does not satisfy the 'extraction' constraint.",r);return}o.set(e,t.targets[s],c)}return e}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./core.js":6,"string-kit/lib/format.js":20,"tree-kit/lib/dotPath.js":28}],6:[function(e,t,r){(function(r){(function(){"use strict";function n(...e){var t,r,i,s,a;if(e.length<2||e.length>3){throw new Error("doormen() needs at least 2 and at most 3 arguments")}if(e.length===2){i=e[0];r=e[1]}else{t=e[0];i=e[1];r=e[2]}if(!i||typeof i!=="object"){throw new n.SchemaError("Bad schema, it should be an object or an array of object!")}if(!t||typeof t!=="object"){t={}}if(!t.patch||typeof t.patch!=="object"||Array.isArray(t.patch)){t.patch=false}s={userContext:t.userContext,validate:true,onlyConstraints:!!t.onlyConstraints,errors:[],patch:t.patch,check:o,validatorError:y,report:!!t.report,export:!!t.export};a=s.check(i,r,{path:"",displayPath:r===null?"null":Array.isArray(r)?"array":typeof r,key:""},false);if(s.report){return{validate:s.validate,sanitized:a,errors:s.errors}}return a}t.exports=n;n.report=n.bind(n,{report:true});n.export=n.bind(n,{export:true});n.checkConstraints=n.bind(n,{onlyConstraints:true});n.ValidatorError=e("./ValidatorError.js");n.SchemaError=e("./SchemaError.js");n.AssertionError=e("./AssertionError.js");var i=e("./mask.js");n.tierMask=i.tierMask;n.tagMask=i.tagMask;n.getAllSchemaTags=i.getAllSchemaTags;n.isEqual=e("./isEqual.js");n.schemaSchema=e("./schemaSchema.js");n.validateSchema=function(e){return n(n.schemaSchema,e)};n.purifySchema=function(e){return n.export(n.schemaSchema,e)};if(!r){r=window}if(!r.DOORMEN_GLOBAL_EXTENSIONS){r.DOORMEN_GLOBAL_EXTENSIONS={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers){r.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.sanitizers){r.DOORMEN_GLOBAL_EXTENSIONS.sanitizers={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.filters){r.DOORMEN_GLOBAL_EXTENSIONS.filters={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.constraints){r.DOORMEN_GLOBAL_EXTENSIONS.constraints={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions){r.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions={}}n.typeCheckers=e("./typeCheckers.js");n.sanitizers=e("./sanitizers.js");n.filters=e("./filters.js");n.constraints=e("./constraints.js");n.defaultFunctions=e("./defaultFunctions.js");n.topLevelFilters=["instanceOf","min","max","length","minLength","maxLength","match","in","notIn","eq"];function o(e,t,r,i){var o,s,l,u,c,h=t,p,d,y,g,m,b;if(!e||typeof e!=="object"){throw new n.SchemaError(r.displayPath+" is not a schema (not an object or an array of object).")}if(Array.isArray(e)){y=[];for(o=0;o<e.length;o++){try{h=n.export(e[o],t)}catch(e){y.push(e.message.replace(/\.$/,""));continue}return h}this.validatorError(r.displayPath+" does not validate any schema alternatives: ( "+y.join(" ; ")+" ).",r);return}if(!this.onlyConstraints){if(e.value!==undefined){return e.value}if(h===null){if(e.nullIsUndefined){h=undefined}else if(!e.nullIsValue){if(e.defaultFn){if(typeof e.defaultFn==="function"){return e.defaultFn(e)}if(n.defaultFunctions[e.defaultFn]){return n.defaultFunctions[e.defaultFn](e)}else if(!n.clientMode){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), unexistant default function '"+e.defaultFn+"'.")}}if("default"in e){return a(e.default)}if(e.optional){return h}}}if(h===undefined){if(e.defaultFn){if(typeof e.defaultFn==="function"){return e.defaultFn(e)}if(n.defaultFunctions[e.defaultFn]){return n.defaultFunctions[e.defaultFn](e)}else if(!n.clientMode){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), unexistant default function '"+e.defaultFn+"'.")}}if("default"in e){return a(e.default)}if(e.optional){return h}}if(e.sanitize){u=Array.isArray(e.sanitize)?e.sanitize:[e.sanitize];m=h;for(o=0;o<u.length;o++){if(!n.sanitizers[u[o]]){if(n.clientMode){continue}throw new n.SchemaError("Bad schema (at "+r.displayPath+"), unexistant sanitizer '"+u[o]+"'.")}h=n.sanitizers[u[o]].call(this,h,e,this.export&&h===t)}if(this.patch&&m!==h){f(this.patch,r.path,h)}}if(e.type){if(!n.typeCheckers[e.type]){if(!n.clientMode){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), unexistant type '"+e.type+"'.")}}else if(!n.typeCheckers[e.type].call(this,h,e)){this.validatorError(r.displayPath+" is not a "+e.type+".",r)}}for(o=0;o<n.topLevelFilters.length;o++){s=n.topLevelFilters[o];if(e[s]!==undefined){n.filters[s].call(this,h,e[s],r)}}if(e.filter){if(typeof e.filter!=="object"){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'filter' should be an object.")}for(s in e.filter){if(!n.filters[s]){if(n.clientMode){continue}throw new n.SchemaError("Bad schema (at "+r.displayPath+"), unexistant filter '"+s+"'.")}n.filters[s].call(this,h,e.filter[s],r)}}if(e.keys!==undefined&&(h&&(typeof h==="object"||typeof h==="function"))){if(!e.keys||typeof e.keys!=="object"){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'keys' should contain a schema object.")}if(this.export&&h===t){h={};p=t}else{p=h}for(s in p){b=":"+s;l=this.check(e.keys,s,{path:r.path+b,displayPath:r.displayPath+b,key:s},i);if(l in h&&l!==s){this.validatorError("'keys' cannot overwrite another existing key: "+r.displayPath+" want to rename '"+s+"' to '"+l+"' but it already exists.",r)}h[l]=p[s];if(l!==s){delete h[s]}}}}if(e.of!==undefined&&(h&&(typeof h==="object"||typeof h==="function"))){if(!e.of||typeof e.of!=="object"){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'of' should contain a schema object.")}if(Array.isArray(h)){if(this.export&&h===t){h=[];p=t}else{p=h}for(o=0;o<p.length;o++){b="["+o+"]";h[o]=this.check(e.of,p[o],{path:r.path+b,displayPath:r.displayPath+b,key:o},i)}}else{if(this.export&&h===t){h={};p=t}else{p=h}for(s in p){b="."+s;h[s]=this.check(e.of,p[s],{path:r.path?r.path+b:s,displayPath:r.displayPath+b,key:s},i)}}}if(e.properties!==undefined&&(h&&(typeof h==="object"||typeof h==="function"))){if(!e.properties||typeof e.properties!=="object"){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'properties' should be an object.")}if(this.export&&h===t){h={};p=t}else{p=h}c=new Set;if(Array.isArray(e.properties)){for(o=0;o<e.properties.length;o++){s=e.properties[o];if(!(s in p)){this.validatorError(r.displayPath+" does not have all required properties ("+JSON.stringify(e.properties)+").",r)}h[s]=p[s];c.add(s)}}else{for(s in e.properties){if(!e.properties[s]||typeof e.properties[s]!=="object"){throw new n.SchemaError(r.displayPath+"."+s+" is not a schema (not an object or an array of object).")}c.add(s);b="."+s;d=this.check(e.properties[s],p[s],{path:r.path?r.path+b:s,displayPath:r.displayPath+b,key:s},i);if(d!==undefined||s in p){h[s]=d}}}if(!this.onlyConstraints&&!e.extraProperties){for(s in p){if(!c.has(s)){this.validatorError(r.displayPath+" has extra properties ('"+s+"' is not in "+JSON.stringify([...c])+").",r)}}}}if(e.elements!==undefined&&Array.isArray(h)){if(!Array.isArray(e.elements)){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'elements' should be an array.")}if(this.export&&h===t){h=[];p=t}else{p=h}for(o=0;o<e.elements.length;o++){b="["+o+"]";h[o]=this.check(e.elements[o],p[o],{path:r.path+b,displayPath:r.displayPath+b,key:o},i)}if(!e.extraElements&&p.length>e.elements.length){this.validatorError(r.displayPath+" has extra elements ("+p.length+" instead of "+e.elements.length+").",r)}}if(e.constraints&&!i){if(!Array.isArray(e.constraints)){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'constraints' should be an object.")}if(!h||typeof h!=="object"){this.validatorError(r.displayPath+" has a constraints but is not an object.",r)}m=h;for(o=0;o<e.constraints.length;o++){g=e.constraints[o];if(!g||typeof g!=="object"){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), constraints #"+o+" should be an object.")}if(!n.constraints[g.enforce]){if(n.clientMode){continue}throw new n.SchemaError("Bad schema (at "+r.displayPath+"), unexistant constraints '"+g.enforce+"'.")}h=n.constraints[g.enforce].call(this,h,g,r,this.export&&h===t)}if(this.patch&&m!==h){f(this.patch,r.path,h)}}return h}const s=e("tree-kit/lib/clone.js");function a(e){if(e&&typeof e==="object"){return s(e)}return e}function f(e,t,r){var n,i;e[t]=r;i=t+".";for(n in e){if(n.startsWith(i)){delete e[n]}}}n.path=function(e,t,r=false,i=false){var o=0;if(!Array.isArray(t)){if(typeof t!=="string"){throw new Error("Argument #1 'path' should be a string or an array")}t=t.split(".")}if(!e||typeof e!=="object"){throw new n.SchemaError(e+" is not a schema (not an object or an array of object).")}while(o<t.length&&!t[o]){o++}return l(e,t,o,r,i)};function l(e,t,r,i,o){var s;if(r>=t.length){return e}if(o&&e.opaque){throw new n.ValidatorError("Path leading inside an opaque object.")}if(i&&e.noSubmasking){return null}s=t[r];if(Array.isArray(e)){throw new Error("Schema alternatives are not supported for path matching ATM.")}if(e.properties!==undefined){if(!e.properties||typeof e.properties!=="object"){throw new n.SchemaError("Bad schema (at "+t+"), 'properties' should be an object.")}if(e.properties[s]){return l(e.properties[s],t,r+1,i,o)}else if(!e.extraProperties){throw new n.SchemaError("Bad path (at "+t+"), property '"+s+"' not found and the schema does not allow extra properties.")}}if(e.of!==undefined){if(!e.of||typeof e.of!=="object"){throw new n.SchemaError("Bad schema (at "+t+"), 'of' should contain a schema object.")}return l(e.of,t,r+1,i,o)}return{}}n.schemaWalker=function(e,t){var r,i,o,s,a=e.schema;if(Array.isArray(a)){o=s=0;for(r=0;r<a.length;r++){o++;i=n.schemaWalker({schema:e.schema[r],schemaPath:e.schemaPath.concat(r),options:e.options});if(i!==e.schema[r]){if(a===e.schema){a=Array.from(e.schema)}a[r]=i;if(i===undefined){s++}}}if(s&&o===s){a=undefined}return a}if(e.schema.properties&&typeof e.schema.properties==="object"){o=s=0;for(r in e.schema.properties){o++;i=t({schema:e.schema.properties[r],schemaPath:e.schemaPath.concat("properties",r),options:e.options});if(i!==e.schema.properties[r]){if(a===e.schema){a=Object.assign({},e.schema)}if(a.properties===e.schema.properties){a.properties=Object.assign({},e.schema.properties)}if(i===undefined){delete a.properties[r];s++;if(e.options&&e.options.extraProperties){a.extraProperties=true}}else{a.properties[r]=i}}}if(s&&o===s){delete a.properties}if(s&&e.options&&e.options.extraProperties){a.extraProperties=true}}if(a.of&&typeof a.of==="object"){i=t({schema:e.schema.of,schemaPath:e.schemaPath.concat("of"),options:e.options});if(i!==e.schema.of){if(a===e.schema){a=Object.assign({},e.schema)}if(i===undefined){delete a.of}else{a.of=i}}}if(a.elements&&Array.isArray(a.elements)){o=s=0;for(r=0;r<a.elements.length;r++){o++;i=t({schema:e.schema.elements[r],schemaPath:e.schemaPath.concat("elements",r),options:e.options});if(i!==e.schema.elements[r]){if(a===e.schema){a=Object.assign({},e.schema)}if(a.elements===e.schema.elements){a.elements=Array.from(e.schema.elements)}a.elements[r]=i;if(i===undefined){s++}}}if(s&&o===s){delete a.elements}}return a};n.constraintSchema=function(e){return u({schema:e,schemaPath:[],options:{extraProperties:true}})};function u(e){var t=n.schemaWalker(e,u);if(Array.isArray(t)){return t}if(t===e.schema){if(!t.constraints){return}t=Object.assign({},e.schema)}delete t.type;delete t.sanitize;delete t.filter;return t}n.patchTier=function(e,t){var r,i,o,s=1,a=Object.keys(t);for(r=0,i=a.length;r<i;r++){o=a[r].split(".");while(o.length){s=Math.max(s,n.path(e,o).tier||1);o.pop()}}return s};n.checkPatchByTags=function(e,t,r){var n;if(!(r instanceof Set)){if(Array.isArray(r)){r=new Set(r)}else{r=new Set([r])}}for(n in t){c(e,n,r,t[n])}};function c(e,t,r,i){var o,s,a;t=t.split(".");while(t.length){o=n.path(e,t);if(o.tags){a=false;for(s of o.tags){if(r.has(s)){a=true;break}}if(!a){if(this&&this.validatorError){this.validatorError("Not allowed by tags",i)}else{throw new n.ValidatorError("Not allowed by tags",i)}}}t.pop()}}n.patch=function(...e){var t,r,i,s,a,f,l,u,h;if(e.length<2||e.length>3){throw new Error("doormen.patch() needs at least 2 and at most 3 arguments")}if(e.length===2){s=e[0];t=e[1]}else{l=e[0];s=e[1];t=e[2]}if(!s||typeof s!=="object"){throw new n.SchemaError("Bad schema, it should be an object or an array of object!")}if(!l||typeof l!=="object"){l={}}if(!t||typeof t!=="object"){throw new Error("The patch should be an object")}f=l.export?{}:t;u={userContext:l.userContext,validate:true,errors:[],check:o,checkAllowed:l.allowedTags?c:null,allowedTags:l.allowedTags?new Set(Array.isArray(l.allowedTags)?l.allowedTags:[l.allowedTags]):null,validatorError:y,report:!!l.report,export:!!l.export};for(r in t){i=t[r];if(u.checkAllowed){u.checkAllowed(s,r,u.allowedTags,i)}if(h=p(i)){i=i[h];if(d[h].getValue){i=d[h].getValue(i)}if(d[h].applyToChildren){a=n.path(s,r,undefined,true).of||{}}else{a=n.path(s,r,undefined,true)}if(d[h].sanitize){f[r][h]=d[h].sanitize(i);u.check(a,i,{displayPath:"patch."+r,path:r,key:r},true)}else{f[r][h]=u.check(a,i,{displayPath:"patch."+r,path:r,key:r},true)}}else{a=n.path(s,r,undefined,true);f[r]=u.check(a,i,{displayPath:"patch."+r,path:r,key:r},true)}}if(u.report){return{validate:u.validate,sanitized:f,errors:u.errors}}return f};n.patch.report=n.patch.bind(n,{report:true});n.patch.export=n.patch.bind(n,{export:true});const h=e("tree-kit/lib/dotPath.js");n.applyPatch=function(e,t){var r,n,i;if(!t||typeof t!=="object"){throw new Error("The patch should be an object")}for(r in t){n=t[r];if(i=p(n)){d[i](e,r,n[i])}else{h.set(e,r,n)}}return e};function p(e){var t;if(!e||typeof e!=="object"){return false}for(t in e){if(t[0]!=="$"){return false}if(!d[t]){throw new Error("Bad command '"+t+"'")}return t}}const d={};d.$set=((e,t,r)=>h.set(e,t,r));d.$delete=d.$unset=((e,t)=>h.delete(e,t));d.$delete.getValue=(()=>undefined);d.$delete.sanitize=(()=>true);d.$push=((e,t,r)=>h.append(e,t,r));d.$push.applyToChildren=true;function y(e,t){var r=new n.ValidatorError(e,t);this.validate=false;if(this.report){this.errors.push(r)}else{throw r}}function g(e,t,r){var n;if(!t||typeof t!=="object"||Array.isArray(t)){throw new TypeError("[doormen] .extend*(): Argument #0 should be a plain object")}for(n in t){if(n in e&&!r||typeof t[n]!=="function"){continue}e[n]=t[n]}}n.extendTypeCheckers=function(e,t){g(r.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers,e,t)};n.extendSanitizers=function(e,t){g(r.DOORMEN_GLOBAL_EXTENSIONS.sanitizers,e,t)};n.extendFilters=function(e,t){g(r.DOORMEN_GLOBAL_EXTENSIONS.filters,e,t)};n.extendConstraints=function(e,t){g(r.DOORMEN_GLOBAL_EXTENSIONS.constraints,e,t)};n.extendDefaultFunctions=function(e,t){g(r.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions,e,t)};n.clientMode=false;n.setClientMode=function(e){n.clientMode=!!e};n.shouldThrow=function e(t,r){var i=false;r=r||e;try{t()}catch(e){i=true}if(!i){throw new n.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have thrown.",r)}};n.shouldReject=async function e(t,r){var i=false;r=r||e;try{await t()}catch(e){i=true}if(!i){throw new n.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have rejected.",r)}};n.shouldThrowAssertion=function e(t,r){var i,o=false;r=r||e;try{t()}catch(e){o=true;i=e}if(!o){throw new n.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have thrown.",r)}if(!(i instanceof n.AssertionError)){i.message="Function '"+(t.name||"(anonymous)")+"' should have thrown an AssertionError, instead it had thrown: "+i.message;throw i}return i};n.shouldRejectAssertion=async function e(t,r){var i,o=false;r=r||e;try{await t()}catch(e){o=true;i=e}if(!o){throw new n.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have rejected.",r)}if(!(i instanceof n.AssertionError)){i.message="Function '"+(t.name||"(anonymous)")+"' should have rejected with an AssertionError, instead it had rejected with: "+i.message;throw i}return i};n.not=function e(...t){n.shouldThrow(()=>{n(...t)},e)};n.checkConstraints.not=function e(...t){n.shouldThrow(()=>{n.constraints(...t)},e)};n.patch.not=function e(...t){n.shouldThrow(()=>{n.patch(...t)},e)};n.equals=function e(t,r){if(!n.isEqual(t,r)){throw new n.AssertionError("should have been equal",e,{actual:t,expected:r,showDiff:true})}};n.not.equals=function e(t,r){if(n.isEqual(t,r)){throw new n.AssertionError("should not have been equal",e,{actual:t,expected:r,showDiff:true})}};const m={like:true};n.alike=function e(t,r){if(!n.isEqual(t,r,m)){throw new n.AssertionError("should have been alike",e,{actual:t,expected:r,showDiff:true})}};n.not.alike=function e(t,r){if(n.isEqual(t,r,m)){throw new n.AssertionError("should not have been alike",e,{actual:t,expected:r,showDiff:true})}}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./AssertionError.js":1,"./SchemaError.js":2,"./ValidatorError.js":3,"./constraints.js":5,"./defaultFunctions.js":7,"./filters.js":8,"./isEqual.js":9,"./mask.js":10,"./sanitizers.js":11,"./schemaSchema.js":12,"./typeCheckers.js":13,"tree-kit/lib/clone.js":27,"tree-kit/lib/dotPath.js":28}],7:[function(e,t,r){(function(e){(function(){"use strict";if(!e){e=window}if(!e.DOORMEN_GLOBAL_EXTENSIONS){e.DOORMEN_GLOBAL_EXTENSIONS={}}if(!e.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions){e.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions={}}const r=Object.create(e.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions);t.exports=r;r.now=(()=>new Date)}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],8:[function(e,t,r){(function(r){(function(){"use strict";if(!r){r=window}if(!r.DOORMEN_GLOBAL_EXTENSIONS){r.DOORMEN_GLOBAL_EXTENSIONS={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.filters){r.DOORMEN_GLOBAL_EXTENSIONS.filters={}}const n=Object.create(r.DOORMEN_GLOBAL_EXTENSIONS.filters);t.exports=n;const i=e("./core.js");n.instanceOf=function(e,t,n){if(typeof t==="string"){t=i.isBrowser?window[t]:r[t]}if(typeof t!=="function"){throw new i.SchemaError("Bad schema (at "+n.path+"), 'instanceOf' should be a function or a global function's name.")}if(!(e instanceof t)){this.validatorError(n.path+" is not an instance of "+t+".",n)}};n.eq=n["==="]=function(e,t,r){if(e!==t){this.validatorError(r.path+" is not stricly equal to "+t+".",r)}};n.min=n.gte=n.greaterThanOrEqual=n[">="]=function(e,t,r){if(typeof t!=="number"){throw new i.SchemaError("Bad schema (at "+r.path+"), 'min' should be a number.")}if(typeof e!=="number"||!(e>=t)){this.validatorError(r.path+" is not greater than or equal to "+t+".",r)}};n.max=n.lte=n.lesserThanOrEqual=n["<="]=function(e,t,r){if(typeof t!=="number"){throw new i.SchemaError("Bad schema (at "+r.path+"), 'max' should be a number.")}if(typeof e!=="number"||!(e<=t)){this.validatorError(r.path+" is not lesser than or equal to "+t+".",r)}};n.gt=n.greaterThan=n[">"]=function(e,t,r){if(typeof t!=="number"){throw new i.SchemaError("Bad schema (at "+r.path+"), 'greaterThan' should be a number.")}if(typeof e!=="number"||!(e>t)){this.validatorError(r.path+" is not greater than "+t+".",r)}};n.lt=n.lesserThan=n["<"]=function(e,t,r){if(typeof t!=="number"){throw new i.SchemaError("Bad schema (at "+r.path+"), 'lesserThan' should be a number.")}if(typeof e!=="number"||!(e<t)){this.validatorError(r.path+" is not lesser than "+t+".",r)}};n.length=function(e,t,r){if(typeof t!=="number"){throw new i.SchemaError("Bad schema (at "+r.path+"), 'length' should be a number.")}try{if(!(e.length===t)){throw true}}catch(e){this.validatorError(r.path+" has not a length equal to "+t+".",r)}};n.minLength=function(e,t,r){if(typeof t!=="number"){throw new i.SchemaError("Bad schema (at "+r.path+"), 'minLength' should be a number.")}try{if(!(e.length>=t)){throw true}}catch(e){this.validatorError(r.path+" has not a length greater than or equal to "+t+".",r)}};n.maxLength=function(e,t,r){if(typeof t!=="number"){throw new i.SchemaError("Bad schema (at "+r.path+"), 'maxLength' should be a number.")}try{if(!(e.length<=t)){throw true}}catch(e){this.validatorError(r.path+" has not a length lesser than or equal to "+t+".",r)}};n.match=function(e,t,r){if(typeof t!=="string"&&!(t instanceof RegExp)){throw new i.SchemaError("Bad schema (at "+r.path+"), 'match' should be a RegExp or a string.")}if(t instanceof RegExp){if(typeof e!=="string"||!e.match(t)){this.validatorError(r.path+" does not match "+t+" .",r)}}else if(typeof e!=="string"||!e.match(new RegExp(t))){this.validatorError(r.path+" does not match /"+t+"/ .",r)}};n.in=function(e,t,r){var n,o=false;if(!Array.isArray(t)){throw new i.SchemaError("Bad schema (at "+r.path+"), 'in' should be an array.")}for(n=0;n<t.length;n++){if(i.isEqual(e,t[n])){o=true;break}}if(!o){this.validatorError(r.path+" should be in "+JSON.stringify(t)+".",r)}};n.notIn=function(e,t,r){var n;if(!Array.isArray(t)){throw new i.SchemaError("Bad schema (at "+r.path+"), 'not-in' should be an array.")}for(n=0;n<t.length;n++){if(i.isEqual(e,t[n])){this.validatorError(r.path+" should not be in "+JSON.stringify(t)+".",r)}}}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./core.js":6}],9:[function(e,t,r){(function(e){(function(){"use strict";const r={};const n=1+4*Number.EPSILON;const i=4*Number.MIN_VALUE;function o(e,t,n=r){var i={leftStack:[],rightStack:[],like:!!n.like,oneWay:!!n.oneWay,around:!!n.around,unordered:!!n.unordered};return s(i,e,t)}function s(t,r,o){var a,f,l,u,c,h,p,d,y,g,m,b,w,E,S,O,k;if(r===o){return true}if(typeof r!==typeof o){return false}if(typeof r==="number"){if(Number.isNaN(r)&&Number.isNaN(o)){return true}if(t.around){if(r===0||o===0){if(r<=o+i&&o<=r+i){return true}}else if(r<=o*n&&o<=r*n){return true}}}if(!r!==!o){return false}if(!r){return false}if(typeof r==="object"){y=t.leftStack.indexOf(r);g=t.rightStack.indexOf(o);if(y>=0){t.leftCircular=true}if(g>=0){t.rightCircular=true}if(t.leftCircular&&t.rightCircular){return true}if(!t.like&&Object.getPrototypeOf(r)!==Object.getPrototypeOf(o)){return false}if(Array.isArray(r)){if(!Array.isArray(o)||r.length!==o.length){return false}if(t.unordered){if(h){h.length=0}else{h=new Array(r.length)}f=r.length;u=o.length;for(a=0;a<f;a++){if(!h[a]){if(r[a]===o[a]){continue}t.leftStack.push(r);t.rightStack.push(o);m=s(t,r[a],o[a]);t.leftStack.pop();t.rightStack.pop();if(m){h[a]=true;continue}}c=false;for(l=0;l<u;l++){if(a===l||h[l]){continue}if(r[a]===o[l]){c=true;h[l]=true;break}t.leftStack.push(r);t.rightStack.push(o);m=s(t,r[a],o[l]);t.leftStack.pop();t.rightStack.pop();if(m){c=true;h[l]=true;break}}if(!c){return false}}}else{for(a=0,f=r.length;a<f;a++){if(r[a]===o[a]){continue}t.leftStack.push(r);t.rightStack.push(o);m=s(t,r[a],o[a]);t.leftStack.pop();t.rightStack.pop();if(!m){return false}}}}else if(e.isBuffer(r)){return e.isBuffer(o)&&r.equals(o)}else{if(Array.isArray(o)){return false}if(typeof r.valueOf==="function"&&typeof o.valueOf==="function"){b=r.valueOf();w=o.valueOf();if(b!==r&&w!==o){E=Object.getPrototypeOf(r);O=E&&E.constructor;S=Object.getPrototypeOf(o);k=S&&S.constructor;if(O&&k&&(O===k||r instanceof k||o instanceof O)){t.leftStack.push(r);t.rightStack.push(o);m=s(t,b,w);t.leftStack.pop();t.rightStack.pop();if(!m){return false}}}}p=Object.keys(r);for(a=0,f=p.length;a<f;a++){d=p[a];if(r[d]===undefined){continue}if(o[d]===undefined){return false}if(r[d]===o[d]){continue}t.leftStack.push(r);t.rightStack.push(o);m=s(t,r[d],o[d]);t.leftStack.pop();t.rightStack.pop();if(!m){return false}}if(!t.oneWay){p=Object.keys(o);for(a=0,f=p.length;a<f;a++){d=p[a];if(o[d]===undefined){continue}if(r[d]===undefined){return false}}}}return true}return false}t.exports=o}).call(this)}).call(this,{isBuffer:e("../node_modules/is-buffer/index.js")})},{"../node_modules/is-buffer/index.js":15}],10:[function(e,t,r){"use strict";r.tierMask=function(e,t,o=0,s=Infinity){if(!e||typeof e!=="object"){throw new TypeError("Bad schema, it should be an object or an array of object!")}var a={mask:r.tierMask,tier:o,iterate:n,check:i,depth:0,depthLimit:s};return a.iterate(e,t)};r.tagMask=function(e,t,i,s=Infinity){if(!e||typeof e!=="object"){throw new TypeError("Bad schema, it should be an object or an array of object!")}if(!(i instanceof Set)){if(Array.isArray(i)){i=new Set(i)}else{i=new Set([i])}}var a={mask:r.tagMask,tags:i,iterate:n,check:o,depth:0,depthLimit:s};return a.iterate(e,t)};function n(e,t){var r,n,i=t,o,s,a;if(!e||typeof e!=="object"){return}if(Array.isArray(e)){for(r=0;r<e.length;r++){try{i=this.mask(e[r],t,this.tier||this.tags,this.depthLimit-this.depth)}catch(e){continue}return i}return}a=this.check(e);if(a===false){return}else if(a===true&&e.noSubmasking){return i}if(this.depth>=this.depthLimit){return i}if(e.of&&typeof e.of==="object"){if(!i||typeof i!=="object"&&typeof i!=="function"){return i}if(Array.isArray(i)){if(i===t){i=[];o=t}else{o=i}for(r=0;r<o.length;r++){this.depth++;i[r]=this.iterate(e.of,o[r]);this.depth--}}else{if(i===t){i={};o=t}else{o=i}for(n in o){this.depth++;i[n]=this.iterate(e.of,o[n]);this.depth--}}}if(e.properties&&typeof e.properties==="object"){if(!i||typeof i!=="object"&&typeof i!=="function"){return i}if(i===t){i={};o=t}else{o=i}if(Array.isArray(e.properties)){for(r=0;r<e.properties.length;r++){n=e.properties[r];i[n]=o[n]}}else{for(n in e.properties){if(!e.properties[n]||typeof e.properties[n]!=="object"){continue}this.depth++;s=this.iterate(e.properties[n],o[n]);this.depth--;if(s!==undefined){i[n]=s}}if(e.extraProperties){for(n in o){if(!e.properties[n]){i[n]=o[n]}}}}}if(Array.isArray(e.elements)){if(!Array.isArray(i)){return i}if(i===t){i=[];o=t}else{o=i}for(r=0;r<e.elements.length;r++){this.depth++;i[r]=this.iterate(e.elements[r],o[r]);this.depth--}}return i}function i(e){if(e.tier===undefined){return}if(this.tier<e.tier){return false}return true}function o(e){var t,r;if(!Array.isArray(e.tags)||!e.tags.length){return}r=e.tags.length;for(t=0;t<r;t++){if(this.tags.has(e.tags[t])){return true}}return false}r.getAllSchemaTags=function(e,t=new Set,r=10){var n,i;if(!e||typeof e!=="object"||r<=0){return t}if(Array.isArray(e)){for(n=0;n<e.length;n++){this.getAllSchemaTags(e[n],t,r-1)}return t}if(e.tags){e.tags.forEach(e=>t.add(e))}if(e.noSubmasking){return t}if(e.of&&typeof e.of==="object"){this.getAllSchemaTags(e.of,t,r-1)}if(e.properties&&typeof e.properties==="object"&&!Array.isArray(e.properties)){for(i in e.properties){if(e.properties[i]||typeof e.properties[i]==="object"){this.getAllSchemaTags(e.properties[i],t,r-1)}}}if(Array.isArray(e.elements)){for(n=0;n<e.elements.length;n++){this.getAllSchemaTags(e.elements[n],t,r-1)}}return t}},{}],11:[function(e,t,r){(function(r){(function(){"use strict";const n=e("string-kit/lib/latinize.js");const i=e("string-kit/lib/toTitleCase.js");if(!r){r=window}if(!r.DOORMEN_GLOBAL_EXTENSIONS){r.DOORMEN_GLOBAL_EXTENSIONS={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.sanitizers){r.DOORMEN_GLOBAL_EXTENSIONS.sanitizers={}}const o=Object.create(r.DOORMEN_GLOBAL_EXTENSIONS.sanitizers);t.exports=o;const s=e("./core.js");o.toString=(e=>{if(typeof e==="string"){return e}try{return""+e}catch(t){return e}});o.toNumber=(e=>{if(typeof e==="number"){return e}else if(!e){return NaN}else if(typeof e==="string"){return parseFloat(e)}return NaN});o.toBoolean=(e=>{if(typeof e==="boolean"){return e}switch(e){case 1:case"1":case"on":case"On":case"ON":case"true":case"True":case"TRUE":case"yes":case"Yes":case"YES":return true;case 0:case"0":case"off":case"Off":case"OFF":case"false":case"False":case"FALSE":case"no":case"No":case"NO":return false;default:return!!e}});o.toInteger=(e=>{if(typeof e==="number"){return Math.round(e)}else if(!e){return NaN}else if(typeof e==="string"){return Math.round(parseFloat(e))}return NaN});o.toArray=(e=>{if(Array.isArray(e)){return e}if(e===undefined){return[]}if(e&&typeof e==="object"&&s.typeCheckers.arguments(e)){return Array.prototype.slice.call(e)}return[e]});o.toDate=(e=>{var t;if(e instanceof Date){return e}if(typeof e==="number"||typeof e==="string"||e&&typeof e==="object"&&e.constructor.name==="Date"){t=new Date(e);return isNaN(t)?e:t}return e});o.removeExtraProperties=((e,t,r)=>{var n,i,o;if(!e||typeof e!=="object"&&typeof e!=="function"||!t.properties||typeof t.properties!=="object"){return e}if(r){o=Array.isArray(e)?e.slice():{};if(Array.isArray(t.properties)){for(n=0;n<t.properties.length;n++){i=t.properties[n];if(i in e){o[i]=e[i]}}}else{for(i in t.properties){if(i in e){o[i]=e[i]}}}return o}if(Array.isArray(t.properties)){for(i in e){if(t.properties.indexOf(i)===-1){delete e[i]}}}else{for(i in e){if(!(i in t.properties)){delete e[i]}}}return e});o.trim=(e=>typeof e==="string"?e.trim():e);o.toUpperCase=(e=>typeof e==="string"?e.toUpperCase():e);o.toLowerCase=(e=>typeof e==="string"?e.toLowerCase():e);o.capitalize=(e=>typeof e==="string"?i(e,o.capitalize.toTitleCaseOptions):e);o.capitalize.toTitleCaseOptions={};o.titleCase=(e=>typeof e==="string"?i(e,o.titleCase.toTitleCaseOptions):e);o.titleCase.toTitleCaseOptions={zealous:1,preserveAllCaps:true};o.latinize=(e=>typeof e==="string"?n(e):e);o.dashToCamelCase=(e=>typeof e==="string"?e.replace(/-(.)/g,(e,t)=>t.toUpperCase()):e);function a(e,t,r){if(t.leftPadding){return t.leftPadding[0].repeat(r)+e}if(t.rightPadding){return e+t.rightPadding[0].repeat(r)}return e+" ".repeat(r)}o.resize=((e,t)=>{if(typeof e!=="string"){return e}if(t.length){if(e.length>t.length){return e.slice(0,t.length)}if(e.length<t.length){return a(e,t,t.length-e.length)}return e}if(t.maxLength&&e.length>t.maxLength){return e.slice(0,t.maxLength)}if(t.minLength&&e.length<t.minLength){return a(e,t,t.minLength-e.length)}return e});o.nullToUndefined=(e=>e===null?undefined:e);o.mongoId=(t=>{if(typeof t!=="string"){return t}if(s.isBrowser){return t}try{var r=e("mongodb");return r.ObjectID(t)}catch(e){return t}})}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./core.js":6,mongodb:14,"string-kit/lib/latinize.js":23,"string-kit/lib/toTitleCase.js":25}],12:[function(e,t,r){"use strict";const n={optional:true,type:"strictObject",extraProperties:true,properties:{type:{optional:true,type:"string"},optional:{optional:true,type:"boolean"},extraProperties:{optional:true,type:"boolean"},default:{optional:true},value:{optional:true},sanitize:{optional:true,sanitize:"toArray",type:"array",of:{type:"string"}},filter:{optional:true,type:"strictObject"},constraints:{optional:true,type:"array",of:{type:"strictObject",extraProperties:true,properties:{enforce:{type:"string"},resolve:{type:"boolean",default:false},ifEmtpy:{type:"boolean",default:false}}}},tier:{optional:true,type:"integer"},tags:{optional:true,sanitize:"toArray",type:"array",of:{type:"string"}},instanceOf:{optional:true,type:"classId"},min:{optional:true,type:"integer"},max:{optional:true,type:"integer"},length:{optional:true,type:"integer"},minLength:{optional:true,type:"integer"},maxLength:{optional:true,type:"integer"},match:{optional:true,type:"regexp"},in:{optional:true,type:"array"},notIn:{optional:true,type:"array"},hooks:{optional:true,type:"strictObject",of:{type:"array",sanitize:"toArray",of:{type:"function"}}}}};const i=[n,{type:"array",of:n}];n.properties.of=i;n.properties.properties=[{optional:true,type:"strictObject",of:i},{optional:true,type:"array",of:{type:"string"}}];n.properties.elements={optional:true,type:"array",of:i};t.exports=i},{}],13:[function(e,t,r){(function(r,n){(function(){"use strict";if(!r){r=window}if(!r.DOORMEN_GLOBAL_EXTENSIONS){r.DOORMEN_GLOBAL_EXTENSIONS={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers){r.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers={}}const i=Object.create(r.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers);t.exports=i;const o=e("./core.js");i.undefined=(e=>e===undefined);i.null=(e=>e===null);i.boolean=(e=>typeof e==="boolean");i.number=(e=>typeof e==="number");i.string=(e=>typeof e==="string");i.object=(e=>e&&typeof e==="object");i.function=(e=>typeof e==="function");i.array=(e=>Array.isArray(e));i.error=(e=>e instanceof Error);i.date=(e=>e instanceof Date);i.arguments=(e=>Object.prototype.toString.call(e)==="[object Arguments]");i.buffer=(e=>{try{return e instanceof n}catch(e){return false}});i.strictObject=(e=>e&&typeof e==="object"&&!Array.isArray(e));i.looseObject=(e=>e&&typeof e==="object"||typeof e==="function");i.classId=(e=>typeof e==="function"||typeof e==="string"&&e.length);i.unset=(e=>e===undefined||e===null);i.regexp=(e=>{if(e instanceof RegExp){return true}if(typeof e!=="string"){return false}try{new RegExp(e);return true}catch(e){return false}});i.schema=(e=>{try{o.validateSchema(e)}catch(e){return false}return true});i.real=(e=>typeof e==="number"&&!isNaN(e)&&isFinite(e));i.integer=(e=>typeof e==="number"&&isFinite(e)&&e===Math.round(e));i.hex=(e=>typeof e==="string"&&/^[0-9a-fA-F]+$/.test(e));i.ip=((e,t)=>i.ipv4(e,t)||i.ipv6(e,t));i.ipv4=((e,t,r)=>{var n,i,o;if(typeof e!=="string"){return false}if(!r&&!/^[0-9.]+$/.test(e)){return false}i=e.split(".");if(i.length!==4){return false}for(n=0;n<i.length;n++){if(!i[n].length||i[n].length>3){return false}o=parseInt(i[n],10);if(!(o>=0&&o<=255)){return false}}return true});i.ipv6=((e,t,r)=>{var n,i,o=false,s=false,a=false;if(typeof e!=="string"){return false}if(!r&&!/^[0-9a-f:]+$/.test(e)){return false}i=e.split(":");if(i.length>9&&i.length<3){return false}for(n=0;n<i.length;n++){if(!i[n].length){if(n===0){s=true;if(i[1].length){return false}}else if(n===i.length-1){a=true;if(i[n-1].length){return false}}else{if(o){return false}o=true}}else if(i[n].length>4){return false}}if(i.length<8&&!o){return false}if(i.length-(s?1:0)-(a?1:0)>8){return false}return true});i.hostname=((e,t,r)=>{var n,i;if(typeof e!=="string"){return false}if(!r&&!/^[^\s/$?#@:]+$/.test(e)){return false}i=e.split(".");for(n=0;n<i.length;n++){if(!i[n].length&&n!==i.length-1){return false}if(i[n].length>63){return false}}return true});i.host=((e,t)=>i.ip(e,t)||i.hostname(e,t));i.url=((e,t,r)=>{if(typeof e!=="string"){return false}var n=e.match(/^([a-z+.-]+):\/\/((?:([^\s@/:]+)(?::([^\s@/:]+))?@)?(([0-9.]+)|([0-9a-f:]+)|([^\s/$?#@:]+))(:[0-9]+)?)?(\/[^\s]*)?$/);if(!n){return false}if(r&&n[1]!=="http"&&n[1]!=="https"&&n[1]!=="ftp"){return false}if(!n[2]&&n[1]!=="file"){return false}if(n[6]){if(!i.ipv4(n[6],t,true)){return false}}if(n[7]){if(!i.ipv6(n[7],t,true)){return false}}if(n[8]){if(!i.hostname(n[8],t,true)){return false}}return true});i.weburl=((e,t)=>i.url(e,t,true));i.email=((e,t)=>{var r,n,o;if(typeof e!=="string"){return false}if(e.length>254){return false}r=e.match(/^([a-zA-Z0-9._#~!$&*+=,;:\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF-]+)@([^\s/$?#@:]+)$/);if(!r){return false}if(r[1].length>64){return false}o=r[1].split(".");for(n=0;n<o.length;n++){if(!o[n].length){return false}}if(!i.hostname(r[2],t,true)){return false}return true});i.mongoId=(e=>{if(e&&typeof e==="object"&&e.constructor.name==="ObjectID"&&e.id&&typeof e.toString==="function"){e=e.toString()}return typeof e==="string"&&e.length===24&&/^[0-9a-f]{24}$/.test(e)})}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},e("buffer").Buffer)},{"./core.js":6,buffer:14}],14:[function(e,t,r){},{}],15:[function(e,t,r){t.exports=function(e){return e!=null&&(n(e)||i(e)||!!e._isBuffer)};function n(e){return!!e.constructor&&typeof e.constructor.isBuffer==="function"&&e.constructor.isBuffer(e)}function i(e){return typeof e.readFloatLE==="function"&&typeof e.slice==="function"&&n(e.slice(0,0))}},{}],16:[function(e,t,r){var n=t.exports={};var i;var o;function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=s}}catch(e){i=s}try{if(typeof clearTimeout==="function"){o=clearTimeout}else{o=a}}catch(e){o=a}})();function f(e){if(i===setTimeout){return setTimeout(e,0)}if((i===s||!i)&&setTimeout){i=setTimeout;return setTimeout(e,0)}try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function l(e){if(o===clearTimeout){return clearTimeout(e)}if((o===a||!o)&&clearTimeout){o=clearTimeout;return clearTimeout(e)}try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}var u=[];var c=false;var h;var p=-1;function d(){if(!c||!h){return}c=false;if(h.length){u=h.concat(u)}else{p=-1}if(u.length){y()}}function y(){if(c){return}var e=f(d);c=true;var t=u.length;while(t){h=u;u=[];while(++p<t){if(h){h[p].run()}}p=-1;t=u.length}h=null;c=false;l(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}u.push(new g(e,t));if(u.length===1&&!c){f(y)}};function g(e,t){this.fun=e;this.array=t}g.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function m(){}n.on=m;n.addListener=m;n.once=m;n.off=m;n.removeListener=m;n.removeAllListeners=m;n.emit=m;n.prependListener=m;n.prependOnceListener=m;n.listeners=function(e){return[]};n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},{}],17:[function(e,t,r){"use strict";function n(e){this.sign=1;this.digits=[];this.exposant=0;this.special=null;this.set(e)}t.exports=n;n.prototype.set=function(e){var t,r,n,i,o,s,a,f,l;e=+e;if(!Number.isFinite(e)){this.special=e;return null}e=""+e;t=e.match(/(-)?([0-9]+)(?:.([0-9]+))?(?:e([+-][0-9]+))?/);if(!t){throw new Error("Unexpected error")}this.sign=t[1]?-1:1;this.exposant=t[2].length+(parseInt(t[4],10)||0);a=0;f=false;l=0;for(o=0,s=t[2].length;o<s;o++){i=+t[2][o];if(i!==0){f=true;this.digits[a]=i;a++;l=a}else if(f){this.digits[a]=i;a++}else{this.exposant--}}if(t[3]){for(o=0,s=t[3].length;o<s;o++){i=+t[3][o];if(i!==0){f=true;this.digits[a]=i;a++;l=a}else if(f){this.digits[a]=i;a++}else{this.exposant--}}}if(l!==a){this.digits.length=l}};n.prototype.toNumber=function(){if(this.special!==null){return this.special}return parseFloat((this.sign<0?"-":"")+"0."+this.digits.join("")+"e"+this.exposant)};n.prototype.toString=function(...e){if(this.special!==null){return""+this.special}if(this.exposant>20||this.exposant<-20){return this.toScientificString(...e)}return this.toNoExpString(...e)};n.prototype.toScientific=n.prototype.toScientificString=function(){if(this.special!==null){return""+this.special}var e=this.sign<0?"-":"";if(!this.digits.length){return e+"0"}e+=this.digits[0];if(this.digits.length>1){e+="."+this.digits.join("").slice(1)}e+="e"+(this.exposant>1?"+":this.exposant<1?"-":"")+(this.exposant-1);return e};n.prototype.toNoExp=n.prototype.toNoExpString=function(e=1,t=0,r=false,n=this.exposant){if(this.special!==null){return""+this.special}var i=this.sign<0?"-":"";if(!this.digits.length){i+="0".repeat(e);if(t&&!r){i+="."+"0".repeat(t)}return i}var o=this.digits.join("");if(n<=0){i+="0".repeat(e)+"."+"0".repeat(-n)+o;if(t&&o.length-n<t){i+="0".repeat(t-o.length+n)}return i}if(n>=this.digits.length){if(n<e){i+="0".repeat(e-n)}i+=o+"0".repeat(n-this.digits.length);if(t&&!r){i+="."+"0".repeat(t)}return i}if(n<e){i+="0".repeat(e-n)}i+=o.slice(0,n)+"."+o.slice(n);if(t&&o.length-n<t&&(!r||o.length-n>0)){i+="0".repeat(t-o.length+n)}return i};const i=["","k","M","G","T","P","E","Z","Y"];const o=["","m","µ","n","p","f","a","z","y"];n.prototype.toMetric=n.prototype.toMetricString=function(){if(this.special!==null){return""+this.special}if(!this.digits.length){return this.sign>0?"0":"-0"}var e="",t;if(this.exposant>0){t=1+(this.exposant-1)%3;e=i[Math.floor((this.exposant-1)/3)];if(e===undefined){return this.toScientificString()}}else{t=3- -this.exposant%3;e=o[1+Math.floor(-this.exposant/3)];if(e===undefined){return this.toScientificString()}}return this.toNoExpString(undefined,undefined,undefined,t)+e};n.prototype.precision=function(e){if(this.special!==null||e>=this.digits.length){return this}if(e<0){this.digits.length=0;return this}if(this.digits[e]>=5){let t=e-1,r=false;for(;t>=0;t--){if(this.digits[t]<9){this.digits[t]++;r=true;break}else{this.digits[t]=0}}if(!r){this.exposant++;this.digits[0]=1;this.digits.length=1}else{this.digits.length=t+1}}else{this.digits.length=e;this.removeTrailingZero()}return this};n.prototype.round=function(e=0){var t=this.exposant+e;return this.precision(t)};n.prototype.removeTrailingZero=function(){var e=this.digits.length-1;while(e>=0&&this.digits[e]===0){e--}this.digits.length=e+1}},{}],18:[function(e,t,r){"use strict";t.exports={reset:"[0m",bold:"[1m",dim:"[2m",italic:"[3m",underline:"[4m",inverse:"[7m",defaultColor:"[39m",black:"[30m",red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m",grey:"[90m",gray:"[90m",brightBlack:"[90m",brightRed:"[91m",brightGreen:"[92m",brightYellow:"[93m",brightBlue:"[94m",brightMagenta:"[95m",brightCyan:"[96m",brightWhite:"[97m",defaultBgColor:"[49m",bgBlack:"[40m",bgRed:"[41m",bgGreen:"[42m",bgYellow:"[43m",bgBlue:"[44m",bgMagenta:"[45m",bgCyan:"[46m",bgWhite:"[47m",bgGrey:"[100m",bgGray:"[100m",bgBrightBlack:"[100m",bgBrightRed:"[101m",bgBrightGreen:"[102m",bgBrightYellow:"[103m",bgBrightBlue:"[104m",bgBrightMagenta:"[105m",bgBrightCyan:"[106m",bgBrightWhite:"[107m"}},{}],19:[function(e,t,r){"use strict";r.regExp=r.regExpPattern=(e=>e.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1"));r.regExpReplacement=(e=>e.replace(/\$/g,"$$$$"));r.format=(e=>e.replace(/%/g,"%%"));r.jsSingleQuote=(e=>r.control(e).replace(/'/g,"\\'"));r.jsDoubleQuote=(e=>r.control(e).replace(/"/g,'\\"'));r.shellArg=(e=>"'"+e.replace(/'/g,"'\\''")+"'");var n={"\r":"\\r","\n":"\\n","\t":"\\t","":"\\x7f"};r.control=((e,t=false)=>e.replace(/[\x00-\x1f\x7f]/g,e=>{if(t&&(e==="\n"||e==="\t")){return e}if(n[e]!==undefined){return n[e]}var r=e.charCodeAt(0).toString(16);if(r.length%2){r="0"+r}return"\\x"+r}));var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};r.html=(e=>e.replace(/[&<>]/g,e=>i[e]));r.htmlAttr=(e=>e.replace(/[&<>"]/g,e=>i[e]));r.htmlSpecialChars=(e=>e.replace(/[&<>"']/g,e=>i[e]));r.unicodePercentEncode=(e=>e.replace(/[\x00-\x1f\u0100-\uffff\x7f%]/g,e=>{try{return encodeURI(e)}catch(e){return""}}));r.httpHeaderValue=(e=>r.unicodePercentEncode(e))},{}],20:[function(e,t,r){(function(t){(function(){"use strict";const n=e("./inspect.js").inspect;const i=e("./inspect.js").inspectError;const o=e("./escape.js");const s=e("./ansi.js");const a=e("./unicode.js");const f=e("./naturalSort.js");const l=e("./StringNumber.js");r.formatMethod=function(...e){var t=e[0];if(typeof t!=="string"){if(!t){t=""}else if(typeof t.toString==="function"){t=t.toString()}else{t=""}}var r,n=1,i=e.length,o=false,s=null,a=[];if(this.markupReset&&this.startingMarkupReset){t=(typeof this.markupReset==="function"?this.markupReset(a):this.markupReset)+t}t=t.replace(/\^(.?)|(%%)|%([+-]?)([0-9]*)(?:\[([^\]]*)\])?([a-zA-Z])/g,(t,f,l,c,h,p,d)=>{var y,g,m,w,E,S,O=[];if(l){return"%"}if(f){if(this.noMarkup){return"^"+f}if(f==="^"){return"^"}if(this.shiftMarkup&&this.shiftMarkup[f]){s=this.shiftMarkup[f];return""}if(s){if(!this.shiftedMarkup||!this.shiftedMarkup[s]||!this.shiftedMarkup[s][f]){return""}o=true;if(typeof this.shiftedMarkup[s][f]==="function"){y=this.shiftedMarkup[s][f](a)}else{y=this.shiftedMarkup[s][f];a.push(y)}s=null}else{if(!this.markup||!this.markup[f]){return""}o=true;if(typeof this.markup[f]==="function"){y=this.markup[f](a)}else{y=this.markup[f];a.push(y)}}return y}if(h){h=parseInt(h,10);if(c){if(c==="+"){h=n+h}else if(c==="-"){h=n-h}}}else{h=n}n++;if(h>=i||h<1){r=undefined}else{r=e[h]}if(u[d]){y=u[d](r,p,this);if(this.argumentSanitizer&&!u[d].noSanitize){y=this.argumentSanitizer(y)}if(p&&!u[d].noCommonModeArg){y=b(y,p)}return y}if(d==="F"){n--;if(p===undefined){return""}m=p.split(":");w=m[0];E=m[1];if(!w){return""}if(E&&(S=E.match(/%([+-]?)([0-9]*)[a-zA-Z]/g))){for(g=0;g<S.length;g++){c=S[g][1];h=S[g][2];if(h){h=parseInt(h,10);if(c){if(c==="+"){h=n+h}else if(c==="-"){h=n-h}}}else{h=n}n++;if(h>=i||h<1){O[g]=undefined}else{O[g]=e[h]}}}if(!this||!this.fn||typeof this.fn[w]!=="function"){return""}return this.fn[w].apply(this,O)}return""});if(o&&this.markupReset&&this.endingMarkupReset){t+=typeof this.markupReset==="function"?this.markupReset(a):this.markupReset}if(this.extraArguments){for(;n<i;n++){r=e[n];if(r===null||r===undefined){continue}else if(typeof r==="string"){t+=r}else if(typeof r==="number"){t+=r}else if(typeof r.toString==="function"){t+=r.toString()}}}return t};const u={};u.s=(e=>{if(typeof e==="string"){return e}if(e===null||e===undefined||e===true||e===false){return"("+e+")"}if(typeof e==="number"){return""+e}if(typeof e.toString==="function"){return e.toString()}return"("+e+")"});u.r=(e=>u.s(e));u.r.noSanitize=true;u.S=((e,t,n)=>{var i=e=>r.markupMethod.call(n,n.argumentSanitizer?n.argumentSanitizer(e):e);if(typeof e==="string"){return i(e)}if(e===null||e===undefined||e===true||e===false){return"("+e+")"}if(typeof e==="number"){return""+e}if(typeof e.toString==="function"){return i(e.toString())}return i("("+e+")")});u.S.noSanitize=true;u.S.noCommonModeArg=true;u.N=((e,r)=>{if(typeof e==="string"){return e}if(e===null||e===undefined||e===true||e===false||typeof e==="number"){return""+e}if(Array.isArray(e)){e=e.map(e=>u.N(e,true));if(r){return"["+e.join(",")+"]"}return e.join(", ")}if(t.isBuffer(e)){e=[...e].map(e=>{e=e.toString(16);if(e.length===1){e="0"+e}return e});return"<"+e.join(" ")+">"}var n=Object.getPrototypeOf(e);if(n===null||n===Object.prototype){e=Object.entries(e).sort(f).map(e=>e[0]+": "+u.N(e[1],true));if(r){return"{"+e.join(", ")+"}"}return e.join(", ")}if(typeof e.inspect==="function"){return e.inspect()}if(typeof e.toString==="function"){return e.toString()}return"("+e+")"});u.n=(e=>u.N(e,true));u.f=((e,t)=>{var r,n,i,o,s,a=1,f=0,u=false,c=null,h=null;if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){e=0}if(t){m.lastIndex=0;while(r=m.exec(t)){[,n,i]=r;if(n==="z"){a=+i}else if(!n){if(i[0]==="."){o=i[i.length-1];if(o==="!"){c=f=parseInt(i.slice(1,-1),10)}else if(o==="?"){c=f=parseInt(i.slice(1,-1),10);u=true}else{c=parseInt(i.slice(1),10)}}else if(i[i.length-1]==="."){c=-parseInt(i.slice(0,-1),10)}else{h=parseInt(i,10)}}}}s=new l(e);if(c!==null){s.round(c)}if(h!==null){s.precision(h)}return s.toString(a,f,u)});u.f.noSanitize=true;u.k=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){return"0"}var t=new l(e);t.precision(3);return t.toMetricString()});u.k.noSanitize=true;u.e=((e,t)=>{var r,n,i;if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){e=0}if(t){m.lastIndex=0;if(r=m.exec(t)){[,n,i]=r;if(!n){return""+e.toExponential(parseInt(i,10)-1)}}}return""+e.toExponential()});u.e.noSanitize=true;u.d=u.i=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.floor(e)}return"0"});u.i.noSanitize=true;u.u=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.max(Math.floor(e),0)}return"0"});u.u.noSanitize=true;u.U=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.max(Math.floor(e),1)}return"1"});u.U.noSanitize=true;u.m=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){return"(NaN)"}var t="";if(e<0){t="-";e=-e}var r=k(e),n=e-r;if(!n){return t+r+"°"}var i=k(n*60),o=k(n*3600-i*60);if(o){return t+r+"°"+(""+i).padStart(2,"0")+"′"+(""+o).padStart(2,"0")+"″"}return t+r+"°"+(""+i).padStart(2,"0")+"′"});u.m.noSanitize=true;u.t=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){return"(NaN)"}var t=Math.floor(e/1e3);if(t<60){return t+"s"}var r=Math.floor(t/60);t=t%60;if(r<60){return r+"min"+(""+t).padStart(2,"0")+"s"}var n=Math.floor(r/60);r=r%60;return n+"h"+(""+r).padStart(2,"0")+"min"+(""+t).padStart(2,"0")+"s"});u.t.noSanitize=true;u.h=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.max(Math.floor(e),0).toString(16)}return"0"});u.h.noSanitize=true;u.x=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){return"00"}var t=""+Math.max(Math.floor(e),0).toString(16);if(t.length%2){t="0"+t}return t});u.x.noSanitize=true;u.o=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.max(Math.floor(e),0).toString(8)}return"0"});u.o.noSanitize=true;u.b=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.max(Math.floor(e),0).toString(2)}return"0"});u.b.noSanitize=true;u.X=(e=>{if(typeof e==="string"){e=t.from(e)}else if(!t.isBuffer(e)){return""}return e.toString("hex")});u.X.noSanitize=true;u.z=(e=>{if(typeof e==="string"){e=t.from(e)}else if(!t.isBuffer(e)){return""}return e.toString("base64")});u.Z=(e=>{if(typeof e==="string"){e=t.from(e)}else if(!t.isBuffer(e)){return""}return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]{1,2}$/g,"")});const c={};u.I=((e,t,r)=>w(e,t,r,c));u.I.noSanitize=true;const h={noFunc:true,enumOnly:true,noDescriptor:true,useInspect:true,useInspectPropertyBlackList:true};u.Y=((e,t,r)=>w(e,t,r,h));u.Y.noSanitize=true;const p={minimal:true,noIndex:true};u.O=((e,t,r)=>w(e,t,r,p));u.O.noSanitize=true;const d={};u.E=((e,t,r)=>w(e,t,r,d,true));u.E.noSanitize=true;u.J=(e=>e===undefined?"null":JSON.stringify(e));u.D=(()=>"");u.D.noSanitize=true;var y={argumentSanitizer:e=>o.control(e,true),extraArguments:true,color:false,noMarkup:false,endingMarkupReset:true,startingMarkupReset:false,markupReset:s.reset,shiftMarkup:{"#":"background"},markup:{":":s.reset," ":s.reset+" ","-":s.dim,"+":s.bold,_:s.underline,"/":s.italic,"!":s.inverse,b:s.blue,B:s.brightBlue,c:s.cyan,C:s.brightCyan,g:s.green,G:s.brightGreen,k:s.black,K:s.brightBlack,m:s.magenta,M:s.brightMagenta,r:s.red,R:s.brightRed,w:s.white,W:s.brightWhite,y:s.yellow,Y:s.brightYellow},shiftedMarkup:{background:{":":s.reset," ":s.reset+" ",b:s.bgBlue,B:s.bgBrightBlue,c:s.bgCyan,C:s.bgBrightCyan,g:s.bgGreen,G:s.bgBrightGreen,k:s.bgBlack,K:s.bgBrightBlack,m:s.bgMagenta,M:s.bgBrightMagenta,r:s.bgRed,R:s.bgBrightRed,w:s.bgWhite,W:s.bgBrightWhite,y:s.bgYellow,Y:s.bgBrightYellow}}};r.createFormatter=(e=>r.formatMethod.bind(Object.assign({},y,e)));r.format=r.formatMethod.bind(y);r.format.default=y;r.markupMethod=function(e){if(typeof e!=="string"){if(!e){e=""}else if(typeof e.toString==="function"){e=e.toString()}else{e=""}}var t=false,r=null,n=[];if(this.markupReset&&this.startingMarkupReset){e=(typeof this.markupReset==="function"?this.markupReset(n):this.markupReset)+e}e=e.replace(/\^(.?)/g,(e,i)=>{var o;if(i==="^"){return"^"}if(this.shiftMarkup&&this.shiftMarkup[i]){r=this.shiftMarkup[i];return""}if(r){if(!this.shiftedMarkup||!this.shiftedMarkup[r]||!this.shiftedMarkup[r][i]){return""}t=true;if(typeof this.shiftedMarkup[r][i]==="function"){o=this.shiftedMarkup[r][i](n)}else{o=this.shiftedMarkup[r][i];n.push(o)}r=null}else{if(!this.markup||!this.markup[i]){return""}t=true;if(typeof this.markup[i]==="function"){o=this.markup[i](n)}else{o=this.markup[i];n.push(o)}}return o});if(t&&this.markupReset&&this.endingMarkupReset){e+=typeof this.markupReset==="function"?this.markupReset(n):this.markupReset}return e};r.createMarkup=(e=>r.markupMethod.bind(Object.assign({},y,e)));r.markup=r.markupMethod.bind(y);r.format.count=function(e){var t,r,n,i=1,o=0;if(typeof e!=="string"){return 0}var s=/%([+-]?)([0-9]*)(?:\[([^\]]*)\])?([a-zA-EG-Z])/g;while((t=s.exec(e))!==null){n=t[1];r=t[2];if(r){r=parseInt(r,10);if(n){if(n==="+"){r=i+r}else if(n==="-"){r=i-r}}}else{r=i}i++;if(o<r){o=r}}return o};r.format.hasFormatting=function(e){if(e.search(/\^(.?)|(%%)|%([+-]?)([0-9]*)(?:\[([^\]]*)\])?([a-zA-Z])/)!==-1){return true}return false};const g=/([a-zA-Z])(.[^a-zA-Z]*)/g;const m=/([a-zA-Z]|^)(.[^a-zA-Z]*)/g;function b(e,t){var r,n,i;g.lastIndex=0;while(r=g.exec(t)){[,n,i]=r;if(n==="L"){let t=a.width(e);i=+i||1;if(t>i){e=a.truncateWidth(e,i-1).trim()+"…";t=a.width(e)}if(t<i){e=" ".repeat(i-t)+e}}else if(n==="R"){let t=a.width(e);i=+i||1;if(t>i){e=a.truncateWidth(e,i-1).trim()+"…";t=a.width(e)}if(t<i){e=e+" ".repeat(i-t)}}}return e}function w(e,t,r,o,s=false){var a,f,l,u,c,h=3,p=r&&r.color?"color":"none";if(t){m.lastIndex=0;while(a=m.exec(t)){[,f,l]=a;if(f==="c"){if(l==="+"){p="color"}else if(l==="-"){p="none"}}else if(f==="l"){u=parseInt(l,10)||undefined}else if(f==="s"){c=parseInt(l,10)||undefined}else if(!f){h=parseInt(l,10)||1}}}if(s){return i(Object.assign({depth:h,style:p,outputMaxLength:u,maxLength:c},o),e)}return n(Object.assign({depth:h,style:p,outputMaxLength:u,maxLength:c},o),e)}const E=1e-10;const S=Math.round(1/E);function O(e){return Math.round(e*S)/S}function k(e){return Math.floor(e+E)}function A(e,t){return O(t*Math.round(e*(1/t)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./StringNumber.js":17,"./ansi.js":18,"./escape.js":19,"./inspect.js":21,"./naturalSort.js":24,"./unicode.js":26,buffer:14}],21:[function(e,t,r){(function(t,n){(function(){"use strict";const i=e("./escape.js");const o=e("./ansi.js");const s={};function a(e,t){if(arguments.length<2){t=e;e={}}else if(!e||typeof e!=="object"){e={}}var r={depth:0,ancestors:[]};if(!e.style){e.style=d.none}else if(typeof e.style==="string"){e.style=d[e.style]}if(e.depth===undefined){e.depth=3}if(e.maxLength===undefined){e.maxLength=250}if(e.outputMaxLength===undefined){e.outputMaxLength=5e3}if(e.nofunc){e.noFunc=true}if(e.minimal){e.noFunc=true;e.noDescriptor=true;e.noType=true;e.noArrayProperty=true;e.enumOnly=true;e.proto=false;e.funcDetails=false}var n=f(r,e,t);if(n.length>e.outputMaxLength){n=e.style.truncate(n,e.outputMaxLength)}return n}function f(e,r,n){var o,a,u,h,p,d,y,g,m,b,w,E,S,O="",k="",A="",v,j;g=typeof n;b=r.style.tab.repeat(e.depth);if(g==="function"&&r.noFunc){return""}if(e.key!==undefined){if(e.descriptor){A=[];if(!e.descriptor.configurable){A.push("-conf")}if(!e.descriptor.enumerable){A.push("-enum")}if(!e.descriptor.writable){A.push("-w")}if(A.length){A=A.join(" ")}else{A=""}}if(e.keyIsProperty){if(l(e.key)){k='"'+r.style.key(e.key)+'": '}else{k=r.style.key(e.key)+": "}}else if(!r.noIndex){k=r.style.index(e.key)}if(A){A=" "+r.style.type(A)}}m=e.noPre?"":b+k;if(n===undefined){O+=m+r.style.constant("undefined")+A+r.style.newline}else if(n===s){O+=m+r.style.constant("[empty]")+A+r.style.newline}else if(n===null){O+=m+r.style.constant("null")+A+r.style.newline}else if(n===false){O+=m+r.style.constant("false")+A+r.style.newline}else if(n===true){O+=m+r.style.constant("true")+A+r.style.newline}else if(g==="number"){O+=m+r.style.number(n.toString())+(r.noType?"":" "+r.style.type("number"))+A+r.style.newline}else if(g==="string"){if(n.length>r.maxLength){O+=m+'"'+r.style.string(i.control(n.slice(0,r.maxLength-1)))+'…"'+(r.noType?"":" "+r.style.type("string")+r.style.length("("+n.length+" - TRUNCATED)"))+A+r.style.newline}else{O+=m+'"'+r.style.string(i.control(n))+'"'+(r.noType?"":" "+r.style.type("string")+r.style.length("("+n.length+")"))+A+r.style.newline}}else if(t.isBuffer(n)){O+=m+r.style.inspect(n.inspect())+(r.noType?"":" "+r.style.type("Buffer")+r.style.length("("+n.length+")"))+A+r.style.newline}else if(g==="object"||g==="function"){a=u="";E=false;if(g==="function"){E=true;a=" "+r.style.funcName(n.name?n.name:"(anonymous)");u=r.style.length("("+n.length+")")}w=false;if(Array.isArray(n)){w=true;u=r.style.length("("+n.length+")")}if(!n.constructor){d="(no constructor)"}else if(!n.constructor.name){d="(anonymous)"}else{d=n.constructor.name}d=r.style.constructorName(d);h=Object.getPrototypeOf(n);O+=m;if(!r.noType){if(e.forceType){O+=r.style.type(e.forceType)}else{O+=d+a+u+" "+r.style.type(g)+A}if(!E||r.funcDetails){O+=" "}}if(w&&r.noArrayProperty){p=[...Array(n.length).keys()]}else{p=Object.getOwnPropertyNames(n)}if(r.sort){p.sort()}S=c(n,e,r);if(r.protoBlackList&&r.protoBlackList.has(h)){O+=r.style.limit("[skip]")+r.style.newline}else if(S!==undefined){if(typeof S==="string"){O+="=> "+S+r.style.newline}else{O+="=> "+f({depth:e.depth,ancestors:e.ancestors,noPre:true},r,S)}}else if(E&&!r.funcDetails){O+=r.style.newline}else if(!p.length&&!r.proto){O+=(w?"[]":"{}")+r.style.newline}else if(e.depth>=r.depth){O+=r.style.limit("[depth limit]")+r.style.newline}else if(e.ancestors.indexOf(n)!==-1){O+=r.style.limit("[circular]")+r.style.newline}else{O+=(w&&r.noType&&r.noArrayProperty?"[":"{")+r.style.newline;j=e.ancestors.slice();j.push(n);for(o=0;o<p.length&&O.length<r.outputMaxLength;o++){if(!w&&(r.propertyBlackList&&r.propertyBlackList.has(p[o])||r.useInspectPropertyBlackList&&n.inspectPropertyBlackList instanceof Set&&n.inspectPropertyBlackList.has(p[o]))){continue}if(w&&r.noArrayProperty&&!(p[o]in n)){O+=f({depth:e.depth+1,ancestors:j,key:p[o],keyIsProperty:false},r,s)}else{try{v=Object.getOwnPropertyDescriptor(n,p[o]);if(!v.enumerable&&r.enumOnly){continue}y=!w||!v.enumerable||isNaN(p[o]);if(!r.noDescriptor&&v&&(v.get||v.set)){O+=f({depth:e.depth+1,ancestors:j,key:p[o],keyIsProperty:y,descriptor:v,forceType:"getter/setter"},r,{get:v.get,set:v.set})}else{O+=f({depth:e.depth+1,ancestors:j,key:p[o],keyIsProperty:y,descriptor:r.noDescriptor?undefined:v},r,n[p[o]])}}catch(t){O+=f({depth:e.depth+1,ancestors:j,key:p[o],keyIsProperty:y,descriptor:r.noDescriptor?undefined:v},r,t)}}if(o<p.length-1){O+=r.style.comma}}if(r.proto){O+=f({depth:e.depth+1,ancestors:j,key:"__proto__",keyIsProperty:true},r,h)}O+=b+(w&&r.noType&&r.noArrayProperty?"]":"}");O+=r.style.newline}}if(e.depth===0){if(r.style.trim){O=O.trim()}if(r.style==="html"){O=i.html(O)}}return O}r.inspect=a;function l(e){if(!e.length){return true}return false}var u=["pending","fulfilled","rejected"];function c(e,t,r){if(typeof e.constructor!=="function"){return}if(e instanceof String){return e.toString()}if(e instanceof RegExp){return e.toString()}if(e instanceof Date){return e.toString()+" ["+e.getTime()+"]"}if(typeof Set==="function"&&e instanceof Set){return Array.from(e)}if(typeof Map==="function"&&e instanceof Map){return Array.from(e)}if(e instanceof Promise){if(n&&n.binding&&n.binding("util")&&n.binding("util").getPromiseDetails){let i=n.binding("util").getPromiseDetails(e);let o=u[i[0]];let s="Promise <"+o+">";if(o==="fulfilled"){s+=" "+f({depth:t.depth,ancestors:t.ancestors,noPre:true},r,i[1])}else if(o==="rejected"){if(i[1]instanceof Error){s+=" "+h({style:r.style,noErrorStack:true},i[1])}else{s+=" "+f({depth:t.depth,ancestors:t.ancestors,noPre:true},r,i[1])}}return s}}if(e._bsontype){return e.toString()}if(r.useInspect&&typeof e.inspect==="function"){return e.inspect()}return}function h(e,t){var r="",n,i,o;if(arguments.length<2){t=e;e={}}else if(!e||typeof e!=="object"){e={}}if(!(t instanceof Error)){return"inspectError(): it's not an error, using regular variable inspection: "+a(e,t)}if(!e.style){e.style=d.none}else if(typeof e.style==="string"){e.style=d[e.style]}if(t.stack&&!e.noErrorStack){n=p(e,t.stack)}i=t.type||t.constructor.name;o=t.code||t.name||t.errno||t.number;r+=e.style.errorType(i)+(o?" ["+e.style.errorType(o)+"]":"")+": ";r+=e.style.errorMessage(t.message)+"\n";if(n){r+=e.style.errorStack(n)+"\n"}if(t.from){r+=e.style.newline+e.style.errorFromMessage("From error:")+e.style.newline+h(e,t.from)}return r}r.inspectError=h;function p(e,t){if(arguments.length<2){t=e;e={}}else if(!e||typeof e!=="object"){e={}}if(!e.style){e.style=d.none}else if(typeof e.style==="string"){e.style=d[e.style]}if(!t){return}if((e.browser||n.browser)&&t.indexOf("@")!==-1){t=t.replace(/[</]*(?=@)/g,"").replace(/^\s*([^@]*)\s*@\s*([^\n]*)(?::([0-9]+):([0-9]+))?$/gm,(t,r,n,i,o)=>{return e.style.errorStack("    at ")+(r?e.style.errorStackMethod(r)+" ":"")+e.style.errorStack("(")+(n?e.style.errorStackFile(n):e.style.errorStack("unknown"))+(i?e.style.errorStack(":")+e.style.errorStackLine(i):"")+(o?e.style.errorStack(":")+e.style.errorStackColumn(o):"")+e.style.errorStack(")")})}else{t=t.replace(/^[^\n]*\n/,"");t=t.replace(/^\s*(at)\s+(?:(?:(async|new)\s+)?([^\s:()[\]\n]+(?:\([^)]+\))?)\s)?(?:\[as ([^\s:()[\]\n]+)\]\s)?(?:\(?([^:()[\]\n]+):([0-9]+):([0-9]+)\)?)?$/gm,(t,r,n,i,o,s,a,f)=>{return e.style.errorStack("    at ")+(n?e.style.errorStackKeyword(n)+" ":"")+(i?e.style.errorStackMethod(i)+" ":"")+(o?e.style.errorStack("[as ")+e.style.errorStackMethodAs(o)+e.style.errorStack("] "):"")+e.style.errorStack("(")+(s?e.style.errorStackFile(s):e.style.errorStack("unknown"))+(a?e.style.errorStack(":")+e.style.errorStackLine(a):"")+(f?e.style.errorStack(":")+e.style.errorStackColumn(f):"")+e.style.errorStack(")")})}return t}r.inspectStack=p;var d={};var y=e=>e;d.none={trim:false,tab:"    ",newline:"\n",comma:"",limit:y,type:e=>"<"+e+">",constant:y,funcName:y,constructorName:e=>"<"+e+">",length:y,key:y,index:e=>"["+e+"] ",number:y,inspect:y,string:y,errorType:y,errorMessage:y,errorStack:y,errorStackKeyword:y,errorStackMethod:y,errorStackMethodAs:y,errorStackFile:y,errorStackLine:y,errorStackColumn:y,errorFromMessage:y,truncate:(e,t)=>e.slice(0,t-1)+"…"};d.inline=Object.assign({},d.none,{trim:true,tab:"",newline:" ",comma:", ",length:()=>"",index:()=>""});d.color=Object.assign({},d.none,{limit:e=>o.bold+o.brightRed+e+o.reset,type:e=>o.italic+o.brightBlack+e+o.reset,constant:e=>o.cyan+e+o.reset,funcName:e=>o.italic+o.magenta+e+o.reset,constructorName:e=>o.magenta+e+o.reset,length:e=>o.italic+o.brightBlack+e+o.reset,key:e=>o.green+e+o.reset,index:e=>o.blue+"["+e+"]"+o.reset+" ",number:e=>o.cyan+e+o.reset,inspect:e=>o.cyan+e+o.reset,string:e=>o.blue+e+o.reset,errorType:e=>o.red+o.bold+e+o.reset,errorMessage:e=>o.red+o.italic+e+o.reset,errorStack:e=>o.brightBlack+e+o.reset,errorStackKeyword:e=>o.italic+o.bold+e+o.reset,errorStackMethod:e=>o.brightYellow+e+o.reset,errorStackMethodAs:e=>o.yellow+e+o.reset,errorStackFile:e=>o.brightCyan+e+o.reset,errorStackLine:e=>o.blue+e+o.reset,errorStackColumn:e=>o.magenta+e+o.reset,errorFromMessage:e=>o.yellow+o.underline+e+o.reset,truncate:(e,t)=>{var r=o.gray+"…"+o.reset;e=e.slice(0,t-r.length);var n=e.lastIndexOf("");if(n>=e.length-6){e=e.slice(0,n)}return e+r}});d.html=Object.assign({},d.none,{tab:"&nbsp;&nbsp;&nbsp;&nbsp;",newline:"<br />",limit:e=>'<span style="color:red">'+e+"</span>",type:e=>'<i style="color:gray">'+e+"</i>",constant:e=>'<span style="color:cyan">'+e+"</span>",funcName:e=>'<i style="color:magenta">'+e+"</i>",constructorName:e=>'<span style="color:magenta">'+e+"</span>",length:e=>'<i style="color:gray">'+e+"</i>",key:e=>'<span style="color:green">'+e+"</span>",index:e=>'<span style="color:blue">['+e+"]</span> ",number:e=>'<span style="color:cyan">'+e+"</span>",inspect:e=>'<span style="color:cyan">'+e+"</span>",string:e=>'<span style="color:blue">'+e+"</span>",errorType:e=>'<span style="color:red">'+e+"</span>",errorMessage:e=>'<span style="color:red">'+e+"</span>",errorStack:e=>'<span style="color:gray">'+e+"</span>",errorStackKeyword:e=>"<i>"+e+"</i>",errorStackMethod:e=>'<span style="color:yellow">'+e+"</span>",errorStackMethodAs:e=>'<span style="color:yellow">'+e+"</span>",errorStackFile:e=>'<span style="color:cyan">'+e+"</span>",errorStackLine:e=>'<span style="color:blue">'+e+"</span>",errorStackColumn:e=>'<span style="color:gray">'+e+"</span>",errorFromMessage:e=>'<span style="color:yellow">'+e+"</span>"})}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")},e("_process"))},{"../../is-buffer/index.js":15,"./ansi.js":18,"./escape.js":19,_process:16}],22:[function(e,t,r){t.exports={"߀":"0","́":""," ":" ","Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ɓ":"B","ｃ":"C","Ⓒ":"C","Ｃ":"C","Ꜿ":"C","Ḉ":"C","Ç":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ɗ":"D","Ɖ":"D","ᴅ":"D","Ꝺ":"D","Ð":"Dh","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","ɛ":"E","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","ᴇ":"E","ꝼ":"F","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","ɢ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","ȷ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","ϻ":"M","Ꞥ":"N","Ƞ":"N","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ɲ":"N","Ꞑ":"N","ᴎ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Þ":"Th","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ɑ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","Ƃ":"b","ⓒ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c",C:"c","Ć":"c","Ĉ":"c","Ċ":"c","Č":"c","Ƈ":"c","Ȼ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","Ƌ":"d","Ꮷ":"d","ԁ":"d","Ɦ":"d","ð":"dh","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ﬀ":"ff","ﬁ":"fi","ﬂ":"fl","ﬃ":"ffi","ﬄ":"ffl","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ꝿ":"g","ᵹ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ɭ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ԉ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ɔ":"o","ᴑ":"o","œ":"oe","ƣ":"oi","ꝏ":"oo","ȣ":"ou","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ρ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ʂ":"s","ß":"ss","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","þ":"th","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"}},{}],23:[function(e,t,r){"use strict";var n=e("./latinize-map.json");t.exports=function(e){return e.replace(/[^\u0000-\u007e]/g,e=>{return n[e]||e})}},{"./latinize-map.json":22}],24:[function(e,t,r){"use strict";t.exports=function(e,t){var r=/(^([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)?$|^0x[\da-fA-F]+$|\d+)/g,n=/^\s+|\s+$/g,i=/\s+/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[/-]\d{1,4}[/-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,a=/^0/,f=function(e){return(""+e).toLowerCase().replace(n,"")},l=f(e)||"",u=f(t)||"",c=l.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=u.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(l.match(s),16)||c.length!==1&&Date.parse(l),d=parseInt(u.match(s),16)||p&&u.match(o)&&Date.parse(u)||null,y=function(e,t){return(!e.match(a)||t===1)&&parseFloat(e)||e.replace(i," ").replace(n,"")||0},g,m;if(d){if(p<d){return-1}else if(p>d){return 1}}for(var b=0,w=c.length,E=h.length,S=Math.max(w,E);b<S;b++){g=y(c[b],w);m=y(h[b],E);if(isNaN(g)!==isNaN(m)){return isNaN(g)?1:-1}else if(typeof g!==typeof m){g+="";m+=""}if(g<m){return-1}if(g>m){return 1}}return 0}},{}],25:[function(e,t,r){"use strict";t.exports=function e(t,r){if(!t||typeof t!=="string"){return""}r=r||{};return t.replace(/[^\s_-]+/g,e=>{if(r.zealous){if(r.preserveAllCaps&&e===e.toUpperCase()){return e}return e[0].toUpperCase()+e.slice(1).toLowerCase()}return e[0].toUpperCase()+e.slice(1)})}},{}],26:[function(e,t,r){"use strict";const n={};t.exports=n;n.encode=(e=>String.fromCodePoint(...e));n.decode=(e=>{var t,r,n=0,i=[],o=e.length;while(n<o){t=e.charCodeAt(n++);if(t>=55296&&t<=56319&&n<o){r=e.charCodeAt(n++);if((r&64512)===56320){i.push(((t&1023)<<10)+(r&1023)+65536)}else{i.push(t);n--}}else{i.push(t)}}return i});n.firstCodePoint=(e=>{var t,r=e.charCodeAt(0);if(r>=55296&&r<=56319&&e.length>=2){t=e.charCodeAt(1);if((t&64512)===56320){return((r&1023)<<10)+(t&1023)+65536}}return r});n.firstChar=(e=>{var t,r=e.charCodeAt(0);if(r>=55296&&r<=56319&&e.length>=2){t=e.charCodeAt(1);if((t&64512)===56320){return e.slice(0,2)}}return e[0]});n.toArray=(e=>{var t,r,n=0,i=[],o=e.length;while(n<o){t=e.charCodeAt(n++);if(t>=55296&&t<=56319&&n<o){r=e.charCodeAt(n++);if((r&64512)===56320){i.push(e.slice(n-2,n))}else{i.push(e[n-2]);n--}}else{i.push(e[n-1])}}return i});n.toCells=((e,t,r=4,i=0,...o)=>{var s,a,f=0,l=[],u,c=t.length;while(f<c){s=t.charCodeAt(f++);if(s===10){i=0}else if(s===9){u=r-i%r-1;l.push(new e("\t",...o));i+=1+u;while(u--){l.push(new e(null,...o))}}else if(s>=55296&&s<=56319&&f<c){a=t.charCodeAt(f++);if((a&64512)===56320){s=((s&1023)<<10)+(a&1023)+65536;l.push(new e(t.slice(f-2,f),...o));i++;if(n.codePointWidth(s)===2){i++;l.push(new e(null,...o))}}else{f--}}else{l.push(new e(t[f-1],...o));i++;if(n.codePointWidth(s)===2){l.push(new e(null,...o));i++}}}return l});n.fromCells=(e=>{return e.map(e=>e.filler?"":e.char).join("")});n.length=(e=>{var t,r,n=0,i=0,o=e.length;while(n<o){t=e.charCodeAt(n++);if(t>=55296&&t<=56319&&n<o){r=e.charCodeAt(n++);if((r&64512)!==56320){n--}}i++}return i});n.width=(e=>{var t=0;n.decode(e).forEach(e=>t+=n.codePointWidth(e));return t});n.arrayWidth=((e,t)=>{var r,i=0;if(t===undefined){t=e.length}for(r=0;r<t;r++){i+=n.isFullWidth(e[r])?2:1}return i});var i=0;n.getLastTruncateWidth=(()=>i);n.widthLimit=n.truncateWidth=((e,t)=>{var r,o,s,a=0,f=0,l=e.length;i=0;while(a<l){r=e.charCodeAt(a++);if(r>=55296&&r<=56319&&a<l){o=e.charCodeAt(a++);if((o&64512)===56320){r=((r&1023)<<10)+(o&1023)+65536}else{a--}}s=n.codePointWidth(r);if(i+s>t){return e.slice(0,f)}i+=s;f=a}return e});n.surrogatePair=(e=>{var t=e.charCodeAt(0);if(t<55296||t>=57344){return 0}else if(t<56320){return 1}return-1});n.isFullWidth=(e=>{if(e.length<=1){return n.isFullWidthCodePoint(e.codePointAt(0))}return n.isFullWidthCodePoint(n.firstCodePoint(e))});n.charWidth=(e=>{if(e.length<=1){return n.codePointWidth(e.codePointAt(0))}return n.codePointWidth(n.firstCodePoint(e))});n.codePointWidth=(e=>{if(e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141)){return 2}return 1});n.isFullWidthCodePoint=(e=>n.codePointWidth(e)===2);n.toFullWidth=(e=>{return String.fromCodePoint(...n.decode(e).map(e=>e>=33&&e<=126?65280+e-32:e))})},{}],27:[function(e,t,r){"use strict";function n(e,t){var r=Object.getPrototypeOf(e);if(n.opaque.has(r)){return n.opaque.get(r)(e)}var i,o,s,a,f,l,u=[{source:e,target:Array.isArray(e)?[]:Object.create(r)}],c=u[0].target,h=new Map;h.set(e,c);while(a=u.shift()){s=Object.getOwnPropertyNames(a.source);for(i=0;i<s.length;i++){o=Object.getOwnPropertyDescriptor(a.source,s[i]);if(!o.value||typeof o.value!=="object"){Object.defineProperty(a.target,s[i],o);continue}f=o.value;if(t){if(h.has(f)){o.value=h.get(f);Object.defineProperty(a.target,s[i],o);continue}}l=Object.getPrototypeOf(o.value);if(n.opaque.has(l)){o.value=n.opaque.get(l)(o.value);Object.defineProperty(a.target,s[i],o);continue}o.value=Array.isArray(f)?[]:Object.create(l);if(t){h.set(f,o.value)}Object.defineProperty(a.target,s[i],o);u.push({source:f,target:o.value})}}return c}t.exports=n;n.opaque=new Map;n.opaque.set(Date.prototype,e=>new Date(e))},{}],28:[function(e,t,r){"use strict";const n={};t.exports=n;const i=[];const o="This would pollute prototype";function s(e){if(Array.isArray(e)){return e}else if(!e){return i}else if(typeof e==="string"){return e.split(".")}throw new TypeError("[tree.dotPath]: the path argument should be a string or an array")}function a(e,t,r=0){var n,i,s,a=e;for(n=0,i=t.length+r;n<i;n++){s=t[n];if(s==="__proto__"||typeof a==="function"){throw new Error(o)}if(!a||typeof a!=="object"){return undefined}a=a[s]}return a}function f(e,t){var r,n,i,s=e;for(r=0,n=t.length-1;r<n;r++){i=t[r];if(i==="__proto__"||typeof s[i]==="function"){throw new Error(o)}if(!s[i]||typeof s[i]!=="object"){s[i]={}}s=s[i]}return s}n.get=((e,t)=>a(e,s(t)));n.set=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=s(t),i=n[n.length-1];if(i==="__proto__"){throw new Error(o)}var a=f(e,n);a[i]=r;return r});n.define=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=s(t),i=n[n.length-1];if(i==="__proto__"){throw new Error(o)}var a=f(e,n);if(!(i in a)){a[i]=r}return r});n.inc=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=s(t),i=n[n.length-1];if(i==="__proto__"){throw new Error(o)}var a=f(e,n);if(typeof a[i]==="number"){a[i]++}else if(!a[i]||typeof a[i]!=="object"){a[i]=1}return r});n.dec=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=s(t),i=n[n.length-1];if(i==="__proto__"){throw new Error(o)}var a=f(e,n);if(typeof a[i]==="number"){a[i]--}else if(!a[i]||typeof a[i]!=="object"){a[i]=-1}return r});n.concat=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=s(t),i=n[n.length-1];if(i==="__proto__"){throw new Error(o)}var a=f(e,n);if(!a[i]){a[i]=r}else if(Array.isArray(a[i])&&Array.isArray(r)){a[i]=a[i].concat(r)}return r});n.insert=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=s(t),i=n[n.length-1];if(i==="__proto__"){throw new Error(o)}var a=f(e,n);if(!a[i]){a[i]=r}else if(Array.isArray(a[i])&&Array.isArray(r)){a[i]=r.concat(a[i])}return r});n.delete=((e,t)=>{var r=s(t),n=r[r.length-1];if(n==="__proto__"){throw new Error(o)}var i=a(e,r,-1);if(!i||typeof i!=="object"){return false}return delete i[n]});n.autoPush=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=s(t),i=n[n.length-1];if(i==="__proto__"){throw new Error(o)}var a=f(e,n);if(a[i]===undefined){a[i]=r}else if(Array.isArray(a[i])){a[i].push(r)}else{a[i]=[a[i],r]}return a[i]});n.append=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=s(t),i=n[n.length-1];if(i==="__proto__"){throw new Error(o)}var a=f(e,n);if(!a[i]){a[i]=[r]}else if(Array.isArray(a[i])){a[i].push(r)}return a[i]});n.prepend=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=s(t),i=n[n.length-1];if(i==="__proto__"){throw new Error(o)}var a=f(e,n);if(!a[i]){a[i]=[r]}else if(Array.isArray(a[i])){a[i].unshift(r)}return a[i]})},{}]},{},[4])(4)});