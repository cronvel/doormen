(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.doormen=e()}})(function(){var e,t,r;return function(){function u(i,a,s){function l(r,e){if(!a[r]){if(!i[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(f)return f(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[r]={exports:{}};i[r][0].call(o.exports,function(e){var t=i[r][1][e];return l(t||e)},o,o.exports,u,i,a,s)}return a[r].exports}for(var f="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}return u}()({1:[function(e,t,r){"use strict";function u(e,t,r={}){this.message=e;t=t||u;this.actual=r.actual;this.expected=r.expected;this.expectationPath=r.expectationPath;this.expectationType=r.expectationType;this.showDiff=!!r.showDiff;this.showPathDiff=!!r.showPathDiff;this.from=r.fromError;if(t instanceof Error){this.stack=t.stack}else if(Error.captureStackTrace){Error.captureStackTrace(this,t)}else{this.stack=Error().stack}}t.exports=u;u.prototype=Object.create(TypeError.prototype);u.prototype.constructor=u;u.prototype.name="AssertionError";const c=e("./assert.js");u.create=(e,t,r,n,...o)=>{var i,a;var s={inspect:false,glue:" and ",showDiff:false,showPathDiff:false,none:false};if(n&&typeof n==="object"){i=n.middleMessage||" to <insert here your expectation> ";n=n.expectationType}else{i=n}if(c[n]){Object.assign(s,c[n])}var l="";if(t!==c.NONE){a=h(t,o.length>=2);if(a.length>80){l+="Expected\n\t"+a+"\n"}else{l+="Expected "+a+" "}}else if(!s.none){l+="Expected nothing "}l+=i;if(o.length){if(s.inspect){l+=" "+o.map(e=>{a=h(e);if(a.length>80){return"\n\t"+a+"\n"}return a}).join(s.glue)}else{l+=" "+o.join(s.glue)}}if(typeof r==="string"){if(r){l+=" (offending path: "+r+")"}if(r[0]==="."){r=r.slice(1)}}var f={actual:t,expectationPath:r,expectationType:n};if(o.length===1){f.expected=o[0];f.showDiff=s.showDiff;if(typeof r==="string"){f.showPathDiff=s.showPathDiff}}if(t instanceof Error){f.fromError=t}else if(t instanceof c.FunctionCall&&t.hasThrown){f.fromError=t.error}return new u(l,e,f)};const n=e("string-kit/lib/inspect.js").inspect;const o={style:"inline",depth:2,maxLength:80,outputMaxLength:400,noDescriptor:true,noType:true,noArrayProperty:true};function h(t,e){var r;if(typeof t==="function"){return(t.name||"(anonymous)")+"()"}if(t instanceof Error){r=""+t;if(e){let e=Object.assign({},t);delete e.message;delete e.safeMessage;delete e.stack;delete e.at;delete e.constructor;r+=" having "+n(o,e)}return r}if(t instanceof c.FunctionCall){r=t.function.name||"(anonymous)";if(t.args.length){let e="( "+t.args.map(e=>h(e)).join(", ")+" )";if(e.length>o.maxLength){e=e.slice(0,o.maxLength-1)+"…"}r+=e}else{r+="()"}if(t.hasThrown){r+=", which has thrown "+h(t.error,e)+","}return r}return n(o,t)}},{"./assert.js":6,"string-kit/lib/inspect.js":26}],2:[function(e,t,r){"use strict";const i=e("./Input.js");function n(e,t,r,n){this.schema=e;this.data=t;this.gui=r;this.remote=n;this.patch=null;this.inputs=[];this.inputIndex=0;this.shared=null;this.error=null}t.exports=n;n.prototype.init=function(){if(this.remote?.init){this.remote.init(this)}if(this.gui?.init){this.gui.init(this)}this.createInputsRecursive(this.schema,this.data,"")};n.prototype.createInputsRecursive=function(e,t,r){var n,o;if(Array.isArray(e)){throw new Error("Schema alternatives are not supported for forms ATM.")}if(e.properties&&typeof e.properties==="object"){for(n in e.properties){this.createInputsRecursive(e.properties[n],t[n],r?r+"."+n:n)}return}if(!e.noInput){o=new i(this,{property:r,index:this.inputIndex++,method:e.input?.method,previewMethod:e.input?.previewMethod,hidden:!!e.input?.hidden,readOnly:!!e.input?.readOnly,type:e.type,value:t,startingValue:t,order:e.input?.order,label:e.input?.label,placeholder:e.input?.placeholder,description:e.input?.description,schema:e});this.inputs.push(o);if(this.gui){this.gui.addInput(o)}}};n.prototype.commit=function(){if(!this.remote){return}var e=this.getPatch();if(!e){return}this.remote.commit(e)};n.prototype.getPatch=function(){var e=null,t;for(t of this.inputs){if(t.localValue!==t.remoteValue){if(!e){e={}}e[t.property]=t.localValue}}return e}},{"./Input.js":3}],3:[function(e,t,r){"use strict";const n=e("./core.js");const o=e("tree-kit/lib/clone.js");function i(e,t={}){this.form=e;this.property=t.property;this.index=t.index||0;this.method=t.method||null;this.previewMethod=t.previewMethod||null;this.hidden=!!t.hidden;this.readOnly=!!t.readOnly;this.type=t.type;this.localValue=t.localValue||t.value;this.localChanged=false;this.remoteValue=t.remoteValue||t.value;this.remoteChanged=false;this.order=t.order||0;this.label=t.label||null;this.placeholder=t.placeholder||null;this.description=t.description||null;this.error=null;this.schema=o(t.schema);this.proxy=null;Object.defineProperty(this,"value",{get:function(){return this.localValue},set:function(e){this.setValue(e)}});this.init()}t.exports=i;i.prototype.init=function(){if(!this.method){this.method=i.guessMethod(this.type)}var e=i.guessSanitizer(this.type);if(e){if(!this.schema.sanitize){this.schema.sanitize=[]}else if(typeof this.schema.sanitize==="string"){this.schema.sanitize=[this.schema.sanitize]}if(this.schema.sanitize[0]!==e){this.schema.sanitize.unshift(e)}}};const a={string:"text",number:"text",integer:"text"};const s={number:"toNumber",integer:"toInteger"};i.guessMethod=function(e){return a[e]||"text"};i.guessSanitizer=function(e){return s[e]||null};i.prototype.setValue=function(e){try{this.localValue=n(this.schema,e)}catch(e){this.error=e.message;return}this.localChanged=true;this.error=null;return this.localValue}},{"./core.js":9,"tree-kit/lib/clone.js":32}],4:[function(e,t,r){"use strict";function n(e){this.message=e;if(Error.captureStackTrace){Error.captureStackTrace(this,n)}else{Object.defineProperty(this,"stack",{value:Error().stack,enumerable:true,configurable:true})}}t.exports=n;n.prototype=Object.create(TypeError.prototype);n.prototype.constructor=n;n.prototype.name="SchemaError"},{}],5:[function(e,t,r){"use strict";function n(e,t){this.message=e;if(t){this.at=this.path=t.path}if(Error.captureStackTrace){Error.captureStackTrace(this,n)}else{Object.defineProperty(this,"stack",{value:Error().stack,enumerable:true,configurable:true})}}t.exports=n;n.prototype=Object.create(TypeError.prototype);n.prototype.constructor=n;n.prototype.name="ValidatorError"},{}],6:[function(t,r,n){"use strict";const a={};r.exports=a;const e=t("./typeCheckers.js");const s=t("./isEqual.js");const o={around:true};const y={like:true};const d={like:true,around:true};const l={like:true,oneWay:true};const g={like:true,oneWay:true,around:true};const b={oneWay:true};const m={oneWay:true,around:true};const f=new Set(["a","e","i","o","u","y","A","E","I","O","U","Y"]);const u=t("./AssertionError.js");a.NONE={};function c(e,t,r,...n){this.function=e;this.isAsync=t;this.this=r;this.args=n;this.hasThrown=false;this.error=undefined;this.return=undefined;try{this.return=this.function.call(this.this||null,...this.args)}catch(e){this.hasThrown=true;this.error=e}if(this.isAsync){if(this.hasThrown){this.promise=Promise.resolve()}else{this.promise=Promise.resolve(this.return).then(e=>this.return=e,e=>{this.hasThrown=true;this.error=e})}}}a.FunctionCall=c;function i(e){return!e||typeof e!=="object"?[e]:Array.isArray(e)?e:typeof e.values==="function"?[...e.values()]:Object.values(e)}a._toArrayOfValues=i;function h(e){return!e||typeof e!=="object"?new Set([e]):e instanceof Set?e:Array.isArray(e)?new Set(e):typeof e.values==="function"?new Set(e.values()):new Set(Object.values(e))}a._toSetOfValues=h;a["to be defined"]=a.defined=a.isDefined=(e,t)=>{if(t===undefined){throw u.create(e,t,null,"to be defined")}};a["to be not defined"]=a["to not be defined"]=a["not to be defined"]=a["to be undefined"]=a.undefined=a.isUndefined=(e,t)=>{if(t!==undefined){throw u.create(e,t,null,"to be undefined")}};a["to be ok"]=a["to be truthy"]=a.ok=a.isOk=a.truthy=a.isTruthy=(e,t)=>{if(!t){throw u.create(e,t,null,"to be truthy")}};a["to be not ok"]=a["to not be ok"]=a["not to be ok"]=a["to be not truthy"]=a["to not be truthy"]=a["not to be truthy"]=a["to be falsy"]=a.nok=a.ko=a.isNotOk=a.falsy=a.isFalsy=(e,t)=>{if(t){throw u.create(e,t,null,"to be falsy")}};a["to be true"]=a.true=a.isTrue=(e,t)=>{if(t!==true){throw u.create(e,t,null,"to be true")}};a["to be not true"]=a["to not be true"]=a["not to be true"]=a.notTrue=a.isNotTrue=(e,t)=>{if(t===true){throw u.create(e,t,null,"not to be true")}};a["to be false"]=a.false=a.isFalse=(e,t)=>{if(t!==false){throw u.create(e,t,null,"to be false")}};a["to be not false"]=a["to not be false"]=a["not to be false"]=a.notFalse=a.isNotFalse=(e,t)=>{if(t===false){throw u.create(e,t,null,"not to be false")}};a["to be null"]=a.null=a.isNull=(e,t)=>{if(t!==null){throw u.create(e,t,null,"to be null")}};a["to be not null"]=a["to not be null"]=a["not to be null"]=a.notNull=a.isNotNull=(e,t)=>{if(t===null){throw u.create(e,t,null,"not to be null")}};a["to be NaN"]=a["to be nan"]=a.NaN=a.isNaN=(e,t)=>{if(!Number.isNaN(t)){throw u.create(e,t,null,"to be NaN")}};a["to be not NaN"]=a["to not be NaN"]=a["not to be NaN"]=a["to be not nan"]=a["to not be nan"]=a["not to be nan"]=a.notNaN=a.isNotNaN=(e,t)=>{if(Number.isNaN(t)){throw u.create(e,t,null,"not to be NaN")}};a["to be finite"]=a.finite=(e,t)=>{if(typeof t!=="number"){throw u.create(e,t,null,"to be a number")}if(Number.isNaN(t)||t===Infinity||t===-Infinity){throw u.create(e,t,null,"to be finite")}};a["to be not finite"]=a["to not be finite"]=a["not to be finite"]=a.notFinite=(e,t)=>{if(typeof t!=="number"){throw u.create(e,t,null,"to be a number")}if(!Number.isNaN(t)&&t!==Infinity&&t!==-Infinity){throw u.create(e,t,null,"to be finite")}};a["to be"]=a.strictEqual=(e,t,r)=>{if(t!==r&&!(Number.isNaN(t)&&Number.isNaN(r))){throw u.create(e,t,null,"to be",r)}};a.strictEqual.showDiff=true;a.strictEqual.inspect=true;a["to be not"]=a["to not be"]=a["not to be"]=a.notStrictEqual=(e,t,r)=>{if(t===r||Number.isNaN(t)&&Number.isNaN(r)){throw u.create(e,t,null,"not to be",r)}};a.notStrictEqual.inspect=true;a["to be equal to"]=a["to equal"]=a["to eql"]=a.equal=(e,t,r)=>{if(!s(t,r)){throw u.create(e,t,s.getLastPath(),"to equal",r)}};a.equal.showDiff=true;a.equal.inspect=true;a["to be not equal to"]=a["to not be equal to"]=a["not to be equal to"]=a["to not equal"]=a["not to equal"]=a["to not eql"]=a["not to eql"]=a.notEqual=(e,t,r)=>{if(s(t,r)){throw u.create(e,t,null,"not to equal",r)}};a.notEqual.inspect=true;a["to equal around"]=a.equalAround=(e,t,r)=>{if(!s(t,r,o)){throw u.create(e,t,s.getLastPath(),"to equal around",r)}};a.equalAround.showDiff=true;a.equalAround.inspect=true;a["to not equal around"]=a["not to equal around"]=a.notEqualAround=(e,t,r)=>{if(s(t,r,o)){throw u.create(e,t,null,"not to equal around",r)}};a.notEqualAround.inspect=true;a["to be like"]=a["to be alike"]=a["to be alike to"]=a.like=(e,t,r)=>{if(!s(t,r,y)){throw u.create(e,t,s.getLastPath(),"to be like",r)}};a.like.showDiff=true;a.like.inspect=true;a["to be not like"]=a["to not be like"]=a["not to be like"]=a["to be not alike"]=a["to not be alike"]=a["not to be alike"]=a["to be not alike to"]=a["to not be alike to"]=a["not to be alike to"]=a.notLike=(e,t,r)=>{if(s(t,r,y)){throw u.create(e,t,null,"not to be like",r)}};a.notLike.inspect=true;a["to be like around"]=a["to be alike around"]=a.likeAround=(e,t,r)=>{if(!s(t,r,d)){throw u.create(e,t,s.getLastPath(),"to be like around",r)}};a.likeAround.showDiff=true;a.likeAround.inspect=true;a["to be not like around"]=a["to not be like around"]=a["not to be like around"]=a["to be not alike around"]=a["to not be alike around"]=a["not to be alike around"]=a.notLikeAround=(e,t,r)=>{if(s(t,r,d)){throw u.create(e,t,null,"not to be like around",r)}};a.notLikeAround.inspect=true;a["to be partially equal to"]=a["to be partial equal to"]=a["to be equal to partial"]=a["to partially equal"]=a["to partial equal"]=a["to equal partial"]=a.partialEqual=a.partiallyEqual=(e,t,r)=>{if(!s(r,t,b)){throw u.create(e,t,s.getLastPath(),"to partially equal",r)}};a.partiallyEqual.showPathDiff=true;a.partiallyEqual.inspect=true;a["to be not partially equal to"]=a["to not be partially equal to"]=a["not to be partially equal to"]=a["to be not partial equal to"]=a["to not be partial equal to"]=a["not to be partial equal to"]=a["to be not equal to partial"]=a["to not be equal to partial"]=a["not to be equal to partial"]=a["to not partially equal"]=a["not to partially equal"]=a["to not partial equal"]=a["not to partial equal"]=a["to not equal partial"]=a["not to equal partial"]=a.notPartialEqual=a.notPartiallyEqual=(e,t,r)=>{if(s(r,t,b)){throw u.create(e,t,null,"not to partially equal",r)}};a.notPartiallyEqual.inspect=true;a["to partially equal around"]=a.partiallyEqualAround=(e,t,r)=>{if(!s(r,t,m)){throw u.create(e,t,s.getLastPath(),"to partially equal around",r)}};a.partiallyEqualAround.showPathDiff=true;a.partiallyEqualAround.inspect=true;a["to not partially equal around"]=a["not to partially equal around"]=a.notPartiallyEqualAround=(e,t,r)=>{if(s(r,t,m)){throw u.create(e,t,null,"not to partially equal around",r)}};a.notPartiallyEqualAround.inspect=true;a["to be partially like"]=a["to be like partial"]=a.partialLike=a.partiallyLike=(e,t,r)=>{if(!s(r,t,l)){throw u.create(e,t,s.getLastPath(),"to be partially like",r)}};a.partiallyLike.showPathDiff=true;a.partiallyLike.inspect=true;a["to be not partially like"]=a["to not be partially like"]=a["not to be partially like"]=a["to be not like partial"]=a["to not be like partial"]=a["not to be like partial"]=a.notPartialLike=a.notPartiallyLike=(e,t,r)=>{if(s(r,t,l)){throw u.create(e,t,null,"not to be partially like",r)}};a.notPartiallyLike.inspect=true;a["to be partially like around"]=a.partiallyLikeAround=(e,t,r)=>{if(!s(r,t,g)){throw u.create(e,t,s.getLastPath(),"to be partially like around",r)}};a.partiallyLikeAround.showPathDiff=true;a.partiallyLikeAround.inspect=true;a["to be not partially like around"]=a["to not be partially like around"]=a["not to be partially like around"]=a.notPartiallyLikeAround=(e,t,r)=>{if(s(r,t,g)){throw u.create(e,t,null,"not to be partially like around",r)}};a.notPartiallyLikeAround.inspect=true;a["to map"]=a.map=(n,o,i)=>{if(!o||typeof o!=="object"||typeof o.get!=="function"||typeof o.keys!=="function"){throw u.create(n,o,null,"to be be a mappable object")}if(!Array.isArray(i)){throw new u("Expectation are not map entries",n)}var a=[...o.keys()];if(a.length!==i.length){throw u.create(n,o,null,"to map",i)}i.forEach(t=>{var e,r;if(!Array.isArray(t)){throw new u("Expectation are not map entries",n)}r=a.findIndex(e=>s(t[0],e));if((r=a.indexOf(t[0]))!==-1||(r=a.findIndex(e=>s(t[0],e)))!==-1){e=a.splice(r,1)[0];if(!s(t[1],o.get(e))){throw u.create(n,o,null,"to map",i)}}else{throw u.create(n,o,null,"to map",i)}})};a.map.inspect=true;a["to be shallow clone"]=a["to be shallow clone of"]=a["to be a shallow clone of"]=a.shallowCloneOf=(r,n,o)=>{if(typeof n!=="function"&&(!n||typeof n!=="object")){throw u.create(r,n,null,"to be be an object or a function")}if(n===o){return}if(Array.isArray(n)){if(!Array.isArray(o)||n.length!==o.length){throw u.create(r,n,null,"to be a shallow clone of",o)}n.forEach((e,t)=>{if(e!==o[t]){throw u.create(r,n,null,"to be a shallow clone of",o)}})}else{if(Array.isArray(o)){throw u.create(r,n,null,"to be a shallow clone of",o)}let e=Object.keys(n);let t=Object.keys(o);if(e.length!==t.length){throw u.create(r,n,null,"to be a shallow clone of",o)}t.forEach(e=>{if(!Object.prototype.hasOwnProperty.call(n,e)||n[e]!==o[e]){throw u.create(r,n,null,"to be a shallow clone of",o)}})}};a.shallowCloneOf.inspect=true;a["to be not shallow clone"]=a["to not be shallow clone"]=a["not to be shallow clone"]=a["to be not shallow clone of"]=a["to not be shallow clone of"]=a["not to be shallow clone of"]=a["to be not a shallow clone of"]=a["to not be a shallow clone of"]=a["not to be a shallow clone of"]=a.notShallowCloneOf=(e,t,r)=>{if(typeof t!=="function"&&(!t||typeof t!=="object")){throw u.create(e,t,null,"to be be an object or a function")}try{a.shallowCloneOf(e,t,r)}catch(e){return}throw u.create(e,t,null,"not to be a shallow clone of",r)};a.notShallowCloneOf.inspect=true;const w=1+4*Number.EPSILON;const p=4*Number.MIN_VALUE;a["to be close to"]=a["to be around"]=a.around=(r,n,o,e)=>{if(typeof n!=="number"){throw u.create(r,n,null,"to be a number")}if(Number.isNaN(n)||Number.isNaN(o)){throw u.create(r,n,null,"to be around",o)}if(!e){let e=Math.abs(n),t=Math.abs(o);if(e<=p||t<=p){if(n>o+p||o>n+p){throw u.create(r,n,null,"to be around",o)}}else if(n*o<0){throw u.create(r,n,null,"to be around",o)}else if(e>t*w||t>e*w){throw u.create(r,n,null,"to be around",o)}return}if(n<o-e||n>o+e){throw u.create(r,n,null,"to be around",o)}};a["to be not close to"]=a["to not be close to"]=a["not to be close to"]=a["to be not around"]=a["to not be around"]=a["not to be around"]=a.notAround=(r,n,o,e)=>{if(typeof n!=="number"){throw u.create(r,n,null,"to be a number")}if(Number.isNaN(n)||Number.isNaN(o)){return}if(!e){let e=Math.abs(n),t=Math.abs(o);if(e<=p||t<=p){if(n<=o+p&&o<=n+p){throw u.create(r,n,null,"not to be around",o)}}else if(n*o<0){return}else if(e<=t*w&&t<=e*w){throw u.create(r,n,null,"not to be around",o)}return}if(n>=o-e&&n<=o+e||Number.isNaN(n)){throw u.create(r,n,null,"not to be around",o)}};a["to be above"]=a["to be greater"]=a["to be greater than"]=a.above=a.gt=a.greater=a.greaterThan=(e,t,r)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw u.create(e,t,null,"to be a number or a Date")}if(t<=r||Number.isNaN(t)){throw u.create(e,t,null,"to be above",r)}};a["to be at least"]=a["to be greater than or equal to"]=a.least=a.gte=a.greaterThanOrEqualTo=(e,t,r)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw u.create(e,t,null,"to be a number or a Date")}if(t<r||Number.isNaN(t)){throw u.create(e,t,null,"to be at least",r)}};a["to be below"]=a["to be lesser"]=a["to be lesser than"]=a.below=a.lt=a.lesser=a.lesserThan=(e,t,r)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw u.create(e,t,null,"to be a number or a Date")}if(t>=r||Number.isNaN(t)){throw u.create(e,t,null,"to be below",r)}};a["to be at most"]=a["to be lesser than or equal to"]=a.most=a.lte=a.lesserThanOrEqualTo=(e,t,r)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw u.create(e,t,null,"to be a number or a Date")}if(t>r||Number.isNaN(t)){throw u.create(e,t,null,"to be at most",r)}};a["to be within"]=a.within=(e,t,r,n)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw u.create(e,t,null,"to be a number or a Date")}if(t<r||t>n||Number.isNaN(t)){throw u.create(e,t,null,"to be within",r,n)}};a["to be not within"]=a["to not be within"]=a["not to be within"]=a.notWithin=(e,t,r,n)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw u.create(e,t,null,"to be a number or a Date")}if(t>=r&&t<=n||Number.isNaN(t)){throw u.create(e,t,null,"not to be within",r,n)}};a["to match"]=a.match=(e,t,r)=>{if(typeof t!=="string"){throw u.create(e,t,null,"to be a string")}if(!t.match(r)){throw u.create(e,t,null,"to match",r)}};a["to not match"]=a["not to match"]=a.notMatch=(e,t,r)=>{if(typeof t!=="string"){throw u.create(e,t,null,"to be a string")}if(t.match(r)){throw u.create(e,t,null,"not to match",r)}};a["to have length"]=a["to have length of"]=a["to have a length of"]=a.lengthOf=(e,t,r)=>{if(typeof t!=="string"&&(!t||typeof t!=="object")){throw u.create(e,t,null,"to have some length")}if(t.length!==r){throw u.create(e,t,null,"to have a length of",r)}};a["to have not length"]=a["to not have length"]=a["not to have length"]=a["to have length not of"]=a["to have not length of"]=a["to not have length of"]=a["not to have length of"]=a["to have a length not of"]=a["to have not a length of"]=a["to not have a length of"]=a["not to have a length of"]=a.notLengthOf=(e,t,r)=>{if(typeof t!=="string"&&(!t||typeof t!=="object")){throw u.create(e,t,null,"to have some length")}if(t.length===r){throw u.create(e,t,null,"not to have a length of",r)}};a["to contain"]=a["to include"]=a.includes=a.include=a.contains=a.contain=(e,r,...n)=>{var o=false;if(r&&typeof r==="object"){let t=i(r);o=n.every(e=>t.includes(e))}else if(typeof r==="string"){o=n.every(e=>r.includes(e))}if(!o){throw u.create(e,r,null,"to contain",n)}};a.contain.inspect=true;a["to contain not"]=a["to not contain"]=a["not to contain"]=a["to include not"]=a["to not include"]=a["not to include"]=a.notInclude=a.notContain=(e,r,...n)=>{var o=false;if(r&&typeof r==="object"){let t=i(r);o=n.some(e=>t.includes(e))}else if(typeof r==="string"){o=n.some(e=>r.includes(e))}if(o){throw u.create(e,r,null,"not to contain",n)}};a.notContain.inspect=true;a["to have"]=a.has=(e,t,...r)=>{if(t&&typeof t==="object"){if(typeof t.has==="function"){if(!r.every(e=>t.has(e))){throw u.create(e,t,null,"to have",r)}return}}a.contain(e,t,...r)};a.has.inspect=true;a["to have not"]=a["to not have"]=a["not to have"]=a.hasNot=(e,t,...r)=>{if(t&&typeof t==="object"){if(typeof t.has==="function"){if(r.some(e=>t.has(e))){throw u.create(e,t,null,"not to have",r)}return}}a.notContain(e,t,...r)};a.hasNot.inspect=true;a["to only contain"]=a["to contain only"]=a["to only include"]=a["to include only"]=a.includeOnly=a.includesOnly=a.containOnly=a.containsOnly=(e,r,...n)=>{var o=false;if(r&&typeof r==="object"){let t=h(r);let e=h(n);o=t.size===e.size&&[...e].every(e=>t.has(e))}else if(typeof r==="string"){o=n.every(e=>r===e)}if(!o){throw u.create(e,r,null,"to contain only",n)}};a.containOnly.inspect=true;a.containOnly.glue=", ";a["not to only contain"]=a["to not only contain"]=a["not to contain only"]=a["to not contain only"]=a["to contain not only"]=a["not to only include"]=a["to not only include"]=a["not to include only"]=a["to not include only"]=a["to include not only"]=a.notIncludeOnly=a.notContainOnly=e=>{throw new u("Ambigous assertion type 'not to contain only'",e)};a["to only have"]=a["to have only"]=a.hasOnly=(r,n,...o)=>{if(n&&typeof n==="object"){if(typeof n.has==="function"){let e=h(n);let t=h(o);if(e.size!==t.size||![...t].every(e=>n.has(e))){throw u.create(r,n,null,"to have only",o)}return}}a.containOnly(r,n,...o)};a.hasOnly.inspect=true;a.hasOnly.glue=", ";a["not to only have"]=a["to not only have"]=a["not to have only"]=a["to not have only"]=a["to have not only"]=a.hasNotOnly=e=>{throw new u("Ambigous assertion type 'not to have only'",e)};a["to only have unique values"]=a["to have only unique values"]=a["to only contain unique values"]=a["to contain only unique values"]=a["to only include unique values"]=a["to include only unique values"]=a.onlyUniqueValues=(r,n)=>{if(!n||typeof n!=="object"){throw u.create(r,n,null,"to only contain unique values")}var o=i(n);for(let t=0;t<o.length;t++){for(let e=t+1;e<o.length;e++){if(o[t]===o[e]){throw u.create(r,n,null,"to only contain unique values")}}}};a.onlyUniqueValues.inspect=true;a["not to only have unique values"]=a["to not only have unique values"]=a["not to have only unique values"]=a["to not have only unique values"]=a["to have not only unique values"]=a["not to only contain unique values"]=a["to not only contain unique values"]=a["not to contain only unique values"]=a["to not contain only unique values"]=a["to contain not only unique values"]=a["not to only include unique values"]=a["to not only include unique values"]=a["not to include only unique values"]=a["to not include only unique values"]=a["to include not only unique values"]=a.notOnlyUniqueValues=e=>{throw new u("Ambigous assertion type 'not to contain only unique values'",e)};a["to be empty"]=a.empty=(e,t)=>{var r=true;if(t){if(typeof t==="object"){if(Array.isArray(t)){if(t.length){r=false}}else if(t instanceof Map||t instanceof Set){if(t.size){r=false}}else if(t.length!==undefined){if(t.length){r=false}}else if(Object.keys(t).length){r=false}}else if(typeof t==="string"){r=false}}if(!r){throw u.create(e,t,null,"to be empty")}};a["to be not empty"]=a["to not be empty"]=a["not to be empty"]=a.notEmpty=(e,t)=>{var r=true;if(t){if(typeof t==="object"){if(Array.isArray(t)){if(t.length){r=false}}else if(t instanceof Map||t instanceof Set){if(t.size){r=false}}else if(t.length!==undefined){if(t.length){r=false}}else if(Object.keys(t).length){r=false}}else if(typeof t==="string"){r=false}}if(r){throw u.create(e,t,null,"to be empty")}};a["to have key"]=a["to have keys"]=a.key=a.keys=(t,r,...n)=>{if(!e.looseObject(r)){throw u.create(t,r,null,"to be an object or a function")}n.forEach(e=>{if(!(e in r)){throw u.create(t,r,null,"to have key"+(n.length>1?"s":""),...n)}})};a.keys.inspect=true;a.keys.glue=", ";a["to have not key"]=a["to not have key"]=a["not to have key"]=a["to have not keys"]=a["to not have keys"]=a["not to have keys"]=a["to have no key"]=a.noKey=a.notKey=a.notKeys=(t,r,...n)=>{if(!e.looseObject(r)){throw u.create(t,r,null,"to be an object or a function")}n.forEach(e=>{if(e in r){throw u.create(t,r,null,"not to have key"+(n.length>1?"s":""),...n)}})};a.notKeys.inspect=true;a.notKeys.glue=", ";a["to have own key"]=a["to have own keys"]=a.ownKey=a.ownKeys=(t,r,...n)=>{if(!e.looseObject(r)){throw u.create(t,r,null,"to be an object or a function")}n.forEach(e=>{if(!Object.prototype.hasOwnProperty.call(r,e)){throw u.create(t,r,null,"to have own key"+(n.length>1?"s":""),...n)}})};a.ownKeys.inspect=true;a.ownKeys.glue=", ";a["to only have key"]=a["to have only key"]=a["to have only key"]=a["to only have keys"]=a["to have only keys"]=a["to have only keys"]=a.onlyKey=a.onlyKeys=e=>{throw new u("Instead of using assertion 'onlyKeys', you should use assertion 'onlyOwnKeys'.",e)};a["to only have own key"]=a["to have only own key"]=a["to have own only key"]=a["to only have own keys"]=a["to have only own keys"]=a["to have own only keys"]=a.onlyOwnKey=a.onlyOwnKeys=(t,r,...n)=>{if(!e.looseObject(r)){throw u.create(t,r,null,"to be an object or a function")}if(Object.getOwnPropertyNames(r).length!==n.length){throw u.create(t,r,null,"to only have own key"+(n.length>1?"s":""),...n)}n.forEach(e=>{if(!Object.prototype.hasOwnProperty.call(r,e)){throw u.create(t,r,null,"to only have own key"+(n.length>1?"s":""),...n)}})};a.onlyOwnKeys.inspect=true;a.onlyOwnKeys.glue=", ";a["to have not own key"]=a["to not have own key"]=a["not to have own key"]=a["to have not own keys"]=a["to not have own keys"]=a["not to have own keys"]=a["to have no own key"]=a.noOwnKey=a.notOwnKey=a.notOwnKeys=(t,r,...n)=>{if(!e.looseObject(r)){throw u.create(t,r,null,"to be an object or a function")}n.forEach(e=>{if(Object.prototype.hasOwnProperty.call(r,e)){throw u.create(t,r,null,"not to have own key"+(n.length>1?"s":""),...n)}})};a.notOwnKeys.inspect=true;a.notOwnKeys.glue=", ";a["to have property"]=a.property=function(e,t,r,n){a.key(e,t,r);if(arguments.length>=4){a.equal(e,t[r],n)}};a["to have not property"]=a["to not have property"]=a["not to have property"]=a["to have no property"]=a.notProperty=function(e,t,r,n){if(arguments.length>=4){if(r in t){a.notEqual(e,t[r],n)}}else{a.notKey(e,t,r)}};a["to have own property"]=a.ownProperty=function(e,t,r,n){a.ownKey(e,t,r);if(arguments.length>=4){a.equal(e,t[r],n)}};a["to have not own property"]=a["to not have own property"]=a["not to have own property"]=a["to have no own property"]=a.notOwnProperty=function(e,t,r,n){if(arguments.length>=4){if(Object.prototype.hasOwnProperty.call(t,r)){a.notEqual(e,t[r],n)}}else{a.notOwnKey(e,t,r)}};a["to throw"]=a["to throw a"]=a["to throw an"]=a.throw=(t,e,r,n,o)=>{if(typeof e!=="function"){throw u.create(t,e,null,"to be a function")}if(!Array.isArray(r)){r=[]}var i=new c(e,false,...r);if(n){if(!i.hasThrown||!(i.error instanceof n)){let e=f.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(t,i,null,"to throw "+e,n)}if(o&&!s(o,i.error,l)){let e=f.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(t,i,s.getLastPath(),"to throw "+e,n,o)}}else if(!i.hasThrown){throw u.create(t,i,null,"to throw")}};a.throw.fnParams=true;a.throw.inspect=true;a.throw.glue=" having ";a["to not throw"]=a["not to throw"]=a["to throw not a"]=a["to not throw a"]=a["not to throw a"]=a["to throw not an"]=a["to not throw an"]=a["not to throw an"]=a.notThrow=(t,e,r,n,o)=>{if(typeof e!=="function"){throw u.create(t,e,null,"to be a function")}if(!Array.isArray(r)){r=[]}var i=new c(e,false,...r);if(n){if(i.hasThrown&&i.error instanceof n){if(o){if(s(o,i.error,l)){let e=f.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(t,i,null,"not to throw "+e,n,o)}}else{let e=f.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(t,i,null,"not to throw "+e,n)}}}else if(i.hasThrown){throw u.create(t,i,null,"not to throw")}};a.notThrow.fnParams=true;a.notThrow.inspect=true;a.notThrow.glue=" having ";a["to reject"]=a["to reject with"]=a["to reject with a"]=a["to reject with an"]=a["to not fulfill"]=a["not to fulfill"]=a.notFulfill=a.reject=async(t,e,r,n,o)=>{if(typeof e!=="function"){return a.rejected(t,e,n,o)}if(!Array.isArray(r)){r=[]}var i=new c(e,true,...r);await i.promise;if(n){if(!i.hasThrown||!(i.error instanceof n)){let e=f.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(t,i,null,"to reject with "+e,n)}if(o&&!s(o,i.error,l)){let e=f.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(t,i,s.getLastPath(),"to reject with "+e,n,o)}}else if(!i.hasThrown){throw u.create(t,i,null,"to reject")}};a.throw.promise=a.reject;a.reject.fnParams=true;a.reject.async=true;a.reject.inspect=true;a.reject.glue=" having ";a["to not reject"]=a["not to reject"]=a["to reject not with"]=a["to not reject with"]=a["not to reject with"]=a["to reject not with a"]=a["to not reject with a"]=a["not to reject with a"]=a["to reject not with an"]=a["to not reject with an"]=a["not to reject with an"]=a["to fulfill"]=a.notReject=a.fulfill=async(t,e,r,n,o)=>{if(typeof e!=="function"){return a.fulfilled(t,e,n,o)}if(!Array.isArray(r)){r=[]}var i=new c(e,true,...r);await i.promise;if(n){if(i.hasThrown&&i.error instanceof n){if(o){if(s(o,i.error,l)){let e=f.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(t,i,null,"not to reject with "+e,n,o)}}else{let e=f.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(t,i,null,"not to reject with "+e,n)}}}else if(i.hasThrown){throw u.create(t,i,null,"not to reject")}};a.notThrow.promise=a.fulfill;a.fulfill.fnParams=true;a.fulfill.async=true;a.fulfill.inspect=true;a.fulfill.glue=" having ";a["to be rejected"]=a["to be rejected with"]=a["to be rejected with a"]=a["to be rejected with an"]=a["not to be fulfilled"]=a["to not be fulfilled"]=a["to be not fulfilled"]=a.notFulfilled=a.rejected=async(t,r,n,o)=>{var i,a=false;try{await r}catch(e){a=true;i=e}if(n){if(!a||!(i instanceof n)){let e=f.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(t,r,null,"to be rejected with "+e,n)}if(o&&!s(o,i,l)){let e=f.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(t,r,s.getLastPath(),"to be rejected with "+e,n,o)}}else if(!a){throw u.create(t,r,null,"to be rejected")}};a.rejected.promise=true;a.rejected.async=true;a.rejected.inspect=true;a["not to be rejected"]=a["to not be rejected"]=a["to be not rejected"]=a["not to be rejected with"]=a["to not be rejected with"]=a["to be not rejected with"]=a["not to be rejected with a"]=a["to not be rejected with a"]=a["to be not rejected with a"]=a["not to be rejected with an"]=a["to not be rejected with an"]=a["to be not rejected with an"]=a["to be fulfilled"]=a.fulfilled=a.notRejected=async(t,r,n,o)=>{var i,a=false;try{await r}catch(e){a=true;i=e}if(n){if(a&&i instanceof n){if(o){if(s(o,i,l)){let e=f.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(t,r,null,"not to be rejected with "+e,n,o)}}else{let e=f.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(t,r,null,"not to be rejected with "+e,n)}}}else if(a){throw u.create(t,r,null,"not to be rejected")}};a.fulfilled.promise=true;a.fulfilled.async=true;a.fulfilled.inspect=true;a["to be a"]=a["to be an"]=a.typeOrInstanceOf=(e,t,r)=>{if(typeof r==="string"){return a.typeOf(e,t,r)}return a.instanceOf(e,t,r)};a["to be not a"]=a["to not be a"]=a["not to be a"]=a["to be not an"]=a["to not be an"]=a["not to be an"]=a.notTypeOrInstanceOf=(e,t,r)=>{if(typeof r==="string"){return a.notTypeOf(e,t,r)}return a.notInstanceOf(e,t,r)};a["to be of type"]=a.typeOf=(t,r,n)=>{if(!e[n]){throw new Error("Unknown type '"+n+"'.")}if(!e[n](r)){let e=f.has(n[0])?"an":"a";throw u.create(t,r,null,"to be "+e,n)}};a["to be not of type"]=a["to not be of type"]=a["not to be of type"]=a.notTypeOf=(t,r,n)=>{if(!e[n]){throw new Error("Unknown type '"+n+"'.")}if(e[n](r)){let e=f.has(n[0])?"an":"a";throw u.create(t,r,null,"not to be "+e,n)}};a["to be an instance of"]=a.instanceOf=(e,t,r)=>{if(!(t instanceof r)){throw u.create(e,t,null,"to be an instance of",r)}};a.instanceOf.inspect=true;a["to be not an instance of"]=a["to not be an instance of"]=a["not to be an instance of"]=a.notInstanceOf=(e,t,r)=>{if(t instanceof r){throw u.create(e,t,null,"not to be an instance of",r)}};a.notInstanceOf.inspect=true;a.fail=(e,t,r,...n)=>{throw u.create(e,t,null,{expectationType:"fail",middleMessage:r},...n)};a.fail.inspect=true;a.fail.none=true},{"./AssertionError.js":1,"./isEqual.js":14,"./typeCheckers.js":18}],7:[function(e,t,r){"use strict";t.exports=e("./doormen.js");t.exports.isBrowser=true},{"./doormen.js":11}],8:[function(r,n,e){(function(t){(function(){"use strict";if(!t){t=window}if(!t.DOORMEN_GLOBAL_EXTENSIONS){t.DOORMEN_GLOBAL_EXTENSIONS={}}if(!t.DOORMEN_GLOBAL_EXTENSIONS.constraints){t.DOORMEN_GLOBAL_EXTENSIONS.constraints={}}const e=Object.create(t.DOORMEN_GLOBAL_EXTENSIONS.constraints);n.exports=e;const c=r("./core.js");const h=r("tree-kit/lib/dotPath.js");const s=r("string-kit/lib/format.js").format;e.condition=function(t,e,r,n){var o=t,i=t;if(e.source){o=h.get(t,e.source)}if(e.target){i=h.get(t,e.target)}if(e.if){try{c(e.if,o)}catch(e){return t}}if(e.then){i=this.check(e.then,i,r)}if(e.target){h.set(t,e.target,i)}else{t=i}return t};e.switch=function(e,t,r,n){var o=e,i=e;if(t.source){o=h.get(e,t.source)}if(t.target){i=h.get(e,t.target)}if(t.case&&typeof t.case==="object"&&o in t.case){i=this.check(t.case[o],i,r)}else if(t.otherCases){i=this.check(t.otherCases,i,r)}else{return e}if(t.target){h.set(e,t.target,i)}else{e=i}return e};e.unique=function(e,t,r,f){var n,o,i,a,s,l=new Set;if(t.convert&&!c.sanitizers[t.convert]){if(c.clientMode){return e}throw new c.SchemaError("Bad schema (at "+r.displayPath+"), unexistant sanitizer '"+t.convert+"' (used as 'convert').")}if(!Array.isArray(e)){this.validatorError(r.displayPath+" should be an array to satisfy the 'unique' constraint.",r);return}for(n=0,o=e.length;n<o;n++){a=i=e[n];if(t.path){a=h.get(i,t.path)}if(t.noEmpty&&!a||t.noNull&&(a===null||a===undefined)){if(!t.resolve){this.validatorError(r.displayPath+" does not satisfy the 'unique' constraint (has null/empty value).",r);return}if(!s){s=e.slice(0,n)}continue}if(t.convert){a=c.sanitizers[t.convert].call(this,a,t,true)}if(l.has(a)){if(!t.resolve){this.validatorError(r.displayPath+" does not satisfy the 'unique' constraint.",r);return}if(!s){s=e.slice(0,n)}continue}if(s){s.push(i)}l.add(a)}return s||e};e.compound=function(t,e,r,n){var o,i,a;if(!Array.isArray(e.sources)||typeof e.target!=="string"||typeof e.format!=="string"){throw new c.SchemaError("Bad schema (at "+r.displayPath+"), the 'compound' constraint needs a 'sources' array, a 'target' and a 'format' string.")}o=h.get(t,e.target);if(o&&e.ifEmpty){return t}i=e.sources.map(e=>h.get(t,e)),a=s(e.format,...i);if(a===o){return t}if(!e.resolve){this.validatorError(r.displayPath+" does not satisfy the 'compound' constraint.",r);return}h.set(t,e.target,a);return t};e.extraction=function(e,t,r,u){var n,o,i,a,s,l,f;if(!Array.isArray(t.targets)||typeof t.source!=="string"||typeof t.match!=="string"&&!(t.match instanceof RegExp)){throw new c.SchemaError("Bad schema (at "+r.displayPath+"), the 'extraction' constraint needs a 'targets' array, a 'source' string, and a 'match' string or RegExp.")}a=h.get(e,t.source);if(typeof a!=="string"){this.validatorError(r.displayPath+" should have a string as its '"+t.source+"' child to satisfy the 'extraction' constraint.",r);return}f=t.match instanceof RegExp?t.match:new RegExp(t.match,t.flags||"");s=a.match(f);if(!s){this.validatorError(r.displayPath+" 's child '"+t.source+"' does not match the regular expression, hence do not to satisfy the 'extraction' constraint.",r);return}for(n=0,o=t.targets.length;n<o;n++){i=h.get(e,t.targets[n]);l=s[n+1];if(i&&t.ifEmpty){continue}if(l===i){continue}if(!t.resolve){this.validatorError(r.displayPath+" does not satisfy the 'extraction' constraint.",r);return}h.set(e,t.targets[n],l)}return e}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./core.js":9,"string-kit/lib/format.js":25,"tree-kit/lib/dotPath.js":33}],9:[function(l,f,e){(function(s){(function(){"use strict";function g(...e){var t,r,n,o,i;if(e.length<2||e.length>3){throw new Error("doormen() needs at least 2 and at most 3 arguments")}if(e.length===2){n=e[0];r=e[1]}else{t=e[0];n=e[1];r=e[2]}if(!n||typeof n!=="object"){throw new g.SchemaError("Bad schema, it should be an object or an array of object!")}if(!t||typeof t!=="object"){t={}}if(!t.patch||typeof t.patch!=="object"||Array.isArray(t.patch)){t.patch=false}o={userContext:t.userContext,validate:true,onlyConstraints:!!t.onlyConstraints,errors:[],patch:t.patch,check:u,validatorError:y,report:!!t.report,export:!!t.export};i=o.check(n,r,{path:"",displayPath:r===null?"null":Array.isArray(r)?"array":typeof r,key:""},false);if(o.report){return{validate:o.validate,sanitized:i,errors:o.errors}}return i}f.exports=g;g.report=g.bind(g,{report:true});g.export=g.bind(g,{export:true});g.checkConstraints=g.bind(g,{onlyConstraints:true});g.ValidatorError=l("./ValidatorError.js");g.SchemaError=l("./SchemaError.js");g.AssertionError=l("./AssertionError.js");var e=l("./mask.js");g.tierMask=e.tierMask;g.tagMask=e.tagMask;g.getAllSchemaTags=e.getAllSchemaTags;g.isEqual=l("./isEqual.js");g.schemaSchema=l("./schemaSchema.js");g.validateSchema=function(e){return g(g.schemaSchema,e)};g.purifySchema=function(e){return g.export(g.schemaSchema,e)};if(!s){s=window}if(!s.DOORMEN_GLOBAL_EXTENSIONS){s.DOORMEN_GLOBAL_EXTENSIONS={}}if(!s.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers){s.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers={}}if(!s.DOORMEN_GLOBAL_EXTENSIONS.sanitizers){s.DOORMEN_GLOBAL_EXTENSIONS.sanitizers={}}if(!s.DOORMEN_GLOBAL_EXTENSIONS.filters){s.DOORMEN_GLOBAL_EXTENSIONS.filters={}}if(!s.DOORMEN_GLOBAL_EXTENSIONS.constraints){s.DOORMEN_GLOBAL_EXTENSIONS.constraints={}}if(!s.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions){s.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions={}}g.typeCheckers=l("./typeCheckers.js");g.sanitizers=l("./sanitizers.js");g.filters=l("./filters.js");g.constraints=l("./constraints.js");g.defaultFunctions=l("./defaultFunctions.js");g.topLevelFilters=["instanceOf","min","max","length","minLength","maxLength","match","in","notIn","eq"];function u(e,t,r,n){var o,i,u,c,h,a=t,s,p,y,l,d,f;if(!e||typeof e!=="object"){throw new g.SchemaError(r.displayPath+" is not a schema (not an object or an array of object).")}if(Array.isArray(e)){y=[];for(o=0;o<e.length;o++){try{a=g.export(e[o],t)}catch(e){y.push(e.message.replace(/\.$/,""));continue}return a}this.validatorError(r.displayPath+" does not validate any schema alternatives: ( "+y.join(" ; ")+" ).",r);return}if(!this.onlyConstraints){if(e.value!==undefined){return e.value}if(a===null){if(e.nullIsUndefined){a=undefined}else if(!e.nullIsValue){if(e.defaultFn){if(typeof e.defaultFn==="function"){return e.defaultFn(e)}if(g.defaultFunctions[e.defaultFn]){return g.defaultFunctions[e.defaultFn](e)}else if(!g.clientMode){throw new g.SchemaError("Bad schema (at "+r.displayPath+"), unexistant default function '"+e.defaultFn+"'.")}}if("default"in e){return b(e.default)}if(e.optional){return a}}}if(a===undefined){if(e.defaultFn){if(typeof e.defaultFn==="function"){return e.defaultFn(e)}if(g.defaultFunctions[e.defaultFn]){return g.defaultFunctions[e.defaultFn](e)}else if(!g.clientMode){throw new g.SchemaError("Bad schema (at "+r.displayPath+"), unexistant default function '"+e.defaultFn+"'.")}}if("default"in e){return b(e.default)}if(e.optional){return a}}if(e.sanitize){c=Array.isArray(e.sanitize)?e.sanitize:[e.sanitize];d=a;for(o=0;o<c.length;o++){if(!g.sanitizers[c[o]]){if(g.clientMode){continue}throw new g.SchemaError("Bad schema (at "+r.displayPath+"), unexistant sanitizer '"+c[o]+"'.")}a=g.sanitizers[c[o]].call(this,a,e,this.export&&a===t)}if(this.patch&&d!==a){m(this.patch,r.path,a)}}if(e.type){if(!g.typeCheckers[e.type]){if(!g.clientMode){throw new g.SchemaError("Bad schema (at "+r.displayPath+"), unexistant type '"+e.type+"'.")}}else if(!g.typeCheckers[e.type].call(this,a,e)){this.validatorError(r.displayPath+" is not a "+e.type+".",r)}}for(o=0;o<g.topLevelFilters.length;o++){i=g.topLevelFilters[o];if(e[i]!==undefined){g.filters[i].call(this,a,e[i],r)}}if(e.filter){if(typeof e.filter!=="object"){throw new g.SchemaError("Bad schema (at "+r.displayPath+"), 'filter' should be an object.")}for(i in e.filter){if(!g.filters[i]){if(g.clientMode){continue}throw new g.SchemaError("Bad schema (at "+r.displayPath+"), unexistant filter '"+i+"'.")}g.filters[i].call(this,a,e.filter[i],r)}}if(e.keys!==undefined&&(a&&(typeof a==="object"||typeof a==="function"))){if(!e.keys||typeof e.keys!=="object"){throw new g.SchemaError("Bad schema (at "+r.displayPath+"), 'keys' should contain a schema object.")}if(this.export&&a===t){a={};s=t}else{s=a}for(i in s){f=":"+i;u=this.check(e.keys,i,{path:r.path+f,displayPath:r.displayPath+f,key:i},n);if(u in a&&u!==i){this.validatorError("'keys' cannot overwrite another existing key: "+r.displayPath+" want to rename '"+i+"' to '"+u+"' but it already exists.",r)}a[u]=s[i];if(u!==i){delete a[i]}}}}if(e.of!==undefined&&(a&&(typeof a==="object"||typeof a==="function"))){if(!e.of||typeof e.of!=="object"){throw new g.SchemaError("Bad schema (at "+r.displayPath+"), 'of' should contain a schema object.")}if(Array.isArray(a)){if(this.export&&a===t){a=[];s=t}else{s=a}for(o=0;o<s.length;o++){f="["+o+"]";a[o]=this.check(e.of,s[o],{path:r.path+f,displayPath:r.displayPath+f,key:o},n)}}else{if(this.export&&a===t){a={};s=t}else{s=a}for(i in s){f="."+i;a[i]=this.check(e.of,s[i],{path:r.path?r.path+f:i,displayPath:r.displayPath+f,key:i},n)}}}if(e.properties!==undefined&&(a&&(typeof a==="object"||typeof a==="function"))){if(!e.properties||typeof e.properties!=="object"){throw new g.SchemaError("Bad schema (at "+r.displayPath+"), 'properties' should be an object.")}if(this.export&&a===t){a={};s=t}else{s=a}h=new Set;if(Array.isArray(e.properties)){for(o=0;o<e.properties.length;o++){i=e.properties[o];if(!(i in s)){this.validatorError(r.displayPath+" does not have all required properties ("+JSON.stringify(e.properties)+").",r)}a[i]=s[i];h.add(i)}}else{for(i in e.properties){if(!e.properties[i]||typeof e.properties[i]!=="object"){throw new g.SchemaError(r.displayPath+"."+i+" is not a schema (not an object or an array of object).")}h.add(i);f="."+i;p=this.check(e.properties[i],s[i],{path:r.path?r.path+f:i,displayPath:r.displayPath+f,key:i},n);if(p!==undefined||i in s){a[i]=p}}}if(!this.onlyConstraints&&!e.extraProperties){for(i in s){if(!h.has(i)){this.validatorError(r.displayPath+" has extra properties ('"+i+"' is not in "+JSON.stringify([...h])+").",r)}}}}if(e.elements!==undefined&&Array.isArray(a)){if(!Array.isArray(e.elements)){throw new g.SchemaError("Bad schema (at "+r.displayPath+"), 'elements' should be an array.")}if(this.export&&a===t){a=[];s=t}else{s=a}for(o=0;o<e.elements.length;o++){f="["+o+"]";a[o]=this.check(e.elements[o],s[o],{path:r.path+f,displayPath:r.displayPath+f,key:o},n)}if(!e.extraElements&&s.length>e.elements.length){this.validatorError(r.displayPath+" has extra elements ("+s.length+" instead of "+e.elements.length+").",r)}}if(e.constraints&&!n){if(!Array.isArray(e.constraints)){throw new g.SchemaError("Bad schema (at "+r.displayPath+"), 'constraints' should be an object.")}if(!a||typeof a!=="object"){this.validatorError(r.displayPath+" has a constraints but is not an object.",r)}d=a;for(o=0;o<e.constraints.length;o++){l=e.constraints[o];if(!l||typeof l!=="object"){throw new g.SchemaError("Bad schema (at "+r.displayPath+"), constraints #"+o+" should be an object.")}if(!g.constraints[l.enforce]){if(g.clientMode){continue}throw new g.SchemaError("Bad schema (at "+r.displayPath+"), unexistant constraints '"+l.enforce+"'.")}a=g.constraints[l.enforce].call(this,a,l,r,this.export&&a===t)}if(this.patch&&d!==a){m(this.patch,r.path,a)}}return a}const t=l("tree-kit/lib/clone.js");function b(e){if(e&&typeof e==="object"){return t(e)}return e}function m(e,t,r){var n,o;e[t]=r;o=t+".";for(n in e){if(n.startsWith(o)){delete e[n]}}}g.path=g.subSchema=(e,t,r=false,n=false)=>{var o,i;if(!Array.isArray(t)){if(typeof t!=="string"){throw new Error("Argument #1 'path' should be a string or an array")}t=t.split(".").filter(e=>e)}try{for(o=0,i=t.length;o<i&&e;o++){e=g.directSubSchema(e,t[o],r,n)}}catch(e){e.message+=" (at: "+t.slice(0,o+1).join(".")+")";throw e}return e};const o={};Object.freeze(o);g.directSubSchema=(e,t,r,n)=>{if(!e||typeof e!=="object"){throw new g.SchemaError("Not a schema (not an object or an array of object).")}if(n&&e.opaque){throw new g.ValidatorError("Path leading inside an opaque object.")}if(r&&e.noSubmasking){return null}if(Array.isArray(e)){throw new Error("Schema alternatives are not supported for subSchema ATM.")}if(e.properties!==undefined){if(!e.properties||typeof e.properties!=="object"){throw new g.SchemaError("Bad schema: 'properties' should be an object.")}if(e.properties[t]){return e.properties[t]}else if(!e.extraProperties){throw new g.SchemaError("Bad path: property '"+t+"' not found and the schema does not allow extra properties.")}}if(e.elements!==undefined){if(!Array.isArray(e.elements)){throw new g.SchemaError("Bad schema: 'elements' should be an array.")}t=+t;if(e.elements[t]){return e.elements[t]}else if(!e.extraElements){throw new g.SchemaError("Bad path: element #"+t+" not found and the schema does not allow extra elements.")}}if(e.of!==undefined){if(!e.of||typeof e.of!=="object"){throw new g.SchemaError("Bad schema: 'of' should contain a schema object.")}return e.of}return o};g.schemaWalker=function(e,t){var r,n,o,i,a=e.schema;if(Array.isArray(a)){o=i=0;for(r=0;r<a.length;r++){o++;n=g.schemaWalker({schema:e.schema[r],schemaPath:e.schemaPath.concat(r),options:e.options});if(n!==e.schema[r]){if(a===e.schema){a=Array.from(e.schema)}a[r]=n;if(n===undefined){i++}}}if(i&&o===i){a=undefined}return a}if(e.schema.properties&&typeof e.schema.properties==="object"){o=i=0;for(r in e.schema.properties){o++;n=t({schema:e.schema.properties[r],schemaPath:e.schemaPath.concat("properties",r),options:e.options});if(n!==e.schema.properties[r]){if(a===e.schema){a=Object.assign({},e.schema)}if(a.properties===e.schema.properties){a.properties=Object.assign({},e.schema.properties)}if(n===undefined){delete a.properties[r];i++;if(e.options&&e.options.extraProperties){a.extraProperties=true}}else{a.properties[r]=n}}}if(i&&o===i){delete a.properties}if(i&&e.options&&e.options.extraProperties){a.extraProperties=true}}if(a.of&&typeof a.of==="object"){n=t({schema:e.schema.of,schemaPath:e.schemaPath.concat("of"),options:e.options});if(n!==e.schema.of){if(a===e.schema){a=Object.assign({},e.schema)}if(n===undefined){delete a.of}else{a.of=n}}}if(a.elements&&Array.isArray(a.elements)){o=i=0;for(r=0;r<a.elements.length;r++){o++;n=t({schema:e.schema.elements[r],schemaPath:e.schemaPath.concat("elements",r),options:e.options});if(n!==e.schema.elements[r]){if(a===e.schema){a=Object.assign({},e.schema)}if(a.elements===e.schema.elements){a.elements=Array.from(e.schema.elements)}a.elements[r]=n;if(n===undefined){i++}}}if(i&&o===i){delete a.elements}}return a};g.constraintSchema=function(e){return r({schema:e,schemaPath:[],options:{extraProperties:true}})};function r(e){var t=g.schemaWalker(e,r);if(Array.isArray(t)){return t}if(t===e.schema){if(!t.constraints){return}t=Object.assign({},e.schema)}delete t.type;delete t.sanitize;delete t.filter;return t}g.patchTier=function(e,t){var r,n,o,i=1,a=Object.keys(t);for(r=0,n=a.length;r<n;r++){o=a[r].split(".");while(o.length){i=Math.max(i,g.subSchema(e,o).tier||1);o.pop()}}return i};g.checkPatchByTags=function(e,t,r){var n;if(!(r instanceof Set)){if(Array.isArray(r)){r=new Set(r)}else{r=new Set([r])}}for(n in t){h(e,n,r,t[n])}};function h(e,t,r,n){var o,i,a;t=t.split(".");while(t.length){o=g.subSchema(e,t);if(o.tags){a=false;for(i of o.tags){if(r.has(i)){a=true;break}}if(!a){if(this&&this.validatorError){this.validatorError("Not allowed by tags",n)}else{throw new g.ValidatorError("Not allowed by tags",n)}}}t.pop()}}g.patch=function(...e){var t,r,n,o,i,a,s,l,f;if(e.length<2||e.length>3){throw new Error("doormen.patch() needs at least 2 and at most 3 arguments")}if(e.length===2){o=e[0];t=e[1]}else{s=e[0];o=e[1];t=e[2]}if(!o||typeof o!=="object"){throw new g.SchemaError("Bad schema, it should be an object or an array of object!")}if(!s||typeof s!=="object"){s={}}if(!t||typeof t!=="object"){throw new Error("The patch should be an object")}a=s.export?{}:t;l={userContext:s.userContext,validate:true,errors:[],check:u,checkAllowed:s.allowedTags?h:null,allowedTags:s.allowedTags?new Set(Array.isArray(s.allowedTags)?s.allowedTags:[s.allowedTags]):null,validatorError:y,report:!!s.report,export:!!s.export};for(r in t){n=t[r];if(l.checkAllowed){l.checkAllowed(o,r,l.allowedTags,n)}if(f=p(n)){n=n[f];if(c[f].getValue){n=c[f].getValue(n)}if(c[f].applyToChildren){i=g.subSchema(o,r,undefined,true).of||{}}else{i=g.subSchema(o,r,undefined,true)}if(c[f].sanitize){a[r][f]=c[f].sanitize(n);l.check(i,n,{displayPath:"patch."+r,path:r,key:r},true)}else{a[r][f]=l.check(i,n,{displayPath:"patch."+r,path:r,key:r},true)}}else{i=g.subSchema(o,r,undefined,true);a[r]=l.check(i,n,{displayPath:"patch."+r,path:r,key:r},true)}}if(l.report){return{validate:l.validate,sanitized:a,errors:l.errors}}return a};g.patch.report=g.patch.bind(g,{report:true});g.patch.export=g.patch.bind(g,{export:true});const i=l("tree-kit/lib/dotPath.js");g.applyPatch=function(e,t){var r,n,o;if(!t||typeof t!=="object"){throw new Error("The patch should be an object")}for(r in t){n=t[r];if(o=p(n)){c[o](e,r,n[o])}else{i.set(e,r,n)}}return e};function p(e){var t;if(!e||typeof e!=="object"){return false}for(t in e){if(t[0]!=="$"){return false}if(!c[t]){throw new Error("Bad command '"+t+"'")}return t}}const c={};c.$set=(e,t,r)=>i.set(e,t,r);c.$delete=c.$unset=(e,t)=>i.delete(e,t);c.$delete.getValue=()=>undefined;c.$delete.sanitize=()=>true;c.$push=(e,t,r)=>i.append(e,t,r);c.$push.applyToChildren=true;function y(e,t){var r=new g.ValidatorError(e,t);this.validate=false;if(this.report){this.errors.push(r)}else{throw r}}function n(e,t,r){var n;if(!t||typeof t!=="object"||Array.isArray(t)){throw new TypeError("[doormen] .extend*(): Argument #0 should be a plain object")}for(n in t){if(n in e&&!r||typeof t[n]!=="function"){continue}e[n]=t[n]}}g.extendTypeCheckers=function(e,t){n(s.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers,e,t)};g.extendSanitizers=function(e,t){n(s.DOORMEN_GLOBAL_EXTENSIONS.sanitizers,e,t)};g.extendFilters=function(e,t){n(s.DOORMEN_GLOBAL_EXTENSIONS.filters,e,t)};g.extendConstraints=function(e,t){n(s.DOORMEN_GLOBAL_EXTENSIONS.constraints,e,t)};g.extendDefaultFunctions=function(e,t){n(s.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions,e,t)};g.clientMode=false;g.setClientMode=function(e){g.clientMode=!!e};g.shouldThrow=function e(t,r){var n=false;r=r||e;try{t()}catch(e){n=true}if(!n){throw new g.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have thrown.",r)}};g.shouldReject=async function e(t,r){var n=false;r=r||e;try{await t()}catch(e){n=true}if(!n){throw new g.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have rejected.",r)}};g.shouldThrowAssertion=function e(t,r){var n,o=false;r=r||e;try{t()}catch(e){o=true;n=e}if(!o){throw new g.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have thrown.",r)}if(!(n instanceof g.AssertionError)){n.message="Function '"+(t.name||"(anonymous)")+"' should have thrown an AssertionError, instead it had thrown: "+n.message;throw n}return n};g.shouldRejectAssertion=async function e(t,r){var n,o=false;r=r||e;try{await t()}catch(e){o=true;n=e}if(!o){throw new g.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have rejected.",r)}if(!(n instanceof g.AssertionError)){n.message="Function '"+(t.name||"(anonymous)")+"' should have rejected with an AssertionError, instead it had rejected with: "+n.message;throw n}return n};g.not=function e(...t){g.shouldThrow(()=>{g(...t)},e)};g.checkConstraints.not=function e(...t){g.shouldThrow(()=>{g.constraints(...t)},e)};g.patch.not=function e(...t){g.shouldThrow(()=>{g.patch(...t)},e)};g.equals=function e(t,r){if(!g.isEqual(t,r)){throw new g.AssertionError("should have been equal",e,{actual:t,expected:r,showDiff:true})}};g.not.equals=function e(t,r){if(g.isEqual(t,r)){throw new g.AssertionError("should not have been equal",e,{actual:t,expected:r,showDiff:true})}};const a={like:true};g.alike=function e(t,r){if(!g.isEqual(t,r,a)){throw new g.AssertionError("should have been alike",e,{actual:t,expected:r,showDiff:true})}};g.not.alike=function e(t,r){if(g.isEqual(t,r,a)){throw new g.AssertionError("should not have been alike",e,{actual:t,expected:r,showDiff:true})}}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./AssertionError.js":1,"./SchemaError.js":4,"./ValidatorError.js":5,"./constraints.js":8,"./defaultFunctions.js":10,"./filters.js":13,"./isEqual.js":14,"./mask.js":15,"./sanitizers.js":16,"./schemaSchema.js":17,"./typeCheckers.js":18,"tree-kit/lib/clone.js":32,"tree-kit/lib/dotPath.js":33}],10:[function(e,r,t){(function(t){(function(){"use strict";if(!t){t=window}if(!t.DOORMEN_GLOBAL_EXTENSIONS){t.DOORMEN_GLOBAL_EXTENSIONS={}}if(!t.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions){t.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions={}}const e=Object.create(t.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions);r.exports=e;e.now=()=>new Date}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],11:[function(e,t,r){"use strict";const n=e("./core.js");t.exports=n;n.isBrowser=false;n.assert=e("./assert.js");n.expect=e("./expect.js");n.Form=e("./Form.js")},{"./Form.js":2,"./assert.js":6,"./core.js":9,"./expect.js":12}],12:[function(e,t,r){"use strict";const a=e("./assert.js");const s=e("./AssertionError.js");const n={};n.inspect=function(){return this};n.toString=function(){return""+this};function o(e={}){var i=function e(t,r,...n){if(r){if(!a[r]){throw new Error("Unknown expectationType '"+r+"'.")}return a[r](e,t,...n)}var o=function e(){};if(arguments.length){o.value=t}else{o.value=a.NONE}o.expectationType=null;o.fnArgs=null;o.isPromise=false;o.each=false;o.expectFn=i;o.proxy=new Proxy(o,f);return o.proxy};i.hooks=e;i.stats={ok:0,fail:0};i.prototype=n;i.each=function t(e,r,...n){e=a._toArrayOfValues(e);if(r){if(!a[r]){throw new Error("Unknown expectationType '"+r+"'.")}return e.forEach(e=>a[r](t,e,...n))}var o=function e(){};if(arguments.length){o.value=e}else{o.value=a.NONE}o.expectationType=null;o.fnArgs=null;o.isPromise=false;o.each=true;o.expectFn=i;o.proxy=new Proxy(o,f);return o.proxy};return i}t.exports=o();t.exports.factory=o;var l={};l["with args"]=l.with=l.args=l.withArgs=(e,...t)=>{if(!e.fnArgs){e.fnArgs=[null,...t]}else{e.fnArgs=[e.fnArgs[0],...t]}};l["method of"]=(e,t)=>{if(!e.fnArgs){e.fnArgs=[t]}else{e.fnArgs[0]=t}if(typeof e.value!=="function"){e.value=t[e.value]}};var f={get:(e,t)=>{if(t==="eventually"){e.isPromise=true;return e.proxy}if(typeof t==="string"&&!Function.prototype[t]&&!Object.prototype[t]&&!n[t]){if(e.expectationType){e.expectationType+=" "+t}else{e.expectationType=t}return e.proxy}if(n[t]&&!e[t]){e[t]=n[t]}if(typeof e[t]==="function"){return e[t].bind(e)}return e[t]},apply:(t,e,r)=>{var n,o,i;n=l[t.expectationType];if(n){t.expectationType=null;n(t,...r);return t.proxy}n=a[t.expectationType];if(!n){throw new Error("Unknown expectationType '"+t.expectationType+"'.")}if(t.isPromise){if(!n.promise){i=new Error;if(Error.captureStackTrace){Error.captureStackTrace(i,f.apply)}if(t.each){o=Promise.all(t.value)}else{o=Promise.resolve(t.value)}return o.then(e=>{t.value=e;t.isPromise=false;t.proxy(...r)},()=>{t.expectFn.stats.fail++;if(t.expectFn.hooks.fail){t.expectFn.hooks.fail()}throw s.create(i,t.value,null,"to resolve")})}if(typeof n.promise==="function"){n=n.promise}}if(n.async){i=new Error;if(Error.captureStackTrace){Error.captureStackTrace(i,f.apply)}if(n.fnParams){if(t.each){o=Promise.all(t.value.map(e=>n(i,e,t.fnArgs,...r)))}else{o=n(i,t.value,t.fnArgs,...r)}}else if(t.each){o=Promise.all(t.value.map(e=>n(i,e,...r)))}else{o=n(i,t.value,...r)}return o.then(()=>{t.expectFn.stats.ok++;if(t.expectFn.hooks.ok){t.expectFn.hooks.ok()}},e=>{t.expectFn.stats.fail++;if(t.expectFn.hooks.fail){t.expectFn.hooks.fail()}throw e})}try{if(n.fnParams){if(t.each){t.value.forEach(e=>n(f.apply,e,t.fnArgs,...r))}else{n(f.apply,t.value,t.fnArgs,...r)}}else if(t.each){t.value.forEach(e=>n(f.apply,e,...r))}else{n(f.apply,t.value,...r)}t.expectFn.stats.ok++;if(t.expectFn.hooks.ok){t.expectFn.hooks.ok()}}catch(e){t.expectFn.stats.fail++;if(t.expectFn.hooks.fail){t.expectFn.hooks.fail()}throw e}}}},{"./AssertionError.js":1,"./assert.js":6}],13:[function(t,r,e){(function(n){(function(){"use strict";if(!n){n=window}if(!n.DOORMEN_GLOBAL_EXTENSIONS){n.DOORMEN_GLOBAL_EXTENSIONS={}}if(!n.DOORMEN_GLOBAL_EXTENSIONS.filters){n.DOORMEN_GLOBAL_EXTENSIONS.filters={}}const e=Object.create(n.DOORMEN_GLOBAL_EXTENSIONS.filters);r.exports=e;const i=t("./core.js");e.instanceOf=function(e,t,r){if(typeof t==="string"){t=i.isBrowser?window[t]:n[t]}if(typeof t!=="function"){throw new i.SchemaError("Bad schema (at "+r.path+"), 'instanceOf' should be a function or a global function's name.")}if(!(e instanceof t)){this.validatorError(r.path+" is not an instance of "+t+".",r)}};e.eq=e["==="]=function(e,t,r){if(e!==t){this.validatorError(r.path+" is not stricly equal to "+t+".",r)}};e.min=e.gte=e.greaterThanOrEqual=e[">="]=function(e,t,r){if(typeof t!=="number"){throw new i.SchemaError("Bad schema (at "+r.path+"), 'min' should be a number.")}if(typeof e!=="number"||!(e>=t)){this.validatorError(r.path+" is not greater than or equal to "+t+".",r)}};e.max=e.lte=e.lesserThanOrEqual=e["<="]=function(e,t,r){if(typeof t!=="number"){throw new i.SchemaError("Bad schema (at "+r.path+"), 'max' should be a number.")}if(typeof e!=="number"||!(e<=t)){this.validatorError(r.path+" is not lesser than or equal to "+t+".",r)}};e.gt=e.greaterThan=e[">"]=function(e,t,r){if(typeof t!=="number"){throw new i.SchemaError("Bad schema (at "+r.path+"), 'greaterThan' should be a number.")}if(typeof e!=="number"||!(e>t)){this.validatorError(r.path+" is not greater than "+t+".",r)}};e.lt=e.lesserThan=e["<"]=function(e,t,r){if(typeof t!=="number"){throw new i.SchemaError("Bad schema (at "+r.path+"), 'lesserThan' should be a number.")}if(typeof e!=="number"||!(e<t)){this.validatorError(r.path+" is not lesser than "+t+".",r)}};e.length=function(e,t,r){if(typeof t!=="number"){throw new i.SchemaError("Bad schema (at "+r.path+"), 'length' should be a number.")}try{if(!(e.length===t)){throw true}}catch(e){this.validatorError(r.path+" has not a length equal to "+t+".",r)}};e.minLength=function(e,t,r){if(typeof t!=="number"){throw new i.SchemaError("Bad schema (at "+r.path+"), 'minLength' should be a number.")}try{if(!(e.length>=t)){throw true}}catch(e){this.validatorError(r.path+" has not a length greater than or equal to "+t+".",r)}};e.maxLength=function(e,t,r){if(typeof t!=="number"){throw new i.SchemaError("Bad schema (at "+r.path+"), 'maxLength' should be a number.")}try{if(!(e.length<=t)){throw true}}catch(e){this.validatorError(r.path+" has not a length lesser than or equal to "+t+".",r)}};e.match=function(e,t,r){if(typeof t!=="string"&&!(t instanceof RegExp)){throw new i.SchemaError("Bad schema (at "+r.path+"), 'match' should be a RegExp or a string.")}if(t instanceof RegExp){if(typeof e!=="string"||!e.match(t)){this.validatorError(r.path+" does not match "+t+" .",r)}}else if(typeof e!=="string"||!e.match(new RegExp(t))){this.validatorError(r.path+" does not match /"+t+"/ .",r)}};e.in=function(e,t,r){var n,o=false;if(!Array.isArray(t)){throw new i.SchemaError("Bad schema (at "+r.path+"), 'in' should be an array.")}for(n=0;n<t.length;n++){if(i.isEqual(e,t[n])){o=true;break}}if(!o){this.validatorError(r.path+" should be in "+JSON.stringify(t)+".",r)}};e.notIn=function(e,t,r){var n;if(!Array.isArray(t)){throw new i.SchemaError("Bad schema (at "+r.path+"), 'not-in' should be an array.")}for(n=0;n<t.length;n++){if(i.isEqual(e,t[n])){this.validatorError(r.path+" should not be in "+JSON.stringify(t)+".",r)}}}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./core.js":9}],14:[function(e,t,r){(function(j){(function(){"use strict";const o={};const v=1+4*Number.EPSILON;const E=4*Number.MIN_VALUE;var O="";function e(e,t,r=o){var n={leftStack:[],rightStack:[],like:!!r.like,oneWay:!!r.oneWay,around:!!r.around,unordered:!!r.unordered};O=null;return S(n,e,t,"")}e.getLastPath=()=>O;function S(e,r,n,o){var t,i,a,u,c,s,h,l,p,y,f,d,g,b,m,w,k;if(r===n){return true}if(typeof r!==typeof n){O=o;return false}if(typeof r==="number"){if(Number.isNaN(r)&&Number.isNaN(n)){return true}if(e.around){let e=Math.abs(r),t=Math.abs(n);if(e<=E||t<=E){if(r<=n+E&&n<=r+E){return true}}else if(r*n<0){O=o;return false}else if(e<=t*v&&t<=e*v){return true}}O=o;return false}if(!r!==!n){O=o;return false}if(!r){O=o;return false}if(typeof r==="object"){p=e.leftStack.indexOf(r);y=e.rightStack.indexOf(n);if(p>=0){e.leftCircular=true}if(y>=0){e.rightCircular=true}if(e.leftCircular&&e.rightCircular){return true}if(!e.like&&Object.getPrototypeOf(r)!==Object.getPrototypeOf(n)){O=o;return false}if(Array.isArray(r)){if(!Array.isArray(n)){O=o;return false}if(r.length!==n.length){O=o+"."+Math.min(r.length,n.length);return false}if(e.unordered){if(s){s.length=0}else{s=new Array(r.length)}i=r.length;u=n.length;for(t=0;t<i;t++){if(!s[t]){if(r[t]===n[t]){continue}e.leftStack.push(r);e.rightStack.push(n);f=S(e,r[t],n[t],o+"."+t);e.leftStack.pop();e.rightStack.pop();if(f){s[t]=true;continue}}c=false;for(a=0;a<u;a++){if(t===a||s[a]){continue}if(r[t]===n[a]){c=true;s[a]=true;break}e.leftStack.push(r);e.rightStack.push(n);f=S(e,r[t],n[a],o+"."+t);e.leftStack.pop();e.rightStack.pop();if(f){c=true;s[a]=true;break}}if(!c){O=o;return false}}}else{for(t=0,i=r.length;t<i;t++){if(r[t]===n[t]){continue}e.leftStack.push(r);e.rightStack.push(n);f=S(e,r[t],n[t],o+"."+t);e.leftStack.pop();e.rightStack.pop();if(!f){return false}}}}else if(j.isBuffer(r)){return j.isBuffer(n)&&r.equals(n)}else{if(Array.isArray(n)){O=o;return false}if(typeof r.valueOf==="function"&&typeof n.valueOf==="function"){d=r.valueOf();g=n.valueOf();if(d!==r&&g!==n){b=Object.getPrototypeOf(r);w=b&&b.constructor;m=Object.getPrototypeOf(n);k=m&&m.constructor;if(w&&k&&(w===k||r instanceof k||n instanceof w)){e.leftStack.push(r);e.rightStack.push(n);f=S(e,d,g,o);e.leftStack.pop();e.rightStack.pop();if(!f){return false}}}}h=Object.keys(r);for(t=0,i=h.length;t<i;t++){l=h[t];if(r[l]===undefined){continue}if(n[l]===undefined){O=o+"."+l;return false}if(r[l]===n[l]){continue}e.leftStack.push(r);e.rightStack.push(n);f=S(e,r[l],n[l],o+"."+l);e.leftStack.pop();e.rightStack.pop();if(!f){return false}}if(!e.oneWay){h=Object.keys(n);for(t=0,i=h.length;t<i;t++){l=h[t];if(n[l]===undefined){continue}if(r[l]===undefined){O=o+"."+l;return false}}}}return true}O=o;return false}t.exports=e}).call(this)}).call(this,{isBuffer:e("../node_modules/is-buffer/index.js")})},{"../node_modules/is-buffer/index.js":20}],15:[function(e,t,i){"use strict";i.tierMask=function(e,t,r=0,n=Infinity){if(!e||typeof e!=="object"){throw new TypeError("Bad schema, it should be an object or an array of object!")}var o={mask:i.tierMask,tier:r,iterate:a,check:s,depth:0,depthLimit:n};return o.iterate(e,t)};i.tagMask=function(e,t,r,n=Infinity){if(!e||typeof e!=="object"){throw new TypeError("Bad schema, it should be an object or an array of object!")}if(!(r instanceof Set)){if(Array.isArray(r)){r=new Set(r)}else{r=new Set([r])}}var o={mask:i.tagMask,tags:r,iterate:a,check:l,depth:0,depthLimit:n};return o.iterate(e,t)};function a(e,t){var r,n,o=t,i,a,s;if(!e||typeof e!=="object"){return}if(Array.isArray(e)){for(r=0;r<e.length;r++){try{o=this.mask(e[r],t,this.tier||this.tags,this.depthLimit-this.depth)}catch(e){continue}return o}return}s=this.check(e);if(s===false){return}else if(s===true&&e.noSubmasking){return o}if(this.depth>=this.depthLimit){return o}if(e.of&&typeof e.of==="object"){if(!o||typeof o!=="object"&&typeof o!=="function"){return o}if(Array.isArray(o)){if(o===t){o=[];i=t}else{i=o}for(r=0;r<i.length;r++){this.depth++;o[r]=this.iterate(e.of,i[r]);this.depth--}}else{if(o===t){o={};i=t}else{i=o}for(n in i){this.depth++;o[n]=this.iterate(e.of,i[n]);this.depth--}}}if(e.properties&&typeof e.properties==="object"){if(!o||typeof o!=="object"&&typeof o!=="function"){return o}if(o===t){o={};i=t}else{i=o}if(Array.isArray(e.properties)){for(r=0;r<e.properties.length;r++){n=e.properties[r];o[n]=i[n]}}else{for(n in e.properties){if(!e.properties[n]||typeof e.properties[n]!=="object"){continue}this.depth++;a=this.iterate(e.properties[n],i[n]);this.depth--;if(a!==undefined){o[n]=a}}if(e.extraProperties){for(n in i){if(!e.properties[n]){o[n]=i[n]}}}}}if(Array.isArray(e.elements)){if(!Array.isArray(o)){return o}if(o===t){o=[];i=t}else{i=o}for(r=0;r<e.elements.length;r++){this.depth++;o[r]=this.iterate(e.elements[r],i[r]);this.depth--}}return o}function s(e){if(e.tier===undefined){return}if(this.tier<e.tier){return false}return true}function l(e){var t,r;if(!Array.isArray(e.tags)||!e.tags.length){return}r=e.tags.length;for(t=0;t<r;t++){if(this.tags.has(e.tags[t])){return true}}return false}i.getAllSchemaTags=function(e,t=new Set,r=10){var n,o;if(!e||typeof e!=="object"||r<=0){return t}if(Array.isArray(e)){for(n=0;n<e.length;n++){this.getAllSchemaTags(e[n],t,r-1)}return t}if(e.tags){e.tags.forEach(e=>t.add(e))}if(e.noSubmasking){return t}if(e.of&&typeof e.of==="object"){this.getAllSchemaTags(e.of,t,r-1)}if(e.properties&&typeof e.properties==="object"&&!Array.isArray(e.properties)){for(o in e.properties){if(e.properties[o]||typeof e.properties[o]==="object"){this.getAllSchemaTags(e.properties[o],t,r-1)}}}if(Array.isArray(e.elements)){for(n=0;n<e.elements.length;n++){this.getAllSchemaTags(e.elements[n],t,r-1)}}return t}},{}],16:[function(a,s,e){(function(e){(function(){"use strict";const t=a("string-kit/lib/latinize.js");const r=a("string-kit/lib/toTitleCase.js");if(!e){e=window}if(!e.DOORMEN_GLOBAL_EXTENSIONS){e.DOORMEN_GLOBAL_EXTENSIONS={}}if(!e.DOORMEN_GLOBAL_EXTENSIONS.sanitizers){e.DOORMEN_GLOBAL_EXTENSIONS.sanitizers={}}const n=Object.create(e.DOORMEN_GLOBAL_EXTENSIONS.sanitizers);s.exports=n;const o=a("./core.js");n.toString=t=>{if(typeof t==="string"){return t}try{return""+t}catch(e){return t}};n.toNumber=e=>{if(typeof e==="number"){return e}else if(!e){return NaN}else if(typeof e==="string"){return parseFloat(e)}return NaN};n.toBoolean=e=>{if(typeof e==="boolean"){return e}switch(e){case 1:case"1":case"on":case"On":case"ON":case"true":case"True":case"TRUE":case"yes":case"Yes":case"YES":return true;case 0:case"0":case"off":case"Off":case"OFF":case"false":case"False":case"FALSE":case"no":case"No":case"NO":return false;default:return!!e}};n.toInteger=e=>{if(typeof e==="number"){return Math.round(e)}else if(!e){return NaN}else if(typeof e==="string"){return Math.round(parseFloat(e))}return NaN};n.toArray=e=>{if(Array.isArray(e)){return e}if(e===undefined){return[]}if(e&&typeof e==="object"&&o.typeCheckers.arguments(e)){return Array.prototype.slice.call(e)}return[e]};n.toDate=e=>{var t;if(e instanceof Date){return e}if(typeof e==="number"||typeof e==="string"||e&&typeof e==="object"&&e.constructor.name==="Date"){t=new Date(e);return isNaN(t)?e:t}return e};n.removeExtraProperties=(e,t,r)=>{var n,o,i;if(!e||typeof e!=="object"&&typeof e!=="function"||!t.properties||typeof t.properties!=="object"){return e}if(r){i=Array.isArray(e)?e.slice():{};if(Array.isArray(t.properties)){for(n=0;n<t.properties.length;n++){o=t.properties[n];if(o in e){i[o]=e[o]}}}else{for(o in t.properties){if(o in e){i[o]=e[o]}}}return i}if(Array.isArray(t.properties)){for(o in e){if(t.properties.indexOf(o)===-1){delete e[o]}}}else{for(o in e){if(!(o in t.properties)){delete e[o]}}}return e};n.trim=e=>typeof e==="string"?e.trim():e;n.toUpperCase=e=>typeof e==="string"?e.toUpperCase():e;n.toLowerCase=e=>typeof e==="string"?e.toLowerCase():e;n.capitalize=e=>typeof e==="string"?r(e,n.capitalize.toTitleCaseOptions):e;n.capitalize.toTitleCaseOptions={};n.titleCase=e=>typeof e==="string"?r(e,n.titleCase.toTitleCaseOptions):e;n.titleCase.toTitleCaseOptions={zealous:1,preserveAllCaps:true};n.latinize=e=>typeof e==="string"?t(e):e;n.dashToCamelCase=e=>typeof e==="string"?e.replace(/-(.)/g,(e,t)=>t.toUpperCase()):e;function i(e,t,r){if(t.leftPadding){return t.leftPadding[0].repeat(r)+e}if(t.rightPadding){return e+t.rightPadding[0].repeat(r)}return e+" ".repeat(r)}n.resize=(e,t)=>{if(typeof e!=="string"){return e}if(t.length){if(e.length>t.length){return e.slice(0,t.length)}if(e.length<t.length){return i(e,t,t.length-e.length)}return e}if(t.maxLength&&e.length>t.maxLength){return e.slice(0,t.maxLength)}if(t.minLength&&e.length<t.minLength){return i(e,t,t.minLength-e.length)}return e};n.nullToUndefined=e=>e===null?undefined:e;n.mongoId=t=>{if(typeof t!=="string"){return t}if(o.isBrowser){return t}try{var e=a("mongodb");return e.ObjectID(t)}catch(e){return t}}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./core.js":9,mongodb:19,"string-kit/lib/latinize.js":28,"string-kit/lib/toTitleCase.js":30}],17:[function(e,t,r){"use strict";const n={optional:true,type:"strictObject",extraProperties:true,properties:{type:{optional:true,type:"string"},optional:{optional:true,type:"boolean"},extraProperties:{optional:true,type:"boolean"},default:{optional:true},value:{optional:true},sanitize:{optional:true,sanitize:"toArray",type:"array",of:{type:"string"}},filter:{optional:true,type:"strictObject"},constraints:{optional:true,type:"array",of:{type:"strictObject",extraProperties:true,properties:{enforce:{type:"string"},resolve:{type:"boolean",default:false},ifEmtpy:{type:"boolean",default:false}}}},tier:{optional:true,type:"integer"},tags:{optional:true,sanitize:"toArray",type:"array",of:{type:"string"}},instanceOf:{optional:true,type:"classId"},min:{optional:true,type:"integer"},max:{optional:true,type:"integer"},length:{optional:true,type:"integer"},minLength:{optional:true,type:"integer"},maxLength:{optional:true,type:"integer"},match:{optional:true,type:"regexp"},in:{optional:true,type:"array"},notIn:{optional:true,type:"array"},hooks:{optional:true,type:"strictObject",of:{type:"array",sanitize:"toArray",of:{type:"function"}}}}};const o=[n,{type:"array",of:n}];n.properties.of=o;n.properties.properties=[{optional:true,type:"strictObject",of:o},{optional:true,type:"array",of:{type:"string"}}];n.properties.elements={optional:true,type:"array",of:o};t.exports=o},{}],18:[function(n,o,e){(function(e,r){(function(){"use strict";if(!e){e=window}if(!e.DOORMEN_GLOBAL_EXTENSIONS){e.DOORMEN_GLOBAL_EXTENSIONS={}}if(!e.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers){e.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers={}}const i=Object.create(e.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers);o.exports=i;const t=n("./core.js");i.undefined=e=>e===undefined;i.null=e=>e===null;i.boolean=e=>typeof e==="boolean";i.number=e=>typeof e==="number";i.string=e=>typeof e==="string";i.object=e=>e&&typeof e==="object";i.function=e=>typeof e==="function";i.array=e=>Array.isArray(e);i.error=e=>e instanceof Error;i.date=e=>e instanceof Date;i.arguments=e=>Object.prototype.toString.call(e)==="[object Arguments]";i.buffer=e=>{try{return e instanceof r}catch(e){return false}};i.strictObject=e=>e&&typeof e==="object"&&!Array.isArray(e);i.looseObject=e=>e&&typeof e==="object"||typeof e==="function";i.classId=e=>typeof e==="function"||typeof e==="string"&&e.length;i.unset=e=>e===undefined||e===null;i.regexp=e=>{if(e instanceof RegExp){return true}if(typeof e!=="string"){return false}try{new RegExp(e);return true}catch(e){return false}};i.schema=e=>{try{t.validateSchema(e)}catch(e){return false}return true};i.real=e=>typeof e==="number"&&!isNaN(e)&&isFinite(e);i.integer=e=>typeof e==="number"&&isFinite(e)&&e===Math.round(e);i.hex=e=>typeof e==="string"&&/^[0-9a-fA-F]+$/.test(e);i.ip=(e,t)=>i.ipv4(e,t)||i.ipv6(e,t);i.ipv4=(e,t,r)=>{var n,o,i;if(typeof e!=="string"){return false}if(!r&&!/^[0-9.]+$/.test(e)){return false}o=e.split(".");if(o.length!==4){return false}for(n=0;n<o.length;n++){if(!o[n].length||o[n].length>3){return false}i=parseInt(o[n],10);if(!(i>=0&&i<=255)){return false}}return true};i.ipv6=(e,t,r)=>{var n,o,i=false,a=false,s=false;if(typeof e!=="string"){return false}if(!r&&!/^[0-9a-f:]+$/.test(e)){return false}o=e.split(":");if(o.length>9&&o.length<3){return false}for(n=0;n<o.length;n++){if(!o[n].length){if(n===0){a=true;if(o[1].length){return false}}else if(n===o.length-1){s=true;if(o[n-1].length){return false}}else{if(i){return false}i=true}}else if(o[n].length>4){return false}}if(o.length<8&&!i){return false}if(o.length-(a?1:0)-(s?1:0)>8){return false}return true};i.hostname=(e,t,r)=>{var n,o;if(typeof e!=="string"){return false}if(!r&&!/^[^\s/$?#@:]+$/.test(e)){return false}o=e.split(".");for(n=0;n<o.length;n++){if(!o[n].length&&n!==o.length-1){return false}if(o[n].length>63){return false}}return true};i.host=(e,t)=>i.ip(e,t)||i.hostname(e,t);i.url=(e,t,r)=>{if(typeof e!=="string"){return false}var n=e.match(/^([a-z+.-]+):\/\/((?:([^\s@/:]+)(?::([^\s@/:]+))?@)?(([0-9.]+)|([0-9a-f:]+)|([^\s/$?#@:]+))(:[0-9]+)?)?(\/[^\s]*)?$/);if(!n){return false}if(r&&n[1]!=="http"&&n[1]!=="https"&&n[1]!=="ftp"){return false}if(!n[2]&&n[1]!=="file"){return false}if(n[6]){if(!i.ipv4(n[6],t,true)){return false}}if(n[7]){if(!i.ipv6(n[7],t,true)){return false}}if(n[8]){if(!i.hostname(n[8],t,true)){return false}}return true};i.weburl=(e,t)=>i.url(e,t,true);i.email=(e,t)=>{var r,n,o;if(typeof e!=="string"){return false}if(e.length>254){return false}r=e.match(/^([a-zA-Z0-9._#~!$&*+=,;:\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF-]+)@([^\s/$?#@:]+)$/);if(!r){return false}if(r[1].length>64){return false}o=r[1].split(".");for(n=0;n<o.length;n++){if(!o[n].length){return false}}if(!i.hostname(r[2],t,true)){return false}return true};i.mongoId=e=>{if(e&&typeof e==="object"&&e.constructor.name==="ObjectID"&&e.id&&typeof e.toString==="function"){e=e.toString()}return typeof e==="string"&&e.length===24&&/^[0-9a-f]{24}$/.test(e)}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},n("buffer").Buffer)},{"./core.js":9,buffer:19}],19:[function(e,t,r){},{}],20:[function(e,t,r){t.exports=function(e){return e!=null&&(n(e)||o(e)||!!e._isBuffer)};function n(e){return!!e.constructor&&typeof e.constructor.isBuffer==="function"&&e.constructor.isBuffer(e)}function o(e){return typeof e.readFloatLE==="function"&&typeof e.slice==="function"&&n(e.slice(0,0))}},{}],21:[function(u,c,h){var e=c.exports={};var r;var n;function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=o}}catch(e){r=o}try{if(typeof clearTimeout==="function"){n=clearTimeout}else{n=i}}catch(e){n=i}})();function p(t){if(r===setTimeout){return setTimeout(t,0)}if((r===o||!r)&&setTimeout){r=setTimeout;return setTimeout(t,0)}try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function y(t){if(n===clearTimeout){return clearTimeout(t)}if((n===i||!n)&&clearTimeout){n=clearTimeout;return clearTimeout(t)}try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}var a=[];var s=false;var l;var f=-1;function d(){if(!s||!l){return}s=false;if(l.length){a=l.concat(a)}else{f=-1}if(a.length){g()}}function g(){if(s){return}var e=p(d);s=true;var t=a.length;while(t){l=a;a=[];while(++f<t){if(l){l[f].run()}}f=-1;t=a.length}l=null;s=false;y(e)}e.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}a.push(new b(e,t));if(a.length===1&&!s){p(g)}};function b(e,t){this.fun=e;this.array=t}b.prototype.run=function(){this.fun.apply(null,this.array)};e.title="browser";e.browser=true;e.env={};e.argv=[];e.version="";e.versions={};function t(){}e.on=t;e.addListener=t;e.once=t;e.off=t;e.removeListener=t;e.removeAllListeners=t;e.emit=t;e.prependListener=t;e.prependOnceListener=t;e.listeners=function(e){return[]};e.binding=function(e){throw new Error("process.binding is not supported")};e.cwd=function(){return"/"};e.chdir=function(e){throw new Error("process.chdir is not supported")};e.umask=function(){return 0}},{}],22:[function(i,e,c){"use strict";function t(e,t=".",r=""){this.sign=1;this.digits=[];this.exposant=0;this.special=null;this.decimalSeparator=t;this.groupSeparator=r;this.set(e)}e.exports=t;t.prototype.set=function(e){var t,r,f,n,o,i,a,s,l;e=+e;if(!Number.isFinite(e)){this.special=e;return null}e=""+e;t=e.match(/(-)?([0-9]+)(?:.([0-9]+))?(?:e([+-][0-9]+))?/);if(!t){throw new Error("Unexpected error")}this.sign=t[1]?-1:1;this.exposant=t[2].length+(parseInt(t[4],10)||0);a=0;s=false;l=0;for(o=0,i=t[2].length;o<i;o++){n=+t[2][o];if(n!==0){s=true;this.digits[a]=n;a++;l=a}else if(s){this.digits[a]=n;a++}else{this.exposant--}}if(t[3]){for(o=0,i=t[3].length;o<i;o++){n=+t[3][o];if(n!==0){s=true;this.digits[a]=n;a++;l=a}else if(s){this.digits[a]=n;a++}else{this.exposant--}}}if(l!==a){this.digits.length=l}};t.prototype.toNumber=function(){if(this.special!==null){return this.special}return parseFloat((this.sign<0?"-":"")+"0."+this.digits.join("")+"e"+this.exposant)};t.prototype.toString=function(...e){if(this.special!==null){return""+this.special}if(this.exposant>20||this.exposant<-20){return this.toScientificString(...e)}return this.toNoExpString(...e)};t.prototype.toExponential=t.prototype.toExponentialString=function(){if(this.special!==null){return""+this.special}var e=this.sign<0?"-":"";if(!this.digits.length){return e+"0"}e+=this.digits[0];if(this.digits.length>1){e+=this.decimalSeparator+this.digits.join("").slice(1)}e+="e"+(this.exposant>0?"+":"")+(this.exposant-1);return e};const r=["⁰","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹"];const h="⁺";const n="⁻";const o="0".charCodeAt(0);t.prototype.toScientific=t.prototype.toScientificString=function(){if(this.special!==null){return""+this.special}var e=this.sign<0?"-":"";if(!this.digits.length){return e+"0"}e+=this.digits[0];if(this.digits.length>1){e+=this.decimalSeparator+this.digits.join("").slice(1)}var t=(this.exposant<=0?n:"")+(""+Math.abs(this.exposant-1)).split("").map(e=>r[e.charCodeAt(0)-o]).join("");e+=" × 10"+t;return e};t.prototype.toNoExp=t.prototype.toNoExpString=function(e=1,t=0,r=false,n=false,o=this.exposant){if(this.special!==null){return""+this.special}var i=[],a=[],s=this.sign<0?"-":n?"+":"";if(!this.digits.length){f(i,0,e);if(t&&!r){f(a,0,t)}}else if(o<=0){f(i,0,e);f(a,0,-o);u(a,this.digits);if(t&&this.digits.length-o<t){f(a,0,t-this.digits.length+o)}}else if(o>=this.digits.length){if(o<e){f(i,0,e-o)}u(i,this.digits);f(i,0,o-this.digits.length);if(t&&!r){f(a,0,t)}}else{if(o<e){f(i,0,e-o)}u(i,this.digits,0,o);u(a,this.digits,o);if(t&&this.digits.length-o<t&&(!r||this.digits.length-o>0)){f(a,0,t-this.digits.length+o)}}s+=this.groupSeparator?this.groupDigits(i,this.groupSeparator):i.join("");if(a.length){s+=this.decimalSeparator+(this.decimalGroupSeparator?this.groupDigits(a,this.decimalGroupSeparator):a.join(""))}return s};const a=["","k","M","G","T","P","E","Z","Y"];const s=["","m","µ","n","p","f","a","z","y"];t.prototype.toMetric=t.prototype.toMetricString=function(e=1,t=0,r=false,n=false){if(this.special!==null){return""+this.special}if(!this.digits.length){return this.sign>0?"0":"-0"}var o="",i;if(this.exposant>0){i=1+(this.exposant-1)%3;o=a[Math.floor((this.exposant-1)/3)];if(o===undefined){return this.toScientificString()}}else{i=3- -this.exposant%3;o=s[1+Math.floor(-this.exposant/3)];if(o===undefined){return this.toScientificString()}}return this.toNoExpString(e,t,r,n,i)+o};t.prototype.precision=function(r){if(this.special!==null||r>=this.digits.length){return this}if(r<0){this.digits.length=0;return this}if(this.digits[r]>=5){let e=r-1,t=false;for(;e>=0;e--){if(this.digits[e]<9){this.digits[e]++;t=true;break}else{this.digits[e]=0}}if(!t){this.exposant++;this.digits[0]=1;this.digits.length=1}else{this.digits.length=e+1}}else{this.digits.length=r;this.removeTrailingZero()}return this};t.prototype.round=function(e=0){var t=this.exposant+e;return this.precision(t)};t.prototype.removeTrailingZero=function(){var e=this.digits.length-1;while(e>=0&&this.digits[e]===0){e--}this.digits.length=e+1};const l=3;t.prototype.groupDigits=function(e,t,r=false){var n="",o=r?0:l-e.length%l,i=0,a=e.length;for(;i<a;i++){n+=i&&(i+o)%l===0?t+e[i]:e[i]}return n};function f(e,t,r){while(r--){e[e.length]=t}return e}function u(t,r,n=0,o=r.length){for(let e=n;e<o;e++){t[t.length]=r[e]}return t}},{}],23:[function(e,t,r){"use strict";const n={reset:"[0m",bold:"[1m",dim:"[2m",italic:"[3m",underline:"[4m",inverse:"[7m",defaultColor:"[39m",black:"[30m",red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m",grey:"[90m",gray:"[90m",brightBlack:"[90m",brightRed:"[91m",brightGreen:"[92m",brightYellow:"[93m",brightBlue:"[94m",brightMagenta:"[95m",brightCyan:"[96m",brightWhite:"[97m",defaultBgColor:"[49m",bgBlack:"[40m",bgRed:"[41m",bgGreen:"[42m",bgYellow:"[43m",bgBlue:"[44m",bgMagenta:"[45m",bgCyan:"[46m",bgWhite:"[47m",bgGrey:"[100m",bgGray:"[100m",bgBrightBlack:"[100m",bgBrightRed:"[101m",bgBrightGreen:"[102m",bgBrightYellow:"[103m",bgBrightBlue:"[104m",bgBrightMagenta:"[105m",bgBrightCyan:"[106m",bgBrightWhite:"[107m"};t.exports=n;n.fgColor={defaultColor:n.defaultColor,black:n.black,red:n.red,green:n.green,yellow:n.yellow,blue:n.blue,magenta:n.magenta,cyan:n.cyan,white:n.white,grey:n.grey,gray:n.gray,brightBlack:n.brightBlack,brightRed:n.brightRed,brightGreen:n.brightGreen,brightYellow:n.brightYellow,brightBlue:n.brightBlue,brightMagenta:n.brightMagenta,brightCyan:n.brightCyan,brightWhite:n.brightWhite};n.bgColor={defaultColor:n.defaultBgColor,black:n.bgBlack,red:n.bgRed,green:n.bgGreen,yellow:n.bgYellow,blue:n.bgBlue,magenta:n.bgMagenta,cyan:n.bgCyan,white:n.bgWhite,grey:n.bgGrey,gray:n.bgGray,brightBlack:n.bgBrightBlack,brightRed:n.bgBrightRed,brightGreen:n.bgBrightGreen,brightYellow:n.bgBrightYellow,brightBlue:n.bgBrightBlue,brightMagenta:n.bgBrightMagenta,brightCyan:n.bgBrightCyan,brightWhite:n.bgBrightWhite};n.trueColor=(t,r,n)=>{if(r===undefined&&typeof t==="string"){let e=t;if(e[0]==="#"){e=e.slice(1)}if(e.length===3){e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]}t=parseInt(e.slice(0,2),16)||0;r=parseInt(e.slice(2,4),16)||0;n=parseInt(e.slice(4,6),16)||0}return"[38;2;"+t+";"+r+";"+n+"m"};n.bgTrueColor=(t,r,n)=>{if(r===undefined&&typeof t==="string"){let e=t;if(e[0]==="#"){e=e.slice(1)}if(e.length===3){e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]}t=parseInt(e.slice(0,2),16)||0;r=parseInt(e.slice(2,4),16)||0;n=parseInt(e.slice(4,6),16)||0}return"[48;2;"+t+";"+r+";"+n+"m"};const a={0:null,1:{bold:true},2:{dim:true},22:{bold:false,dim:false},3:{italic:true},23:{italic:false},4:{underline:true},24:{underline:false},5:{blink:true},25:{blink:false},7:{inverse:true},27:{inverse:false},8:{hidden:true},28:{hidden:false},9:{strike:true},29:{strike:false},30:{color:0},31:{color:1},32:{color:2},33:{color:3},34:{color:4},35:{color:5},36:{color:6},37:{color:7},39:{color:"default"},90:{color:8},91:{color:9},92:{color:10},93:{color:11},94:{color:12},95:{color:13},96:{color:14},97:{color:15},40:{bgColor:0},41:{bgColor:1},42:{bgColor:2},43:{bgColor:3},44:{bgColor:4},45:{bgColor:5},46:{bgColor:6},47:{bgColor:7},49:{bgColor:"default"},100:{bgColor:8},101:{bgColor:9},102:{bgColor:10},103:{bgColor:11},104:{bgColor:12},105:{bgColor:13},106:{bgColor:14},107:{bgColor:15}};n.parse=e=>{var t,r,n,o,i=[];for([,t,r]of e.matchAll(/\x1b\[([0-9;]+)m|(.[^\x1b]*)/g)){if(r){if(i.length){i[i.length-1].text+=r}else{i.push({text:r})}}else{t.split(";").forEach(e=>{o=a[e];if(o===undefined){return}if(!i.length||i[i.length-1].text){if(!o){n={text:""}}else{n=Object.assign({},n,o);n.text=""}i.push(n)}else{if(!o){i[i.length-1]={text:""}}else{Object.assign(n,o)}}})}}return i}},{}],24:[function(e,t,r){"use strict";r.regExp=r.regExpPattern=e=>e.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1");r.regExpReplacement=e=>e.replace(/\$/g,"$$$$");r.format=e=>e.replace(/%/g,"%%");r.jsSingleQuote=e=>r.control(e).replace(/'/g,"\\'");r.jsDoubleQuote=e=>r.control(e).replace(/"/g,'\\"');r.shellArg=e=>"'"+e.replace(/'/g,"'\\''")+"'";var n={"\r":"\\r","\n":"\\n","\t":"\\t","":"\\x7f"};r.control=(e,r=false)=>e.replace(/[\x00-\x1f\x7f]/g,e=>{if(r&&(e==="\n"||e==="\t")){return e}if(n[e]!==undefined){return n[e]}var t=e.charCodeAt(0).toString(16);if(t.length%2){t="0"+t}return"\\x"+t});var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};r.html=e=>e.replace(/[&<>]/g,e=>o[e]);r.htmlAttr=e=>e.replace(/[&<>"]/g,e=>o[e]);r.htmlSpecialChars=e=>e.replace(/[&<>"']/g,e=>o[e]);r.unicodePercentEncode=e=>e.replace(/[\x00-\x1f\u0100-\uffff\x7f%]/g,e=>{try{return encodeURI(e)}catch(e){return""}});r.httpHeaderValue=e=>r.unicodePercentEncode(e)},{}],25:[function(N,e,x){(function(A){(function(){"use strict";const p=N("./inspect.js").inspect;const y=N("./inspect.js").inspectError;const r=N("./escape.js");const o=N("./ansi.js");const i=N("./unicode.js");const f=N("./naturalSort.js");const a=N("./StringNumber.js");x.formatMethod=function(...d){var g,e=d[0],b=1,m=d.length;if(typeof e!=="string"){if(!e){e=""}else if(typeof e.toString==="function"){e=e.toString()}else{e=""}}var w={hasMarkup:false,shift:null,markupStack:[]};if(this.markupReset&&this.startingMarkupReset){e=(typeof this.markupReset==="function"?this.markupReset(w.markupStack):this.markupReset)+e}e=e.replace(/\^\[([^\]]*)]?|\^(.)|(%%)|%([+-]?)([0-9]*)(?:\[([^\]]*)\])?([a-zA-Z])/g,(u,c,e,h,t,r,n,o)=>{var i,a,s,l,p,f,y=[];if(h){return"%"}if(c){e=c}if(e){if(this.noMarkup){return"^"+e}return k.call(this,w,u,e)}if(r){r=parseInt(r,10);if(t){if(t==="+"){r=b+r}else if(t==="-"){r=b-r}}}else{r=b}b++;if(r>=m||r<1){g=undefined}else{g=d[r]}if(v[o]){i=v[o](g,n,this);if(this.argumentSanitizer&&!v[o].noSanitize){i=this.argumentSanitizer(i)}if(n&&!v[o].noCommonModeArg){i=E(i,n)}return i}if(o==="F"){b--;if(n===undefined){return""}s=n.split(":");l=s[0];p=s[1];if(!l){return""}if(p&&(f=p.match(/%([+-]?)([0-9]*)[a-zA-Z]/g))){for(a=0;a<f.length;a++){t=f[a][1];r=f[a][2];if(r){r=parseInt(r,10);if(t){if(t==="+"){r=b+r}else if(t==="-"){r=b-r}}}else{r=b}b++;if(r>=m||r<1){y[a]=undefined}else{y[a]=d[r]}}}if(!this||!this.fn||typeof this.fn[l]!=="function"){return""}return this.fn[l].apply(this,y)}return""});if(w.hasMarkup&&this.markupReset&&this.endingMarkupReset){e+=typeof this.markupReset==="function"?this.markupReset(w.markupStack):this.markupReset}if(this.extraArguments){for(;b<m;b++){g=d[b];if(g===null||g===undefined){continue}else if(typeof g==="string"){e+=g}else if(typeof g==="number"){e+=g}else if(typeof g.toString==="function"){e+=g.toString()}}}return e};x.markupMethod=function(l){if(typeof l!=="string"){if(!l){l=""}else if(typeof l.toString==="function"){l=l.toString()}else{l=""}}var f={hasMarkup:false,shift:null,markupStack:[]};if(this.parse){let e,t,r,n,o,i,a,s=[];for([r,n,o,i]of l.matchAll(/\^\[([^\]]*)]?|\^(.)|([^^]+)/g)){if(i){if(s.length){s[s.length-1].text+=i}else{s.push({text:i})}continue}if(n){o=n}e=k.call(this,f,r,o);if(!Array.isArray(e)){e=[e]}for(t of e){a=s.length?s[s.length-1]:null;if(typeof t==="string"){if(a){a.text+=t}else{s.push({text:t})}}else if(!t){if(a&&a.text.length&&Object.keys(a).length>1){s.push({text:""})}}else{if(a&&a.text.length){s.push(Object.assign({text:""},...f.markupStack))}else{if(a){Object.assign(a,t)}else{s.push(Object.assign({text:""},t))}}}}}return s}if(this.markupReset&&this.startingMarkupReset){l=(typeof this.markupReset==="function"?this.markupReset(f.markupStack):this.markupReset)+l}l=l.replace(/\^\[([^\]]*)]?|\^(.)/g,(e,t,r)=>k.call(this,f,e,t||r));if(f.hasMarkup&&this.markupReset&&this.endingMarkupReset){l+=typeof this.markupReset==="function"?this.markupReset(f.markupStack):this.markupReset}return l};function k(e,t,r){var n,o,i,a,s;if(r==="^"){return"^"}if(this.shiftMarkup&&this.shiftMarkup[r]){e.shift=this.shiftMarkup[r];return""}if(r.length>1&&this.dataMarkup&&(s=r.indexOf(":"))!==-1){o=r.slice(0,s);n=this.dataMarkup[o];if(n===undefined){if(this.markupCatchAll===undefined){return""}n=this.markupCatchAll}e.hasMarkup=true;i=r.slice(s+1);if(typeof n==="function"){a=n(e.markupStack,o,i)}else{a={[n]:i};u(e,a)}return a}if(e.shift){n=this.shiftedMarkup?.[e.shift]?.[r];e.shift=null}else{n=this.markup?.[r]}if(n===undefined){if(this.markupCatchAll===undefined){return""}n=this.markupCatchAll}e.hasMarkup=true;if(typeof n==="function"){a=n(e.markupStack,r)}else{a=n;u(e,a)}return a}function u(t,r){if(Array.isArray(r)){for(let e of r){if(e===null){t.markupStack.length=0}else{t.markupStack.push(e)}}}else{if(r===null){t.markupStack.length=0}else{t.markupStack.push(r)}}}x.stripMarkup=e=>e.replace(/\^\[[^\]]*]?|\^./g,e=>e==="^^"?"^":e==="^ "?" ":"");const t={argumentSanitizer:e=>r.control(e,true),extraArguments:true,color:false,noMarkup:false,endingMarkupReset:true,startingMarkupReset:false,markupReset:o.reset,shiftMarkup:{"#":"background"},markup:{":":o.reset," ":o.reset+" ","-":o.dim,"+":o.bold,_:o.underline,"/":o.italic,"!":o.inverse,b:o.blue,B:o.brightBlue,c:o.cyan,C:o.brightCyan,g:o.green,G:o.brightGreen,k:o.black,K:o.brightBlack,m:o.magenta,M:o.brightMagenta,r:o.red,R:o.brightRed,w:o.white,W:o.brightWhite,y:o.yellow,Y:o.brightYellow},shiftedMarkup:{background:{":":o.reset," ":o.reset+" ",b:o.bgBlue,B:o.bgBrightBlue,c:o.bgCyan,C:o.bgBrightCyan,g:o.bgGreen,G:o.bgBrightGreen,k:o.bgBlack,K:o.bgBrightBlack,m:o.bgMagenta,M:o.bgBrightMagenta,r:o.bgRed,R:o.bgBrightRed,w:o.bgWhite,W:o.bgBrightWhite,y:o.bgYellow,Y:o.bgBrightYellow}},dataMarkup:{fg:(e,t,r)=>{var n=o.fgColor[r]||o.trueColor(r);e.push(n);return n},bg:(e,t,r)=>{var n=o.bgColor[r]||o.bgTrueColor(r);e.push(n);return n}},markupCatchAll:(e,t,r)=>{var n="";if(r===undefined){if(t[0]==="#"){n=o.trueColor(t)}else if(typeof o[t]==="string"){n=o[t]}}e.push(n);return n}};t.dataMarkup.color=t.dataMarkup.c=t.dataMarkup.fgColor=t.dataMarkup.fg;t.dataMarkup.bgColor=t.dataMarkup.bg;x.createFormatter=e=>x.formatMethod.bind(Object.assign({},t,e));x.format=x.formatMethod.bind(t);x.format.default=t;x.createMarkup=e=>x.markupMethod.bind(Object.assign({},t,e));x.markup=x.markupMethod.bind(t);x.format.count=function(e,t=false){var r,n,o,i=1,a=0;if(typeof e!=="string"){return 0}var s=t?/%([+-]?)([0-9]*)(?:\[[^\]]*\])?[a-zA-EG-Z]/g:/%([+-]?)([0-9]*)(?:\[[^\]]*\])?[a-zA-EG-Z]|(\^\[[^\]]*]?|\^.)/g;for([,o,n,r]of e.matchAll(s)){if(r){continue}if(n){n=parseInt(n,10);if(o){if(o==="+"){n=i+n}else if(o==="-"){n=i-n}}}else{n=i}i++;if(a<n){a=n}}return a};x.format.hasFormatting=function(e){if(e.search(/\^(.?)|(%%)|%([+-]?)([0-9]*)(?:\[([^\]]*)\])?([a-zA-Z])/)!==-1){return true}return false};const v={};x.format.modes=v;v.s=e=>{if(typeof e==="string"){return e}if(e===null||e===undefined||e===true||e===false){return"("+e+")"}if(typeof e==="number"){return""+e}if(typeof e.toString==="function"){return e.toString()}return"("+e+")"};v.r=e=>v.s(e);v.r.noSanitize=true;v.S=(e,t,r)=>{var n=e=>x.markupMethod.call(r,r.argumentSanitizer?r.argumentSanitizer(e):e);if(typeof e==="string"){return n(e)}if(e===null||e===undefined||e===true||e===false){return"("+e+")"}if(typeof e==="number"){return""+e}if(typeof e.toString==="function"){return n(e.toString())}return n("("+e+")")};v.S.noSanitize=true;v.S.noCommonModeArg=true;v.N=(e,t)=>{if(typeof e==="string"){return e}if(e===null||e===undefined||e===true||e===false){return""+e}if(typeof e==="number"){return v.f(e,".3g ")}if(Array.isArray(e)){e=e.map(e=>v.N(e,true));if(t){return"["+e.join(",")+"]"}return e.join(", ")}if(A.isBuffer(e)){e=[...e].map(e=>{e=e.toString(16);if(e.length===1){e="0"+e}return e});return"<"+e.join(" ")+">"}var r=Object.getPrototypeOf(e);if(r===null||r===Object.prototype){e=Object.entries(e).sort(f).map(e=>e[0]+": "+v.N(e[1],true));if(t){return"{"+e.join(", ")+"}"}return e.join(", ")}if(typeof e.inspect==="function"){return e.inspect()}if(typeof e.toString==="function"){return e.toString()}return"("+e+")"};v.n=e=>v.N(e,true);v.f=(e,t)=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){e=0}var r=l(t),n=new a(e,".",r.groupSeparator);if(r.rounding!==null){n.round(r.rounding)}if(r.precision){n.precision(r.precision)}return n.toString(r.leftPadding,r.rightPadding,r.rightPaddingOnlyIfDecimal)};v.f.noSanitize=true;v.P=(e,t)=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){e=0}e*=100;var r=l(t),n=new a(e,".",r.groupSeparator);if(r.rounding!==null||!r.precision){n.round(r.rounding||0)}if(r.precision){n.precision(r.precision)}return n.toNoExpString(r.leftPadding,r.rightPadding,r.rightPaddingOnlyIfDecimal)+"%"};v.P.noSanitize=true;v.p=(e,t)=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){e=0}e=(e-1)*100;var r=l(t),n=new a(e,".",r.groupSeparator);if(r.rounding!==null||!r.precision){n.round(r.rounding||0)}if(r.precision){n.precision(r.precision)}return n.toNoExpString(r.leftPadding,r.rightPadding,r.rightPaddingOnlyIfDecimal,true)+"%"};v.p.noSanitize=true;v.k=(e,t)=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){return"0"}var r=l(t),n=new a(e,".",r.groupSeparator);if(r.rounding!==null){n.round(r.rounding)}if(r.precision||r.rounding===null){n.precision(r.precision||3)}return n.toMetricString(r.leftPadding,r.rightPadding,r.rightPaddingOnlyIfDecimal)};v.k.noSanitize=true;v.e=(e,t)=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){e=0}var r=l(t),n=new a(e,".",r.groupSeparator);if(r.rounding!==null){n.round(r.rounding)}if(r.precision){n.precision(r.precision)}return n.toExponential()};v.e.noSanitize=true;v.K=(e,t)=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){e=0}var r=l(t),n=new a(e,".",r.groupSeparator);if(r.rounding!==null){n.round(r.rounding)}if(r.precision){n.precision(r.precision)}return n.toScientific()};v.K.noSanitize=true;v.d=v.i=e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.floor(e)}return"0"};v.i.noSanitize=true;v.u=e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.max(Math.floor(e),0)}return"0"};v.u.noSanitize=true;v.U=e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.max(Math.floor(e),1)}return"1"};v.U.noSanitize=true;v.m=e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){return"(NaN)"}var t="";if(e<0){t="-";e=-e}var r=j(e),n=e-r;if(!n){return t+r+"°"}var o=j(n*60),i=j(n*3600-o*60);if(i){return t+r+"°"+(""+o).padStart(2,"0")+"′"+(""+i).padStart(2,"0")+"″"}return t+r+"°"+(""+o).padStart(2,"0")+"′"};v.m.noSanitize=true;v.t=e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){return"(NaN)"}var t=Math.floor(e/1e3);if(t<60){return t+"s"}var r=Math.floor(t/60);t=t%60;if(r<60){return r+"min"+(""+t).padStart(2,"0")+"s"}var n=Math.floor(r/60);r=r%60;return n+"h"+(""+r).padStart(2,"0")+"min"+(""+t).padStart(2,"0")+"s"};v.t.noSanitize=true;v.h=e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.max(Math.floor(e),0).toString(16)}return"0"};v.h.noSanitize=true;v.x=e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){return"00"}var t=""+Math.max(Math.floor(e),0).toString(16);if(t.length%2){t="0"+t}return t};v.x.noSanitize=true;v.o=e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.max(Math.floor(e),0).toString(8)}return"0"};v.o.noSanitize=true;v.b=e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.max(Math.floor(e),0).toString(2)}return"0"};v.b.noSanitize=true;v.X=e=>{if(typeof e==="string"){e=A.from(e)}else if(!A.isBuffer(e)){return""}return e.toString("hex")};v.X.noSanitize=true;v.z=e=>{if(typeof e==="string"){e=A.from(e)}else if(!A.isBuffer(e)){return""}return e.toString("base64")};v.Z=e=>{if(typeof e==="string"){e=A.from(e)}else if(!A.isBuffer(e)){return""}return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]{1,2}$/g,"")};const c={};v.I=(e,t,r)=>n(e,t,r,c);v.I.noSanitize=true;const d={noFunc:true,enumOnly:true,noDescriptor:true,useInspect:true,useInspectPropertyBlackList:true};v.Y=(e,t,r)=>n(e,t,r,d);v.Y.noSanitize=true;const g={minimal:true,noIndex:true};v.O=(e,t,r)=>n(e,t,r,g);v.O.noSanitize=true;const b={};v.E=(e,t,r)=>n(e,t,r,b,true);v.E.noSanitize=true;v.J=e=>e===undefined?"null":JSON.stringify(e);v.D=()=>"";v.D.noSanitize=true;const m=/([a-zA-Z])(.[^a-zA-Z]*)/g;const h=/([a-zA-Z]|^)(.[^a-zA-Z]*)/g;function E(t,e){var r,n,o;m.lastIndex=0;while(r=m.exec(e)){[,n,o]=r;if(n==="L"){let e=i.width(t);o=+o||1;if(e>o){t=i.truncateWidth(t,o-1).trim()+"…";e=i.width(t)}if(e<o){t=" ".repeat(o-e)+t}}else if(n==="R"){let e=i.width(t);o=+o||1;if(e>o){t=i.truncateWidth(t,o-1).trim()+"…";e=i.width(t)}if(e<o){t=t+" ".repeat(o-e)}}}return t}const s={leftPadding:1,rightPadding:0,rightPaddingOnlyIfDecimal:false,rounding:null,precision:null,groupSeparator:""};function l(e){var t,r,n,o;s.leftPadding=1;s.rightPadding=0;s.rightPaddingOnlyIfDecimal=false;s.rounding=null;s.precision=null;s.groupSeparator="";if(e){h.lastIndex=0;while(t=h.exec(e)){[,r,n]=t;if(r==="z"){s.leftPadding=+n}else if(r==="g"){s.groupSeparator=n||" "}else if(!r){if(n==="g"){s.groupSeparator=" "}else if(n[0]==="."){o=n[n.length-1];if(o==="!"){s.rounding=s.rightPadding=parseInt(n.slice(1,-1),10)||0}else if(o==="?"){s.rounding=s.rightPadding=parseInt(n.slice(1,-1),10)||0;s.rightPaddingOnlyIfDecimal=true}else{s.rounding=parseInt(n.slice(1),10)||0}}else if(n[n.length-1]==="."){s.rounding=-parseInt(n.slice(0,-1),10)||0}else{s.precision=parseInt(n,10)||null}}}}return s}function n(e,t,r,n,u=false){var c,o,i,a,s,l=3,f=r&&r.color?"color":"none";if(t){h.lastIndex=0;while(c=h.exec(t)){[,o,i]=c;if(o==="c"){if(i==="+"){f="color"}else if(i==="-"){f="none"}}else if(o==="l"){a=parseInt(i,10)||undefined}else if(o==="s"){s=parseInt(i,10)||undefined}else if(!o){l=parseInt(i,10)||1}}}if(u){return y(Object.assign({depth:l,style:f,outputMaxLength:a,maxLength:s},n),e)}return p(Object.assign({depth:l,style:f,outputMaxLength:a,maxLength:s},n),e)}const w=1e-10;const O=Math.round(1/w);function S(e){return Math.round(e*O)/O}function j(e){return Math.floor(e+w)}function e(e,t){return S(t*Math.round(e*(1/t)))}}).call(this)}).call(this,N("buffer").Buffer)},{"./StringNumber.js":22,"./ansi.js":23,"./escape.js":24,"./inspect.js":26,"./naturalSort.js":29,"./unicode.js":31,buffer:19}],26:[function(t,e,r){(function(x,c){(function(){"use strict";const E=t("./escape.js");const o=t("./ansi.js");const O={};const S=new Set([Object,Array]);function a(e,t){if(arguments.length<2){t=e;e={}}else if(!e||typeof e!=="object"){e={}}var r={depth:0,ancestors:[]};if(!e.style){e.style=f.none}else if(typeof e.style==="string"){e.style=f[e.style]}if(e.depth===undefined){e.depth=3}if(e.maxLength===undefined){e.maxLength=250}if(e.outputMaxLength===undefined){e.outputMaxLength=5e3}if(e.nofunc){e.noFunc=true}if(e.minimal){e.noFunc=true;e.noDescriptor=true;e.noType=true;e.noArrayProperty=true;e.enumOnly=true;e.proto=false;e.funcDetails=false}if(e.minimalPlusConstructor){e.noFunc=true;e.noDescriptor=true;e.noTypeButConstructor=true;e.noArrayProperty=true;e.enumOnly=true;e.proto=false;e.funcDetails=false}var n=j(r,e,t);if(n.length>e.outputMaxLength){n=e.style.truncate(n,e.outputMaxLength)}return n}r.inspect=a;function j(t,r,e){var n,u,c,h,o,p,y,d,g,i,b,a,m,w,s="",k="",l="",f,v;g=typeof e;b=(r.tab??r.style.tab).repeat(t.depth);if(g==="function"&&r.noFunc){return""}if(t.key!==undefined){if(t.descriptor){l=[];if(!t.descriptor.configurable){l.push("-conf")}if(!t.descriptor.enumerable){l.push("-enum")}if(!t.descriptor.writable){l.push("-w")}if(l.length){l=l.join(" ")}else{l=""}}if(t.keyIsProperty){if(A(t.key)){k='"'+r.style.key(t.key)+'": '}else{k=r.style.key(t.key)+": "}}else if(!r.noIndex){k=r.style.index(t.key)}if(l){l=" "+r.style.type(l)}}i=t.noPre?"":b+k;if(e===undefined){s+=i+r.style.constant("undefined")+l+r.style.newline}else if(e===O){s+=i+r.style.constant("[empty]")+l+r.style.newline}else if(e===null){s+=i+r.style.constant("null")+l+r.style.newline}else if(e===false){s+=i+r.style.constant("false")+l+r.style.newline}else if(e===true){s+=i+r.style.constant("true")+l+r.style.newline}else if(g==="number"){s+=i+r.style.number(e.toString())+(r.noType||r.noTypeButConstructor?"":" "+r.style.type("number"))+l+r.style.newline}else if(g==="string"){if(e.length>r.maxLength){s+=i+'"'+r.style.string(E.control(e.slice(0,r.maxLength-1)))+'…"'+(r.noType||r.noTypeButConstructor?"":" "+r.style.type("string")+r.style.length("("+e.length+" - TRUNCATED)"))+l+r.style.newline}else{s+=i+'"'+r.style.string(E.control(e))+'"'+(r.noType||r.noTypeButConstructor?"":" "+r.style.type("string")+r.style.length("("+e.length+")"))+l+r.style.newline}}else if(x.isBuffer(e)){s+=i+r.style.inspect(e.inspect())+(r.noType?"":" "+r.style.type("Buffer")+r.style.length("("+e.length+")"))+l+r.style.newline}else if(g==="object"||g==="function"){u=c="";m=false;if(g==="function"){m=true;u=" "+r.style.funcName(e.name?e.name:"(anonymous)");c=r.style.length("("+e.length+")")}a=false;if(Array.isArray(e)){a=true;c=r.style.length("("+e.length+")")}if(!e.constructor){y="(no constructor)"}else if(!e.constructor.name){y="(anonymous)"}else{y=e.constructor.name}p=!e.constructor||S.has(e.constructor);y=r.style.constructorName(y);h=Object.getPrototypeOf(e);s+=i;if(!r.noType&&(!r.noTypeButConstructor||!p)){if(t.forceType&&!r.noType&&!r.noTypeButConstructor){s+=r.style.type(t.forceType)}else if(r.noTypeButConstructor){s+=y}else{s+=y+u+c+" "+r.style.type(g)+l}if(!m||r.funcDetails){s+=" "}}if(a&&r.noArrayProperty){o=[...Array(e.length).keys()]}else{o=Object.getOwnPropertyNames(e)}if(r.sort){o.sort()}w=N(e,t,r);if(r.protoBlackList&&r.protoBlackList.has(h)){s+=r.style.limit("[skip]")+r.style.newline}else if(w!==undefined){if(typeof w==="string"){s+="=> "+w+r.style.newline}else{s+="=> "+j({depth:t.depth,ancestors:t.ancestors,noPre:true},r,w)}}else if(m&&!r.funcDetails){s+=r.style.newline}else if(!o.length&&!r.proto){s+=(a?"[]":"{}")+r.style.newline}else if(t.depth>=r.depth){s+=r.style.limit("[depth limit]")+r.style.newline}else if(t.ancestors.indexOf(e)!==-1){s+=r.style.limit("[circular]")+r.style.newline}else{s+=(a?"[":"{")+r.style.newline;v=t.ancestors.slice();v.push(e);for(n=0;n<o.length&&s.length<r.outputMaxLength;n++){if(!a&&(r.propertyBlackList&&r.propertyBlackList.has(o[n])||r.useInspectPropertyBlackList&&e.inspectPropertyBlackList instanceof Set&&e.inspectPropertyBlackList.has(o[n]))){continue}if(a&&r.noArrayProperty&&!(o[n]in e)){s+=j({depth:t.depth+1,ancestors:v,key:o[n],keyIsProperty:false},r,O)}else{try{f=Object.getOwnPropertyDescriptor(e,o[n]);if(!f.enumerable&&r.enumOnly){continue}d=!a||!f.enumerable||isNaN(o[n]);if(!r.noDescriptor&&f&&(f.get||f.set)){s+=j({depth:t.depth+1,ancestors:v,key:o[n],keyIsProperty:d,descriptor:f,forceType:"getter/setter"},r,{get:f.get,set:f.set})}else{s+=j({depth:t.depth+1,ancestors:v,key:o[n],keyIsProperty:d,descriptor:r.noDescriptor?undefined:f},r,e[o[n]])}}catch(e){s+=j({depth:t.depth+1,ancestors:v,key:o[n],keyIsProperty:d,descriptor:r.noDescriptor?undefined:f},r,e)}}if(n<o.length-1){s+=r.style.comma}}if(r.proto){s+=j({depth:t.depth+1,ancestors:v,key:"__proto__",keyIsProperty:true},r,h)}s+=b+(a?"]":"}");s+=r.style.newline}}if(t.depth===0){if(r.style.trim){s=s.trim()}if(r.style==="html"){s=E.html(s)}}return s}function A(e){if(!e.length){return true}return false}var u=["pending","fulfilled","rejected"];function N(n,o,i){if(typeof n.constructor!=="function"){return}if(n instanceof String){return n.toString()}if(n instanceof RegExp){return n.toString()}if(n instanceof Date){return n.toString()+" ["+n.getTime()+"]"}if(typeof Set==="function"&&n instanceof Set){return Array.from(n)}if(typeof Map==="function"&&n instanceof Map){return Array.from(n)}if(n instanceof Promise){if(c&&c.binding&&c.binding("util")&&c.binding("util").getPromiseDetails){let e=c.binding("util").getPromiseDetails(n);let t=u[e[0]];let r="Promise <"+t+">";if(t==="fulfilled"){r+=" "+j({depth:o.depth,ancestors:o.ancestors,noPre:true},i,e[1])}else if(t==="rejected"){if(e[1]instanceof Error){r+=" "+s({style:i.style,noErrorStack:true},e[1])}else{r+=" "+j({depth:o.depth,ancestors:o.ancestors,noPre:true},i,e[1])}}return r}}if(n._bsontype){return n.toString()}if(i.useInspect&&typeof n.inspect==="function"){return n.inspect()}return}function s(e,t){var r="",n,o,i;if(arguments.length<2){t=e;e={}}else if(!e||typeof e!=="object"){e={}}if(!(t instanceof Error)){return"inspectError(): it's not an error, using regular variable inspection: "+a(e,t)}if(!e.style){e.style=f.none}else if(typeof e.style==="string"){e.style=f[e.style]}if(t.stack&&!e.noErrorStack){n=l(e,t.stack)}o=t.type||t.constructor.name;i=t.code||t.name||t.errno||t.number;r+=e.style.errorType(o)+(i?" ["+e.style.errorType(i)+"]":"")+": ";r+=e.style.errorMessage(t.message)+"\n";if(n){r+=e.style.errorStack(n)+"\n"}if(t.from){r+=e.style.newline+e.style.errorFromMessage("From error:")+e.style.newline+s(e,t.from)}return r}r.inspectError=s;function l(l,e){if(arguments.length<2){e=l;l={}}else if(!l||typeof l!=="object"){l={}}if(!l.style){l.style=f.none}else if(typeof l.style==="string"){l.style=f[l.style]}if(!e){return}if((l.browser||c.browser)&&e.indexOf("@")!==-1){e=e.replace(/[</]*(?=@)/g,"").replace(/^\s*([^@]*)\s*@\s*([^\n]*)(?::([0-9]+):([0-9]+))?$/gm,(e,t,r,n,o)=>{return l.style.errorStack("    at ")+(t?l.style.errorStackMethod(t)+" ":"")+l.style.errorStack("(")+(r?l.style.errorStackFile(r):l.style.errorStack("unknown"))+(n?l.style.errorStack(":")+l.style.errorStackLine(n):"")+(o?l.style.errorStack(":")+l.style.errorStackColumn(o):"")+l.style.errorStack(")")})}else{e=e.replace(/^[^\n]*\n/,"");e=e.replace(/^\s*(at)\s+(?:(?:(async|new)\s+)?([^\s:()[\]\n]+(?:\([^)]+\))?)\s)?(?:\[as ([^\s:()[\]\n]+)\]\s)?(?:\(?([^:()[\]\n]+):([0-9]+):([0-9]+)\)?)?$/gm,(e,t,r,n,o,i,a,s)=>{return l.style.errorStack("    at ")+(r?l.style.errorStackKeyword(r)+" ":"")+(n?l.style.errorStackMethod(n)+" ":"")+(o?l.style.errorStack("[as ")+l.style.errorStackMethodAs(o)+l.style.errorStack("] "):"")+l.style.errorStack("(")+(i?l.style.errorStackFile(i):l.style.errorStack("unknown"))+(a?l.style.errorStack(":")+l.style.errorStackLine(a):"")+(s?l.style.errorStack(":")+l.style.errorStackColumn(s):"")+l.style.errorStack(")")})}return e}r.inspectStack=l;var f={};var e=e=>e;f.none={trim:false,tab:"    ",newline:"\n",comma:"",limit:e,type:e=>"<"+e+">",constant:e,funcName:e,constructorName:e=>"<"+e+">",length:e,key:e,index:e=>"["+e+"] ",number:e,inspect:e,string:e,errorType:e,errorMessage:e,errorStack:e,errorStackKeyword:e,errorStackMethod:e,errorStackMethodAs:e,errorStackFile:e,errorStackLine:e,errorStackColumn:e,errorFromMessage:e,truncate:(e,t)=>e.slice(0,t-1)+"…"};f.inline=Object.assign({},f.none,{trim:true,tab:"",newline:" ",comma:", ",length:()=>"",index:()=>""});f.color=Object.assign({},f.none,{limit:e=>o.bold+o.brightRed+e+o.reset,type:e=>o.italic+o.brightBlack+e+o.reset,constant:e=>o.cyan+e+o.reset,funcName:e=>o.italic+o.magenta+e+o.reset,constructorName:e=>o.magenta+e+o.reset,length:e=>o.italic+o.brightBlack+e+o.reset,key:e=>o.green+e+o.reset,index:e=>o.blue+"["+e+"]"+o.reset+" ",number:e=>o.cyan+e+o.reset,inspect:e=>o.cyan+e+o.reset,string:e=>o.blue+e+o.reset,errorType:e=>o.red+o.bold+e+o.reset,errorMessage:e=>o.red+o.italic+e+o.reset,errorStack:e=>o.brightBlack+e+o.reset,errorStackKeyword:e=>o.italic+o.bold+e+o.reset,errorStackMethod:e=>o.brightYellow+e+o.reset,errorStackMethodAs:e=>o.yellow+e+o.reset,errorStackFile:e=>o.brightCyan+e+o.reset,errorStackLine:e=>o.blue+e+o.reset,errorStackColumn:e=>o.magenta+e+o.reset,errorFromMessage:e=>o.yellow+o.underline+e+o.reset,truncate:(e,t)=>{var r=o.gray+"…"+o.reset;e=e.slice(0,t-r.length);var n=e.lastIndexOf("");if(n>=e.length-6){e=e.slice(0,n)}return e+r}});f.html=Object.assign({},f.none,{tab:"&nbsp;&nbsp;&nbsp;&nbsp;",newline:"<br />",limit:e=>'<span style="color:red">'+e+"</span>",type:e=>'<i style="color:gray">'+e+"</i>",constant:e=>'<span style="color:cyan">'+e+"</span>",funcName:e=>'<i style="color:magenta">'+e+"</i>",constructorName:e=>'<span style="color:magenta">'+e+"</span>",length:e=>'<i style="color:gray">'+e+"</i>",key:e=>'<span style="color:green">'+e+"</span>",index:e=>'<span style="color:blue">['+e+"]</span> ",number:e=>'<span style="color:cyan">'+e+"</span>",inspect:e=>'<span style="color:cyan">'+e+"</span>",string:e=>'<span style="color:blue">'+e+"</span>",errorType:e=>'<span style="color:red">'+e+"</span>",errorMessage:e=>'<span style="color:red">'+e+"</span>",errorStack:e=>'<span style="color:gray">'+e+"</span>",errorStackKeyword:e=>"<i>"+e+"</i>",errorStackMethod:e=>'<span style="color:yellow">'+e+"</span>",errorStackMethodAs:e=>'<span style="color:yellow">'+e+"</span>",errorStackFile:e=>'<span style="color:cyan">'+e+"</span>",errorStackLine:e=>'<span style="color:blue">'+e+"</span>",errorStackColumn:e=>'<span style="color:gray">'+e+"</span>",errorFromMessage:e=>'<span style="color:yellow">'+e+"</span>"})}).call(this)}).call(this,{isBuffer:t("../../is-buffer/index.js")},t("_process"))},{"../../is-buffer/index.js":20,"./ansi.js":23,"./escape.js":24,_process:21}],27:[function(e,t,r){t.exports={"߀":"0","́":""," ":" ","Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ɓ":"B","ｃ":"C","Ⓒ":"C","Ｃ":"C","Ꜿ":"C","Ḉ":"C","Ç":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ɗ":"D","Ɖ":"D","ᴅ":"D","Ꝺ":"D","Ð":"Dh","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","ɛ":"E","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","ᴇ":"E","ꝼ":"F","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","ɢ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","ȷ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","ϻ":"M","Ꞥ":"N","Ƞ":"N","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ɲ":"N","Ꞑ":"N","ᴎ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Þ":"Th","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ɑ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","Ƃ":"b","ⓒ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c",C:"c","Ć":"c","Ĉ":"c","Ċ":"c","Č":"c","Ƈ":"c","Ȼ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","Ƌ":"d","Ꮷ":"d","ԁ":"d","Ɦ":"d","ð":"dh","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ﬀ":"ff","ﬁ":"fi","ﬂ":"fl","ﬃ":"ffi","ﬄ":"ffl","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ꝿ":"g","ᵹ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ɭ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ԉ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ɔ":"o","ᴑ":"o","œ":"oe","ƣ":"oi","ꝏ":"oo","ȣ":"ou","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ρ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ʂ":"s","ß":"ss","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","þ":"th","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"}},{}],28:[function(e,t,r){"use strict";var n=e("./latinize-map.json");t.exports=function(e){return e.replace(/[^\u0000-\u007e]/g,e=>{return n[e]||e})}},{"./latinize-map.json":27}],29:[function(r,e,n){"use strict";const v=1;const E=2;const O=3;const S=4;const j=5;function A(e,t){if(N(t)){return E}if(t<=31||t===127){return v}if(x(t)){return S}if(e.toUpperCase()!==e.toLowerCase()){return O}return j}function N(e){if(e===32||e===9||e===160||e===45||e===95){return true}return false}function x(e){if(e>=48&&e<=57){return true}return false}function t(e,t){e=""+e;t=""+t;var r,n,o,u,c,h,p,i=e.trim(),y=i.length,a,s,d,g,b,m,w,l=t.trim(),k=l.length,f=0;for(r=a=0;r<y&&a<k;r++,a++){o=i[r];d=l[a];u=i.charCodeAt(r);g=l.charCodeAt(a);c=A(o,u);b=A(d,g);if(c!==b){return c-b}switch(c){case E:while(N(i.charCodeAt(r+1))){r++}while(N(l.charCodeAt(a+1))){a++}break;case v:case j:if(u!==g){return u-g}break;case O:h=o.toLowerCase();m=d.toLowerCase();if(h!==m){return h>m?1:-1}if(!f&&o!==d){f=o!==h?-1:1}break;case S:n=r+1;while(x(i.charCodeAt(n))){n++}p=parseFloat(i.slice(r,n));s=a+1;while(x(l.charCodeAt(s))){s++}w=parseFloat(l.slice(a,s));if(p!==w){return p-w}if(!f&&n-r!==s-a){f=n-r-(s-a)}r=n-1;a=s-1;break}}if(f){return f}return y-r-(k-a)||y-k||e.length-t.length}e.exports=t},{}],30:[function(e,t,r){"use strict";t.exports=function e(t,r){if(!t||typeof t!=="string"){return""}r=r||{};return t.replace(/[^\s_-]+/g,e=>{if(r.zealous){if(r.preserveAllCaps&&e===e.toUpperCase()){return e}return e[0].toUpperCase()+e.slice(1).toLowerCase()}return e[0].toUpperCase()+e.slice(1)})}},{}],31:[function(e,t,r){"use strict";const u={};t.exports=u;u.encode=e=>String.fromCodePoint(...e);u.decode=e=>Array.from(e,e=>e.codePointAt(0));u.firstCodePoint=e=>e.codePointAt(0);u.firstChar=e=>e.length?String.fromCodePoint(e.codePointAt(0)):undefined;u.toArray=e=>Array.from(e);u.toCells=(e,t,r=4,n=0,...o)=>{var i,a,s,l,f=[];for(i of t){a=i.codePointAt(0);if(a===10){n=0}else if(a===9){s=r-n%r-1;f.push(new e("\t",1,...o));n+=1+s;while(s--){f.push(new e(" ",-2,...o))}}else{l=u.codePointWidth(a),f.push(new e(i,l,...o));n+=l;while(--l>0){f.push(new e(" ",-1,...o))}}}return f};u.fromCells=e=>{var t,r="";for(t of e){if(!t.filler){r+=t.char}}return r};u.length=e=>{var t,r=0;for(t of e){r++}return r};u.width=e=>{var t,r=0;for(t of e){r+=u.codePointWidth(t.codePointAt(0))}return r};u.arrayWidth=(e,t)=>{var r,n=0;if(t===undefined){t=e.length}for(r=0;r<t;r++){n+=u.isFullWidth(e[r])?2:1}return n};var i=0;u.getLastTruncateWidth=()=>i;u.widthLimit=u.truncateWidth=(e,t)=>{var r,n,o=0;i=0;for(r of e){n=u.codePointWidth(r.codePointAt(0));if(i+n>t){return e.slice(0,o)}i+=n;o+=r.length}return e};u.surrogatePair=e=>{var t=e.charCodeAt(0);if(t<55296||t>=57344){return 0}else if(t<56320){return 1}return-1};u.isFullWidth=e=>u.isFullWidthCodePoint(e.codePointAt(0));u.charWidth=e=>u.codePointWidth(e.codePointAt(0));u.codePointWidth=e=>{if(u.isEmojiCodePoint(e)){return 2}if(e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141)){return 2}return 1};u.isFullWidthCodePoint=e=>u.codePointWidth(e)===2;u.toFullWidth=e=>{return String.fromCodePoint(...Array.from(e,e=>{var t=e.codePointAt(0);return t>=33&&t<=126?65280+t-32:t}))};u.isZeroWidthDiacritic=e=>u.isZeroWidthDiacriticCodePoint(e.codePointAt(0));u.isZeroWidthDiacriticCodePoint=e=>768<=e&&e<=879||6832<=e&&e<=6911||7616<=e&&e<=7679||8400<=e&&e<=8447||65056<=e&&e<=65071||e===12441||e===12442||2304<=e&&e<=2307||2362<=e&&e<=2391&&e!==2365&&e!==2384||e===2402||e===2403||e===3633||3636<=e&&e<=3642||3655<=e&&e<=3662;u.isEmoji=e=>u.isEmojiCodePoint(e.codePointAt(0));u.isEmojiCodePoint=e=>9728<=e&&e<=9983||9984<=e&&e<=10175||126976<=e&&e<=127487||127744<=e&&e<=127994||128e3<=e&&e<=129791;u.isEmojiModifier=e=>u.isEmojiModifierCodePoint(e.codePointAt(0));u.isEmojiModifierCodePoint=e=>127995<=e&&e<=127999},{}],32:[function(e,t,r){"use strict";function h(e,u){var t=Object.getPrototypeOf(e);if(h.opaque.has(t)){return h.opaque.get(t)(e)}var r,n,o,i,a,s,l=[{source:e,target:Array.isArray(e)?[]:Object.create(t)}],c=l[0].target,f=new Map;f.set(e,c);while(i=l.shift()){o=Object.getOwnPropertyNames(i.source);for(r=0;r<o.length;r++){n=Object.getOwnPropertyDescriptor(i.source,o[r]);if(!n.value||typeof n.value!=="object"){Object.defineProperty(i.target,o[r],n);continue}a=n.value;if(u){if(f.has(a)){n.value=f.get(a);Object.defineProperty(i.target,o[r],n);continue}}s=Object.getPrototypeOf(n.value);if(h.opaque.has(s)){n.value=h.opaque.get(s)(n.value);Object.defineProperty(i.target,o[r],n);continue}n.value=Array.isArray(a)?[]:Object.create(s);if(u){f.set(a,n.value)}Object.defineProperty(i.target,o[r],n);l.push({source:a,target:n.value})}}return c}t.exports=h;h.opaque=new Map;h.opaque.set(Date.prototype,e=>new Date(e))},{}],33:[function(e,t,r){"use strict";const n={};t.exports=n;const o=[];const s="This would cause prototype pollution";function a(e){if(Array.isArray(e)){return e}if(!e){return o}if(typeof e==="string"){return e[e.length-1]==="."?e.slice(0,-1).split("."):e.split(".")}throw new TypeError("[tree.dotPath]: the path argument should be a string or an array")}function i(e,t,r=0){var n,o,i,a=e;for(n=0,o=t.length+r;n<o;n++){i=t[n];if(typeof i==="object"||i==="__proto__"||typeof a==="function"){throw new Error(s)}if(!a||typeof a!=="object"){return undefined}a=a[i]}return a}function l(e,t){var r,n,o,i=e;for(r=0,n=t.length-1;r<n;r++){o=t[r];if(typeof o==="object"||o==="__proto__"||typeof i[o]==="function"){throw new Error(s)}if(!i[o]||typeof i[o]!=="object"){i[o]={}}i=i[o]}return i}n.get=(e,t)=>i(e,a(t));n.set=(e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(typeof o==="object"||o==="__proto__"){throw new Error(s)}var i=l(e,n);i[o]=r;return r};n.define=(e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(typeof o==="object"||o==="__proto__"){throw new Error(s)}var i=l(e,n);if(!(o in i)){i[o]=r}return r};n.inc=(e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(typeof o==="object"||o==="__proto__"){throw new Error(s)}var i=l(e,n);if(typeof i[o]==="number"){i[o]++}else if(!i[o]||typeof i[o]!=="object"){i[o]=1}return r};n.dec=(e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(typeof o==="object"||o==="__proto__"){throw new Error(s)}var i=l(e,n);if(typeof i[o]==="number"){i[o]--}else if(!i[o]||typeof i[o]!=="object"){i[o]=-1}return r};n.concat=(e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(typeof o==="object"||o==="__proto__"){throw new Error(s)}var i=l(e,n);if(!i[o]){i[o]=r}else if(Array.isArray(i[o])&&Array.isArray(r)){i[o]=i[o].concat(r)}return r};n.insert=(e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(typeof o==="object"||o==="__proto__"){throw new Error(s)}var i=l(e,n);if(!i[o]){i[o]=r}else if(Array.isArray(i[o])&&Array.isArray(r)){i[o]=r.concat(i[o])}return r};n.delete=(e,t)=>{var r=a(t),n=r[r.length-1];if(typeof n==="object"||n==="__proto__"){throw new Error(s)}var o=i(e,r,-1);if(!o||typeof o!=="object"){return false}return delete o[n]};n.autoPush=(e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(typeof o==="object"||o==="__proto__"){throw new Error(s)}var i=l(e,n);if(i[o]===undefined){i[o]=r}else if(Array.isArray(i[o])){i[o].push(r)}else{i[o]=[i[o],r]}return i[o]};n.append=(e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(typeof o==="object"||o==="__proto__"){throw new Error(s)}var i=l(e,n);if(!i[o]){i[o]=[r]}else if(Array.isArray(i[o])){i[o].push(r)}return i[o]};n.prepend=(e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(typeof o==="object"||o==="__proto__"){throw new Error(s)}var i=l(e,n);if(!i[o]){i[o]=[r]}else if(Array.isArray(i[o])){i[o].unshift(r)}return i[o]}},{}]},{},[7])(7)});