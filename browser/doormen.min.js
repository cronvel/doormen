(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.doormen=e()}})(function(){var e,t,r;return function(){function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(e){var r=t[a][1][e];return o(r||e)},u,u.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}return e}()({1:[function(e,t,r){"use strict";function n(e,t,r={}){this.message=e;t=t||n;this.actual=r.actual;this.expected=r.expected;this.expectationType=r.expectationType;this.showDiff=!!r.showDiff;if(Error.captureStackTrace){Error.captureStackTrace(this,t)}else{Object.defineProperty(this,"stack",{value:Error().stack,enumerable:true,configurable:true})}}t.exports=n;n.prototype=Object.create(TypeError.prototype);n.prototype.constructor=n;n.prototype.name="AssertionError"},{}],2:[function(e,t,r){"use strict";function n(e){this.message=e;if(Error.captureStackTrace){Error.captureStackTrace(this,n)}else{Object.defineProperty(this,"stack",{value:Error().stack,enumerable:true,configurable:true})}}t.exports=n;n.prototype=Object.create(TypeError.prototype);n.prototype.constructor=n;n.prototype.name="SchemaError"},{}],3:[function(e,t,r){"use strict";function n(e,t){this.message=e;if(t){this.at=this.path=t.path}if(Error.captureStackTrace){Error.captureStackTrace(this,n)}else{Object.defineProperty(this,"stack",{value:Error().stack,enumerable:true,configurable:true})}}t.exports=n;n.prototype=Object.create(TypeError.prototype);n.prototype.constructor=n;n.prototype.name="ValidatorError"},{}],4:[function(e,t,r){"use strict";var n=e("./AssertionError.js");var o=e("./isEqual.js");var i=e("./typeChecker.js");var a=e("string-kit/lib/inspect.js").inspect;var s={style:"inline",depth:2,maxLength:80,outputMaxLength:400,noDescriptor:true,noType:true,noArrayProperty:true};function l(e,t,r,...n){this.function=e;this.isAsync=t;this.this=r;this.args=n;this.hasThrown=false;this.error=undefined;this.return=undefined;try{this.return=this.function.call(this.this||null,...this.args)}catch(e){this.hasThrown=true;this.error=e}if(this.isAsync){if(this.hasThrown){this.promise=Promise.resolve()}else{this.promise=Promise.resolve(this.return).then(e=>this.return=e,e=>{this.hasThrown=true;this.error=e})}}}function f(e,t){var r;if(typeof e==="function"){return(e.name||"(anonymous)")+"()"}if(e instanceof Error){r=""+e;if(t){let t=Object.assign({},e);delete t.message;delete t.safeMessage;delete t.stack;delete t.at;delete t.constructor;r+=" having "+a(s,t)}return r}if(e instanceof l){r=e.function.name||"(anonymous)";if(e.args.length){let t="( "+e.args.map(e=>f(e)).join(", ")+" )";if(t.length>s.maxLength){t=t.slice(0,s.maxLength-1)+"…"}r+=t}else{r+="()"}if(e.hasThrown){r+=", which has thrown "+f(e.error,t)+","}return r}return a(s,e)}var u={a:true,e:true,i:true,o:true,u:true,y:true,A:true,E:true,I:true,O:true,U:true,Y:true};function c(e,t,r,...o){var i,a;var s={inspect:false,glue:" and ",showDiff:false,none:false};if(r&&typeof r==="object"){i=r.middleMessage||" to <insert here your expectation> ";r=r.expectationType}else{i=r}if(h[r]){Object.assign(s,h[r])}var l="";if(t!==h.NONE){a=f(t,o.length>=2);if(a.length>80){l+="Expected\n\t"+a+"\n"}else{l+="Expected "+a+" "}}else if(!s.none){l+="Expected nothing "}l+=i;if(o.length){if(s.inspect){l+=" "+o.map(e=>{a=f(e);if(a.length>80){return"\n\t"+a+"\n"}return a}).join(s.glue)}else{l+=" "+o.join(s.glue)}}var u={actual:t,expectationType:r};if(o.length===1){u.expected=o[0];u.showDiff=s.showDiff}return new n(l,e,u)}var h={};t.exports=h;h.__assertionError__=c;h.NONE={};h["to be defined"]=h.defined=h.isDefined=((e,t)=>{if(t===undefined){throw c(e,t,"to be defined")}});h["to be not defined"]=h["to not be defined"]=h["not to be defined"]=h["to be undefined"]=h.undefined=h.isUndefined=((e,t)=>{if(t!==undefined){throw c(e,t,"to be undefined")}});h["to be ok"]=h["to be truthy"]=h.ok=h.isOk=h.truthy=h.isTruthy=((e,t)=>{if(!t){throw c(e,t,"to be truthy")}});h["to be not ok"]=h["to not be ok"]=h["not to be ok"]=h["to be not truthy"]=h["to not be truthy"]=h["not to be truthy"]=h["to be falsy"]=h.nok=h.ko=h.isNotOk=h.falsy=h.isFalsy=((e,t)=>{if(t){throw c(e,t,"to be falsy")}});h["to be true"]=h.true=h.isTrue=((e,t)=>{if(t!==true){throw c(e,t,"to be true")}});h["to be not true"]=h["to not be true"]=h["not to be true"]=h.notTrue=h.isNotTrue=((e,t)=>{if(t===true){throw c(e,t,"not to be true")}});h["to be false"]=h.false=h.isFalse=((e,t)=>{if(t!==false){throw c(e,t,"to be false")}});h["to be not false"]=h["to not be false"]=h["not to be false"]=h.notFalse=h.isNotFalse=((e,t)=>{if(t===false){throw c(e,t,"not to be false")}});h["to be null"]=h.null=h.isNull=((e,t)=>{if(t!==null){throw c(e,t,"to be null")}});h["to be not null"]=h["to not be null"]=h["not to be null"]=h.notNull=h.isNotNull=((e,t)=>{if(t===null){throw c(e,t,"not to be null")}});h["to be NaN"]=h["to be nan"]=h.NaN=h.isNaN=((e,t)=>{if(!Number.isNaN(t)){throw c(e,t,"to be NaN")}});h["to be not NaN"]=h["to not be NaN"]=h["not to be NaN"]=h["to be not nan"]=h["to not be nan"]=h["not to be nan"]=h.notNaN=h.isNotNaN=((e,t)=>{if(Number.isNaN(t)){throw c(e,t,"not to be NaN")}});h["to be finite"]=h.finite=((e,t)=>{if(typeof t!=="number"){throw c(e,t,"to be a number")}if(Number.isNaN(t)||t===Infinity||t===-Infinity){throw c(e,t,"to be finite")}});h["to be not finite"]=h["to not be finite"]=h["not to be finite"]=h.notFinite=((e,t)=>{if(typeof t!=="number"){throw c(e,t,"to be a number")}if(!Number.isNaN(t)&&t!==Infinity&&t!==-Infinity){throw c(e,t,"to be finite")}});h["to be"]=h.strictEqual=((e,t,r)=>{if(t!==r&&!(Number.isNaN(t)&&Number.isNaN(r))){throw c(e,t,"to be",r)}});h.strictEqual.showDiff=true;h.strictEqual.inspect=true;h["to be not"]=h["to not be"]=h["not to be"]=h.notStrictEqual=((e,t,r)=>{if(t===r||Number.isNaN(t)&&Number.isNaN(r)){throw c(e,t,"not to be",r)}});h.notStrictEqual.inspect=true;h["to be equal to"]=h["to equal"]=h["to eql"]=h.equal=((e,t,r)=>{if(!o(t,r)){throw c(e,t,"to equal",r)}});h.equal.showDiff=true;h.equal.inspect=true;h["to be not equal to"]=h["to not be equal to"]=h["not to be equal to"]=h["to not equal"]=h["not to equal"]=h["to not eql"]=h["not to eql"]=h.notEqual=((e,t,r)=>{if(o(t,r)){throw c(e,t,"not to equal",r)}});h.notEqual.inspect=true;h["to be like"]=h["to be alike"]=h["to be alike to"]=h.like=((e,t,r)=>{if(!o(t,r,true)){throw c(e,t,"to be like",r)}});h.like.showDiff=true;h.like.inspect=true;h["to be not like"]=h["to not be like"]=h["not to be like"]=h["to be not alike"]=h["to not be alike"]=h["not to be alike"]=h["to be not alike to"]=h["to not be alike to"]=h["not to be alike to"]=h.notLike=((e,t,r)=>{if(o(t,r,true)){throw c(e,t,"not to be like",r)}});h.notLike.inspect=true;h["to be partially equal to"]=h["to be partial equal to"]=h["to be equal to partial"]=h["to partially equal"]=h["to partial equal"]=h["to equal partial"]=h.partialEqual=h.partiallyEqual=((e,t,r)=>{if(!o(r,t,false,true)){throw c(e,t,"to partially equal",r)}});h.partiallyEqual.inspect=true;h["to be not partially equal to"]=h["to not be partially equal to"]=h["not to be partially equal to"]=h["to be not partial equal to"]=h["to not be partial equal to"]=h["not to be partial equal to"]=h["to be not equal to partial"]=h["to not be equal to partial"]=h["not to be equal to partial"]=h["to not partially equal"]=h["not to partially equal"]=h["to not partial equal"]=h["not to partial equal"]=h["to not equal partial"]=h["not to equal partial"]=h.notPartialEqual=h.notPartiallyEqual=((e,t,r)=>{if(o(r,t,false,true)){throw c(e,t,"not to partially equal",r)}});h.notPartiallyEqual.inspect=true;h["to be partially like"]=h["to be like partial"]=h.partialLike=h.partiallyLike=((e,t,r)=>{if(!o(r,t,true,true)){throw c(e,t,"to be partially like",r)}});h.partiallyLike.inspect=true;h["to be not partially like"]=h["to not be partially like"]=h["not to be partially like"]=h["to be not like partial"]=h["to not be like partial"]=h["not to be like partial"]=h.notPartialLike=h.notPartiallyLike=((e,t,r)=>{if(o(r,t,true,true)){throw c(e,t,"not to be partially like",r)}});h.notPartiallyLike.inspect=true;h["to map"]=h.map=((e,t,r)=>{if(!t||typeof t!=="object"||typeof t.get!=="function"||typeof t.keys!=="function"){throw c(e,t,"to be be a mappable object")}if(!Array.isArray(r)){throw new n("Expectation are not map entries",e)}var i=[...t.keys()];if(i.length!==r.length){throw c(e,t,"to map",r)}r.forEach(a=>{var s,l;if(!Array.isArray(a)){throw new n("Expectation are not map entries",e)}l=i.findIndex(e=>o(a[0],e));if((l=i.indexOf(a[0]))!==-1||(l=i.findIndex(e=>o(a[0],e)))!==-1){s=i.splice(l,1)[0];if(!o(a[1],t.get(s))){throw c(e,t,"to map",r)}}else{throw c(e,t,"to map",r)}})});h.map.inspect=true;h["to be shallow clone"]=h["to be shallow clone of"]=h["to be a shallow clone of"]=h.shallowCloneOf=((e,t,r)=>{if(typeof t!=="function"&&(!t||typeof t!=="object")){throw c(e,t,"to be be an object or a function")}if(t===r){return}if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length){throw c(e,t,"to be a shallow clone of",r)}t.forEach((n,o)=>{if(n!==r[o]){throw c(e,t,"to be a shallow clone of",r)}})}else{if(Array.isArray(r)){throw c(e,t,"to be a shallow clone of",r)}let n=Object.keys(t);let o=Object.keys(r);if(n.length!==o.length){throw c(e,t,"to be a shallow clone of",r)}o.forEach(n=>{if(!t.hasOwnProperty(n)||t[n]!==r[n]){throw c(e,t,"to be a shallow clone of",r)}})}});h.shallowCloneOf.inspect=true;h["to be not shallow clone"]=h["to not be shallow clone"]=h["not to be shallow clone"]=h["to be not shallow clone of"]=h["to not be shallow clone of"]=h["not to be shallow clone of"]=h["to be not a shallow clone of"]=h["to not be a shallow clone of"]=h["not to be a shallow clone of"]=h.notShallowCloneOf=((e,t,r)=>{if(typeof t!=="function"&&(!t||typeof t!=="object")){throw c(e,t,"to be be an object or a function")}try{h.shallowCloneOf(e,t,r)}catch(e){return}throw c(e,t,"not to be a shallow clone of",r)});h.notShallowCloneOf.inspect=true;h["to be close to"]=h["to be around"]=h.around=((e,t,r,n)=>{if(typeof t!=="number"){throw c(e,t,"to be a number")}if(!n){n=2*Number.EPSILON;if(r){n=Math.pow(2,Math.ceil(Math.log2(Math.abs(r))))*n}}if(t<r-n||t>r+n||Number.isNaN(t)){throw c(e,t,"to be around",r)}});h["to be not close to"]=h["to not be close to"]=h["not to be close to"]=h["to be not around"]=h["to not be around"]=h["not to be around"]=h.notAround=((e,t,r,n)=>{if(typeof t!=="number"){throw c(e,t,"to be a number")}if(!n){n=2*Number.EPSILON;if(r){n=Math.pow(2,Math.ceil(Math.log2(Math.abs(r))))*n}}if(t>=r-n&&t<=r+n||Number.isNaN(t)){throw c(e,t,"not to be around",r)}});h["to be above"]=h["to be greater"]=h["to be greater than"]=h.above=h.gt=h.greater=h.greaterThan=((e,t,r)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw c(e,t,"to be a number or a Date")}if(t<=r||Number.isNaN(t)){throw c(e,t,"to be above",r)}});h["to be at least"]=h["to be greater than or equal to"]=h.least=h.gte=h.greaterThanOrEqualTo=((e,t,r)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw c(e,t,"to be a number or a Date")}if(t<r||Number.isNaN(t)){throw c(e,t,"to be at least",r)}});h["to be below"]=h["to be lesser"]=h["to be lesser than"]=h.below=h.lt=h.lesser=h.lesserThan=((e,t,r)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw c(e,t,"to be a number or a Date")}if(t>=r||Number.isNaN(t)){throw c(e,t,"to be below",r)}});h["to be at most"]=h["to be lesser than or equal to"]=h.most=h.lte=h.lesserThanOrEqualTo=((e,t,r)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw c(e,t,"to be a number or a Date")}if(t>r||Number.isNaN(t)){throw c(e,t,"to be at most",r)}});h["to be within"]=h.within=((e,t,r,n)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw c(e,t,"to be a number or a Date")}if(t<r||t>n||Number.isNaN(t)){throw c(e,t,"to be within",r,n)}});h["to be not within"]=h["to not be within"]=h["not to be within"]=h.notWithin=((e,t,r,n)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw c(e,t,"to be a number or a Date")}if(t>=r&&t<=n||Number.isNaN(t)){throw c(e,t,"not to be within",r,n)}});h["to match"]=h.match=((e,t,r)=>{if(typeof t!=="string"){throw c(e,t,"to be a string")}if(!t.match(r)){throw c(e,t,"to match",r)}});h["to not match"]=h["not to match"]=h.notMatch=((e,t,r)=>{if(typeof t!=="string"){throw c(e,t,"to be a string")}if(t.match(r)){throw c(e,t,"not to match",r)}});h["to have length"]=h["to have length of"]=h["to have a length of"]=h.lengthOf=((e,t,r)=>{if(typeof t!=="string"&&(!t||typeof t!=="object")){throw c(e,t,"to have some length")}if(t.length!==r){throw c(e,t,"to have a length of",r)}});h["to have not length"]=h["to not have length"]=h["not to have length"]=h["to have length not of"]=h["to have not length of"]=h["to not have length of"]=h["not to have length of"]=h["to have a length not of"]=h["to have not a length of"]=h["to not have a length of"]=h["not to have a length of"]=h.notLengthOf=((e,t,r)=>{if(typeof t!=="string"&&(!t||typeof t!=="object")){throw c(e,t,"to have some length")}if(t.length===r){throw c(e,t,"not to have a length of",r)}});h["to contain"]=h["to have"]=h["to include"]=h.has=h.include=h.contain=((e,t,...r)=>{var n=false;if(t&&typeof t==="object"){if(Array.isArray(t)){n=r.every(e=>t.includes(e))}else if(typeof t.has==="function"){n=r.every(e=>t.has(e))}}else if(typeof t==="string"){n=r.every(e=>t.includes(e))}if(!n){throw c(e,t,"to contain",r)}});h.contain.inspect=true;h["to contain not"]=h["to not contain"]=h["not to contain"]=h["to have not"]=h["to not have"]=h["not to have"]=h["to include not"]=h["to not include"]=h["not to include"]=h.hasNot=h.notInclude=h.notContain=((e,t,...r)=>{var n=false;if(t&&typeof t==="object"){if(Array.isArray(t)){n=r.some(e=>t.includes(e))}else if(typeof t.has==="function"){n=r.some(e=>t.has(e))}}else if(typeof t==="string"){n=r.some(e=>t.includes(e))}if(n){throw c(e,t,"not to contain",r)}});h.notContain.inspect=true;h["to only contain"]=h["to contain only"]=h["to only have"]=h["to have only"]=h["to only include"]=h["to include only"]=h.includeOnly=h.containOnly=((e,t,...r)=>{var n=false;if(t&&typeof t==="object"){if(Array.isArray(t)){t=new Set(t)}if(typeof t.has==="function"){r=new Set(r);n=t.size===r.size&&[...r].every(e=>t.has(e))}}else if(typeof t==="string"){n=r.every(e=>t===e)}if(!n){throw c(e,t,"to contain only",r)}});h.containOnly.inspect=true;h.containOnly.glue=", ";h["not to only contain"]=h["to not only contain"]=h["not to contain only"]=h["to not contain only"]=h["to contain not only"]=h["not to only have"]=h["to not only have"]=h["not to have only"]=h["to not have only"]=h["to have not only"]=h["not to only include"]=h["to not only include"]=h["not to include only"]=h["to not include only"]=h["to include not only"]=h.notIncludeOnly=h.notContainOnly=(e=>{throw new n("Ambigous assertion type 'not to contain only'",e)});h["to be empty"]=h.empty=((e,t)=>{var r=true;if(t){if(typeof t==="object"){if(Array.isArray(t)){if(t.length){r=false}}else if(t instanceof Map||t instanceof Set){if(t.size){r=false}}else if(t.length!==undefined){if(t.length){r=false}}else if(Object.keys(t).length){r=false}}else if(typeof t==="string"){r=false}}if(!r){throw c(e,t,"to be empty")}});h["to be not empty"]=h["to not be empty"]=h["not to be empty"]=h.notEmpty=((e,t)=>{var r=true;if(t){if(typeof t==="object"){if(Array.isArray(t)){if(t.length){r=false}}else if(t instanceof Map||t instanceof Set){if(t.size){r=false}}else if(t.length!==undefined){if(t.length){r=false}}else if(Object.keys(t).length){r=false}}else if(typeof t==="string"){r=false}}if(r){throw c(e,t,"to be empty")}});h["to have key"]=h["to have keys"]=h.key=h.keys=((e,t,...r)=>{if(!i.looseObject(t)){throw c(e,t,"to be an object or a function")}r.forEach(n=>{if(!(n in t)){throw c(e,t,"to have key"+(r.length>1?"s":""),...r)}})});h.keys.inspect=true;h.keys.glue=", ";h["to have not key"]=h["to not have key"]=h["not to have key"]=h["to have not keys"]=h["to not have keys"]=h["not to have keys"]=h["to have no key"]=h.noKey=h.notKey=h.notKeys=((e,t,...r)=>{if(!i.looseObject(t)){throw c(e,t,"to be an object or a function")}r.forEach(n=>{if(n in t){throw c(e,t,"not to have key"+(r.length>1?"s":""),...r)}})});h.notKeys.inspect=true;h.notKeys.glue=", ";h["to have own key"]=h["to have own keys"]=h.ownKey=h.ownKeys=((e,t,...r)=>{if(!i.looseObject(t)){throw c(e,t,"to be an object or a function")}r.forEach(n=>{if(!t.hasOwnProperty(n)){throw c(e,t,"to have own key"+(r.length>1?"s":""),...r)}})});h.ownKeys.inspect=true;h.ownKeys.glue=", ";h["to only have own key"]=h["to have only own key"]=h["to have own only key"]=h["to only have own keys"]=h["to have only own keys"]=h["to have own only keys"]=h.onlyOwnKey=h.onlyOwnKeys=((e,t,...r)=>{if(!i.looseObject(t)){throw c(e,t,"to be an object or a function")}if(Object.getOwnPropertyNames(t).length!==r.length){throw c(e,t,"to only have own key"+(r.length>1?"s":""),...r)}r.forEach(n=>{if(!t.hasOwnProperty(n)){throw c(e,t,"to only have own key"+(r.length>1?"s":""),...r)}})});h.onlyOwnKeys.inspect=true;h.onlyOwnKeys.glue=", ";h["to have not own key"]=h["to not have own key"]=h["not to have own key"]=h["to have not own keys"]=h["to not have own keys"]=h["not to have own keys"]=h["to have no own key"]=h.noOwnKey=h.notOwnKey=h.notOwnKeys=((e,t,...r)=>{if(!i.looseObject(t)){throw c(e,t,"to be an object or a function")}r.forEach(n=>{if(t.hasOwnProperty(n)){throw c(e,t,"not to have own key"+(r.length>1?"s":""),...r)}})});h.notOwnKeys.inspect=true;h.notOwnKeys.glue=", ";h["to have property"]=h.property=function(e,t,r,n){h.key(e,t,r);if(arguments.length>=4){h.equal(e,t[r],n)}};h["to have not property"]=h["to not have property"]=h["not to have property"]=h["to have no property"]=h.notProperty=function(e,t,r,n){if(arguments.length>=4){if(r in t){h.notEqual(e,t[r],n)}}else{h.notKey(e,t,r)}};h["to have own property"]=h.ownProperty=function(e,t,r,n){h.ownKey(e,t,r);if(arguments.length>=4){h.equal(e,t[r],n)}};h["to have not own property"]=h["to not have own property"]=h["not to have own property"]=h["to have no own property"]=h.notOwnProperty=function(e,t,r,n){if(arguments.length>=4){if(t.hasOwnProperty(r)){h.notEqual(e,t[r],n)}}else{h.notOwnKey(e,t,r)}};h["to throw"]=h["to throw a"]=h["to throw an"]=h.throw=((e,t,r,n,i)=>{if(typeof t!=="function"){throw c(e,t,"to be a function")}if(!Array.isArray(r)){r=[]}var a=new l(t,false,...r);if(n){if(!a.hasThrown||!(a.error instanceof n)){let t=u[(""+(n.name||"(anonymous)"))[0]]?"an":"a";throw c(e,a,"to throw "+t,n)}if(i&&!o(i,a.error,true,true)){let t=u[(""+(n.name||"(anonymous)"))[0]]?"an":"a";throw c(e,a,"to throw "+t,n,i)}}else if(!a.hasThrown){throw c(e,a,"to throw")}});h.throw.fnParams=true;h.throw.inspect=true;h.throw.glue=" having ";h["to not throw"]=h["not to throw"]=h["to throw not a"]=h["to not throw a"]=h["not to throw a"]=h["to throw not an"]=h["to not throw an"]=h["not to throw an"]=h.notThrow=((e,t,r,n,i)=>{if(typeof t!=="function"){throw c(e,t,"to be a function")}if(!Array.isArray(r)){r=[]}var a=new l(t,false,...r);if(n){if(a.hasThrown&&a.error instanceof n){if(i){if(o(i,a.error,true,true)){let t=u[(""+(n.name||"(anonymous)"))[0]]?"an":"a";throw c(e,a,"not to throw "+t,n,i)}}else{let t=u[(""+(n.name||"(anonymous)"))[0]]?"an":"a";throw c(e,a,"not to throw "+t,n)}}}else if(a.hasThrown){throw c(e,a,"not to throw")}});h.notThrow.fnParams=true;h.notThrow.inspect=true;h.notThrow.glue=" having ";h["to reject"]=h["to reject with"]=h["to reject with a"]=h["to reject with an"]=h.reject=(async(e,t,r,n,i)=>{if(typeof t!=="function"){throw c(e,t,"to be a function")}if(!Array.isArray(r)){r=[]}var a=new l(t,true,...r);await a.promise;if(n){if(!a.hasThrown||!(a.error instanceof n)){let t=u[(""+(n.name||"(anonymous)"))[0]]?"an":"a";throw c(e,a,"to reject with "+t,n)}if(i&&!o(i,a.error,true,true)){let t=u[(""+(n.name||"(anonymous)"))[0]]?"an":"a";throw c(e,a,"to reject with "+t,n,i)}}else if(!a.hasThrown){throw c(e,a,"to reject")}});h.throw.promise=h.reject;h.reject.fnParams=true;h.reject.async=true;h.reject.inspect=true;h.reject.glue=" having ";h["to not reject"]=h["not to reject"]=h["to reject not with"]=h["to not reject with"]=h["not to reject with"]=h["to reject not with a"]=h["to not reject with a"]=h["not to reject with a"]=h["to reject not with an"]=h["to not reject with an"]=h["not to reject with an"]=h.notReject=(async(e,t,r,n,i)=>{if(typeof t!=="function"){throw c(e,t,"to be a function")}if(!Array.isArray(r)){r=[]}var a=new l(t,true,...r);await a.promise;if(n){if(a.hasThrown&&a.error instanceof n){if(i){if(o(i,a.error,true,true)){let t=u[(""+(n.name||"(anonymous)"))[0]]?"an":"a";throw c(e,a,"not to reject with "+t,n,i)}}else{let t=u[(""+(n.name||"(anonymous)"))[0]]?"an":"a";throw c(e,a,"not to reject with "+t,n)}}}else if(a.hasThrown){throw c(e,a,"not to reject")}});h.notThrow.promise=h.notReject;h.notReject.fnParams=true;h.notReject.async=true;h.notReject.inspect=true;h.notReject.glue=" having ";h["to be rejected"]=h["to be rejected with"]=h["to be rejected with a"]=h["to be rejected with an"]=h.rejected=(async(e,t,r,n)=>{var i,a=false;try{await t}catch(e){a=true;i=e}if(r){if(!a||!(i instanceof r)){let n=u[(""+(r.name||"(anonymous)"))[0]]?"an":"a";throw c(e,t,"to be rejected with "+n,r)}if(n&&!o(n,i,true,true)){let o=u[(""+(r.name||"(anonymous)"))[0]]?"an":"a";throw c(e,t,"to be rejected with "+o,r,n)}}else if(!a){throw c(e,t,"to be rejected")}});h.rejected.promise=true;h.rejected.async=true;h.rejected.inspect=true;h["not to be rejected"]=h["to not be rejected"]=h["to be not rejected"]=h["not to be rejected with"]=h["to not be rejected with"]=h["to be not rejected with"]=h["not to be rejected with a"]=h["to not be rejected with a"]=h["to be not rejected with a"]=h["not to be rejected with an"]=h["to not be rejected with an"]=h["to be not rejected with an"]=h.notRejected=(async(e,t,r,n)=>{var i,a=false;try{await t}catch(e){a=true;i=e}if(r){if(a&&i instanceof r){if(n){if(o(n,i,true,true)){let o=u[(""+(r.name||"(anonymous)"))[0]]?"an":"a";throw c(e,t,"not to be rejected with "+o,r,n)}}else{let n=u[(""+(r.name||"(anonymous)"))[0]]?"an":"a";throw c(e,t,"not to be rejected with "+n,r)}}}else if(a){throw c(e,t,"not to be rejected")}});h.notRejected.promise=true;h.notRejected.async=true;h.notRejected.inspect=true;h["to be a"]=h["to be an"]=h.typeOrInstanceOf=((e,t,r)=>{if(typeof r==="string"){return h.typeOf(e,t,r)}return h.instanceOf(e,t,r)});h["to be not a"]=h["to not be a"]=h["not to be a"]=h["to be not an"]=h["to not be an"]=h["not to be an"]=h.notTypeOrInstanceOf=((e,t,r)=>{if(typeof r==="string"){return h.notTypeOf(e,t,r)}return h.notInstanceOf(e,t,r)});h["to be of type"]=h.typeOf=((e,t,r)=>{if(!i[r]){throw new Error("Unknown type '"+r+"'.")}if(!i[r](t)){let n=u[r[0]]?"an":"a";throw c(e,t,"to be "+n,r)}});h["to be not of type"]=h["to not be of type"]=h["not to be of type"]=h.notTypeOf=((e,t,r)=>{if(!i[r]){throw new Error("Unknown type '"+r+"'.")}if(i[r](t)){let n=u[r[0]]?"an":"a";throw c(e,t,"not to be "+n,r)}});h["to be an instance of"]=h.instanceOf=((e,t,r)=>{if(!(t instanceof r)){throw c(e,t,"to be an instance of",r)}});h.instanceOf.inspect=true;h["to be not an instance of"]=h["to not be an instance of"]=h["not to be an instance of"]=h.notInstanceOf=((e,t,r)=>{if(t instanceof r){throw c(e,t,"not to be an instance of",r)}});h.notInstanceOf.inspect=true;h.fail=((e,t,r,...n)=>{throw c(e,t,{expectationType:"fail",middleMessage:r},...n)});h.fail.inspect=true;h.fail.none=true},{"./AssertionError.js":1,"./isEqual.js":9,"./typeChecker.js":15,"string-kit/lib/inspect.js":21}],5:[function(e,t,r){"use strict";t.exports=e("./doormen.js");t.exports.isBrowser=true},{"./doormen.js":6}],6:[function(e,t,r){(function(r){"use strict";function n(...e){var t,r,o,a,s;if(e.length<2||e.length>3){throw new Error("doormen() needs at least 2 and at most 3 arguments")}if(e.length===2){o=e[0];r=e[1]}else{t=e[0];o=e[1];r=e[2]}if(typeof o==="string"){o=n.sentence(o)}if(!o||typeof o!=="object"){throw new n.SchemaError("Bad schema, it should be an object or an array of object!")}if(!t||typeof t!=="object"){t={}}if(!t.patch||typeof t.patch!=="object"||Array.isArray(t.patch)){t.patch=false}a={userContext:t.userContext,validate:true,errors:[],patch:t.patch,check:i,validatorError:p,report:!!t.report,export:!!t.export};s=a.check(o,r,{path:"",displayPath:r===null?"null":Array.isArray(r)?"array":typeof r,key:""},false);if(a.report){return{validate:a.validate,sanitized:s,errors:a.errors}}return s}t.exports=n;n.isBrowser=false;n.report=n.bind(n,{report:true});n.export=n.bind(n,{export:true});n.AssertionError=e("./AssertionError.js");n.ValidatorError=e("./ValidatorError.js");n.SchemaError=e("./SchemaError.js");var o=e("./mask.js");n.tierMask=o.tierMask;n.tagMask=o.tagMask;n.isEqual=e("./isEqual.js");n.keywords=e("./keywords.js");n.assert=e("./assert.js");n.expect=e("./expect.js");n.sentence=e("./sentence.js");n.schemaSchema=e("./schemaSchema.js");n.validateSchema=function(e){return n(n.schemaSchema,e)};n.purifySchema=function(e){return n.export(n.schemaSchema,e)};if(!r){r=window}if(!r.DOORMEN_GLOBAL_EXTENSIONS){r.DOORMEN_GLOBAL_EXTENSIONS={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.typeChecker){r.DOORMEN_GLOBAL_EXTENSIONS.typeChecker={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.sanitizer){r.DOORMEN_GLOBAL_EXTENSIONS.sanitizer={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.filter){r.DOORMEN_GLOBAL_EXTENSIONS.filter={}}n.typeChecker=e("./typeChecker.js");n.sanitizer=e("./sanitizer.js");n.filter=e("./filter.js");n.topLevelFilters=["instanceOf","min","max","length","minLength","maxLength","match","in","notIn","eq"];function i(e,t,r,o){var i,a,l,f,u,c=t,h,p,y,d,b,g,w,m,k;if(!e||typeof e!=="object"){throw new n.SchemaError(r.displayPath+" is not a schema (not an object or an array of object).")}if(Array.isArray(e)){y=[];for(i=0;i<e.length;i++){try{c=n.export(e[i],t)}catch(e){y.push(e.message.replace(/\.$/,""));continue}return c}this.validatorError(r.displayPath+" does not validate any schema alternatives: ( "+y.join(" ; ")+" ).",r);return}if(c===null||c===undefined){if("default"in e){return s(e.default)}if(e.optional){return c}}if(e.sanitize){f=Array.isArray(e.sanitize)?e.sanitize:[e.sanitize];m=c;for(i=0;i<f.length;i++){if(!n.sanitizer[f[i]]){if(n.clientMode){continue}throw new n.SchemaError("Bad schema (at "+r.displayPath+"), unexistant sanitizer '"+f[i]+"'.")}c=n.sanitizer[f[i]].call(this,c,e,this.export&&c===t)}if(this.patch&&m!==c){this.patch[r.path]=c}}if(e.type){if(!n.typeChecker[e.type]){if(!n.clientMode){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), unexistant type '"+e.type+"'.")}}else if(!n.typeChecker[e.type].call(this,c)){this.validatorError(r.displayPath+" is not a "+e.type+".",r)}}for(i=0;i<n.topLevelFilters.length;i++){a=n.topLevelFilters[i];if(e[a]!==undefined){n.filter[a].call(this,c,e[a],r)}}if(e.filter){if(typeof e.filter!=="object"){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'filter' should be an object.")}for(a in e.filter){if(!n.filter[a]){if(n.clientMode){continue}throw new n.SchemaError("Bad schema (at "+r.displayPath+"), unexistant filter '"+a+"'.")}n.filter[a].call(this,c,e.filter[a],r)}}if(e.of!==undefined&&(c&&(typeof c==="object"||typeof c==="function"))){if(!e.of||typeof e.of!=="object"){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'of' should contain a schema object.")}if(Array.isArray(c)){if(this.export&&c===t){c=[];h=t}else{h=c}for(i=0;i<h.length;i++){k="["+i+"]";c[i]=this.check(e.of,h[i],{path:r.path+k,displayPath:r.displayPath+k,key:i},o)}}else{if(this.export&&c===t){c={};h=t}else{h=c}for(a in h){k="."+a;c[a]=this.check(e.of,h[a],{path:r.path?r.path+k:a,displayPath:r.displayPath+k,key:a},o)}}}if(e.keys!==undefined&&(c&&(typeof c==="object"||typeof c==="function"))){if(!e.keys||typeof e.keys!=="object"){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'keys' should contain a schema object.")}if(this.export&&c===t){c={};h=t}else{h=c}for(a in h){k=":"+a;l=this.check(e.keys,a,{path:r.path+k,displayPath:r.displayPath+k,key:a},o);if(l in c&&l!==a){this.validatorError("'keys' cannot overwrite another existing key: "+r.displayPath+" want to rename '"+a+"' to '"+l+"' but it already exists.",r)}c[l]=h[a];if(l!==a){delete c[a]}}}if(e.properties!==undefined&&(c&&(typeof c==="object"||typeof c==="function"))){if(!e.properties||typeof e.properties!=="object"){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'properties' should be an object.")}if(this.export&&c===t){c={};h=t}else{h=c}u={};if(Array.isArray(e.properties)){for(i=0;i<e.properties.length;i++){a=e.properties[i];if(!(a in h)){this.validatorError(r.displayPath+" does not have all required properties ("+JSON.stringify(e.properties)+").",r)}c[a]=h[a];u[a]=true}}else{w=Object.keys(e.properties);g=[];while(w.length){if(g.length===w.length){throw new n.SchemaError(r.displayPath+" has 'when' properties with circular dependencies.")}g=w;w=[];for(i=0;i<g.length;i++){a=g[i];if(!e.properties[a]||typeof e.properties[a]!=="object"){throw new n.SchemaError(r.displayPath+"."+a+" is not a schema (not an object or an array of object).")}if(e.properties[a].when&&!o){d=e.properties[a].when;if(typeof d!=="object"||typeof d.sibling!=="string"||(!d.siblingVerify||typeof d.siblingVerify!=="object")&&(!d.verify||typeof d.verify!=="object")){throw new n.SchemaError(r.displayPath+"."+a+".when should be an object with a 'sibling' (string), 'siblingVerify'/'verify' (schema object) and 'set'/'clone' properties.")}if(!u[d.sibling]&&e.properties[d.sibling]){w.push(a);continue}try{if(d.siblingVerify){n(d.siblingVerify,c[d.sibling])}if(d.verify){n(d.verify,c[a])}if(d.clone){c[a]=s(c[d.sibling])}else if(d.set===undefined){delete c[a]}else{c[a]=s(d.set)}u[a]=true;continue}catch(e){}}u[a]=true;k="."+a;p=this.check(e.properties[a],h[a],{path:r.path?r.path+k:a,displayPath:r.displayPath+k,key:a},o);if(p!==undefined||a in h){c[a]=p}}}}if(!e.extraProperties){for(a in h){if(!(a in u)){this.validatorError(r.displayPath+" has extra properties ('"+a+"' is not in "+JSON.stringify(Object.keys(u))+").",r)}}}}if(e.elements!==undefined&&Array.isArray(c)){if(!Array.isArray(e.elements)){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'elements' should be an array.")}if(this.export&&c===t){c=[];h=t}else{h=c}for(i=0;i<e.elements.length;i++){k="["+i+"]";c[i]=this.check(e.elements[i],h[i],{path:r.path+k,displayPath:r.displayPath+k,key:i},o)}if(!e.extraElements&&h.length>e.elements.length){this.validatorError(r.displayPath+" has extra elements ("+h.length+" instead of "+e.elements.length+").",r)}}if(typeof e.switch==="string"&&c&&typeof c==="object"&&typeof c[e.switch]==="string"&&e.case&&typeof e.case==="object"&&e.case[c[e.switch]]){c=this.check(e.case[c[e.switch]],c,r,o)}if(e.if&&typeof e.if==="object"){b=Array.isArray(e.if)?e.if:[e.if];for(i=0;i<b.length;i++){try{n(b[i].verify,c)}catch(e){continue}c=this.check(b[i].then,c,r,o)}}return c}const a=e("tree-kit/lib/clone.js");function s(e){if(e&&typeof e==="object"){return a(e)}return e}n.path=function e(t,r,o=false){var i=0;if(!Array.isArray(r)){if(typeof r!=="string"){throw new Error("Argument #1 'path' should be a string or an array")}r=r.split(".")}if(!t||typeof t!=="object"){throw new n.SchemaError(t+" is not a schema (not an object or an array of object).")}while(i<r.length&&!r[i]){i++}return l(t,r,i,o)};function l(e,t,r,o){var i;if(r>=t.length){return e}if(o&&e.noSubmasking){return null}i=t[r];if(Array.isArray(e)){throw new Error("Schema alternatives are not supported for path matching ATM.")}if(e.properties!==undefined){if(!e.properties||typeof e.properties!=="object"){throw new n.SchemaError("Bad schema (at "+t+"), 'properties' should be an object.")}if(e.properties[i]){return l(e.properties[i],t,r+1,o)}else if(!e.extraProperties){throw new n.SchemaError("Bad path (at "+t+"), property '"+i+"' not found and the schema does not allow extra properties.")}}if(e.of!==undefined){if(!e.of||typeof e.of!=="object"){throw new n.SchemaError("Bad schema (at "+t+"), 'of' should contain a schema object.")}return l(e.of,t,r+1,o)}return{}}n.patchTier=function e(t,r){var o,i,a,s=1,l=Object.keys(r);for(o=0,i=l.length;o<i;o++){a=l[o].split(".");while(a.length){s=Math.max(s,n.path(t,a).tier||1);a.pop()}}return s};n.checkPatchByTags=function(e,t,r){var n;if(!(r instanceof Set)){if(Array.isArray(r)){r=new Set(r)}else{r=new Set([r])}}for(n in t){f(e,n,r,t[n])}};function f(e,t,r,o){var i,a,s;t=t.split(".");while(t.length){i=n.path(e,t);if(i.tags){s=false;for(a of i.tags){if(r.has(a)){s=true;break}}if(!s){if(this&&this.validatorError){this.validatorError("Not allowed by tags",o)}else{throw new n.ValidatorError("Not allowed by tags",o)}}}t.pop()}}n.patch=function e(...t){var r,o,a,s,l,u,y,d,b;if(t.length<2||t.length>3){throw new Error("doormen.patch() needs at least 2 and at most 3 arguments")}if(t.length===2){s=t[0];r=t[1]}else{y=t[0];s=t[1];r=t[2]}if(typeof s==="string"){s=n.sentence(s)}if(!s||typeof s!=="object"){throw new n.SchemaError("Bad schema, it should be an object or an array of object!")}if(!y||typeof y!=="object"){y={}}if(!r||typeof r!=="object"){throw new Error("The patch should be an object")}u=y.export?{}:r;d={userContext:y.userContext,validate:true,errors:[],check:i,checkAllowed:y.allowedTags?f:null,allowedTags:y.allowedTags?new Set(Array.isArray(y.allowedTags)?y.allowedTags:[y.allowedTags]):null,validatorError:p,report:!!y.report,export:!!y.export};for(o in r){a=r[o];if(d.checkAllowed){d.checkAllowed(s,o,d.allowedTags,a)}if(b=c(a)){a=a[b];if(h[b].getValue){a=h[b].getValue(a)}if(h[b].applyToChildren){l=n.path(s,o).of||{}}else{l=n.path(s,o)}u[o][b]=d.check(l,a,{displayPath:"patch."+o,key:o},true)}else{l=n.path(s,o);u[o]=d.check(l,a,{displayPath:"patch."+o,key:o},true)}}if(d.report){return{validate:d.validate,sanitized:u,errors:d.errors}}return u};n.patch.report=n.patch.bind(n,{report:true});n.patch.export=n.patch.bind(n,{export:true});const u=e("tree-kit/lib/path.js");n.applyPatch=function(e,t){var r,n,o,i;if(!t||typeof t!=="object"){throw new Error("The patch should be an object")}for(r in t){o=t[r];if(i=c(o)){h[i](e,r,o[i])}else{u.set(e,r,o)}}return e};function c(e){var t;if(!e||typeof e!=="object"){return false}for(t in e){if(t[0]!=="$"){return false}if(!h[t]){throw new Error("Bad command '"+t+"'")}return t}}const h={};h.$set=((e,t,r)=>u.set(e,t,r));h.$delete=h.$unset=((e,t)=>u.delete(e,t));h.$delete.getValue=(()=>undefined);h.$push=((e,t,r)=>u.append(e,t,r));h.$push.applyToChildren=true;function p(e,t){var r=new n.ValidatorError(e,t);this.validate=false;if(this.report){this.errors.push(r)}else{throw r}}function y(e,t,r){var n;if(!t||typeof t!=="object"||Array.isArray(t)){throw new TypeError("[doormen] .extend*(): Argument #0 should be a plain object")}for(n in t){if(n in e&&!r||typeof t[n]!=="function"){continue}e[n]=t[n]}}n.extendTypeChecker=function e(t,n){y(r.DOORMEN_GLOBAL_EXTENSIONS.typeChecker,t,n)};n.extendSanitizer=function e(t,n){y(r.DOORMEN_GLOBAL_EXTENSIONS.sanitizer,t,n)};n.extendFilter=function e(t,n){y(r.DOORMEN_GLOBAL_EXTENSIONS.filter,t,n)};n.clientMode=false;n.setClientMode=function e(t){n.clientMode=!!t};n.shouldThrow=function e(t,r){var o=false;r=r||e;try{t()}catch(e){o=true}if(!o){throw new n.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have thrown.",r)}};n.shouldReject=async function e(t,r){var o=false;r=r||e;try{await t()}catch(e){o=true}if(!o){throw new n.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have rejected.",r)}};n.shouldThrowAssertion=function e(t,r){var o,i=false;r=r||e;try{t()}catch(e){i=true;o=e}if(!i){throw new n.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have thrown.",r)}if(!(o instanceof n.AssertionError)){o.message="Function '"+(t.name||"(anonymous)")+"' should have thrown an AssertionError, instead it had thrown: "+o.message;throw o}return o};n.shouldRejectAssertion=async function e(t,r){var o,i=false;r=r||e;try{await t()}catch(e){i=true;o=e}if(!i){throw new n.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have rejected.",r)}if(!(o instanceof n.AssertionError)){o.message="Function '"+(t.name||"(anonymous)")+"' should have rejected with an AssertionError, instead it had rejected with: "+o.message;throw o}return o};n.not=function e(...t){n.shouldThrow(()=>{n(...t)},e)};n.patch.not=function e(...t){n.shouldThrow(()=>{n.patch(...t)},e)};n.equals=function e(t,r){var o;if(!n.isEqual(t,r)){throw new n.AssertionError("should have been equal",e,{actual:t,expected:r,showDiff:true})}};n.not.equals=function e(t,r){if(n.isEqual(t,r)){throw new n.AssertionError("should not have been equal",e,{actual:t,expected:r,showDiff:true})}};n.alike=function e(t,r){var o;if(!n.isEqual(t,r,true)){throw new n.AssertionError("should have been alike",e,{actual:t,expected:r,showDiff:true})}};n.not.alike=function e(t,r){if(n.isEqual(t,r,true)){throw new n.AssertionError("should not have been alike",e,{actual:t,expected:r,showDiff:true})}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./AssertionError.js":1,"./SchemaError.js":2,"./ValidatorError.js":3,"./assert.js":4,"./expect.js":7,"./filter.js":8,"./isEqual.js":9,"./keywords.js":10,"./mask.js":11,"./sanitizer.js":12,"./schemaSchema.js":13,"./sentence.js":14,"./typeChecker.js":15,"tree-kit/lib/clone.js":25,"tree-kit/lib/path.js":26}],7:[function(e,t,r){"use strict";var n=e("./assert.js");var o={};o.inspect=function(){return this};o.toString=function(){return""+this};function i(e={}){var t=function e(r,o,...i){if(o){if(!n[o]){throw new Error("Unknown expectationType '"+o+"'.")}return n[o](e,r,...i)}var a=function e(){};if(arguments.length){a.value=r}else{a.value=n.NONE}a.expectationType=null;a.fnArgs=null;a.isPromise=false;a.expectFn=t;a.proxy=new Proxy(a,s);return a.proxy};t.hooks=e;t.stats={ok:0,fail:0};t.prototype=o;return t}t.exports=i();t.exports.factory=i;var a={};a["with args"]=a.with=a.args=a.withArgs=((e,...t)=>{if(!e.fnArgs){e.fnArgs=[null,...t]}else{e.fnArgs=[e.fnArgs[0],...t]}});a["method of"]=((e,t)=>{if(!e.fnArgs){e.fnArgs=[t]}else{e.fnArgs[0]=t}if(typeof e.value!=="function"){e.value=t[e.value]}});var s={get:(e,t)=>{if(t==="eventually"){e.isPromise=true;return e.proxy}if(typeof t==="string"&&!Function.prototype[t]&&!Object.prototype[t]&&!o[t]){if(e.expectationType){e.expectationType+=" "+t}else{e.expectationType=t}return e.proxy}if(o[t]&&!e[t]){e[t]=o[t]}if(typeof e[t]==="function"){return e[t].bind(e)}return e[t]},apply:(e,t,r)=>{var o,i;o=a[e.expectationType];if(o){e.expectationType=null;o(e,...r);return e.proxy}o=n[e.expectationType];if(!o){throw new Error("Unknown expectationType '"+e.expectationType+"'.")}if(e.isPromise){if(!o.promise){return Promise.resolve(e.value).then(t=>{e.value=t;e.isPromise=false;e.proxy(...r)},()=>{e.expectFn.stats.fail++;if(e.expectFn.hooks.fail){e.expectFn.hooks.fail()}throw n.__assertionError__(s.apply,e.value,"to resolve")})}if(typeof o.promise==="function"){o=o.promise}}if(o.async){if(o.fnParams){i=o(s.apply,e.value,e.fnArgs,...r)}else{i=o(s.apply,e.value,...r)}return i.then(()=>{e.expectFn.stats.ok++;if(e.expectFn.hooks.ok){e.expectFn.hooks.ok()}},t=>{e.expectFn.stats.fail++;if(e.expectFn.hooks.fail){e.expectFn.hooks.fail()}throw t})}try{if(o.fnParams){o(s.apply,e.value,e.fnArgs,...r)}else{o(s.apply,e.value,...r)}e.expectFn.stats.ok++;if(e.expectFn.hooks.ok){e.expectFn.hooks.ok()}}catch(t){e.expectFn.stats.fail++;if(e.expectFn.hooks.fail){e.expectFn.hooks.fail()}throw t}}}},{"./assert.js":4}],8:[function(e,t,r){(function(r){"use strict";if(!r){r=window}if(!r.DOORMEN_GLOBAL_EXTENSIONS){r.DOORMEN_GLOBAL_EXTENSIONS={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.filter){r.DOORMEN_GLOBAL_EXTENSIONS.filter={}}var n=Object.create(r.DOORMEN_GLOBAL_EXTENSIONS.filter);t.exports=n;var o=e("./doormen.js");n.instanceOf=function e(t,n,i){if(typeof n==="string"){n=o.isBrowser?window[n]:r[n]}if(typeof n!=="function"){throw new o.SchemaError("Bad schema (at "+i.path+"), 'instanceOf' should be a function or a global function's name.")}if(!(t instanceof n)){this.validatorError(i.path+" is not an instance of "+n+".",i)}};n.eq=n["==="]=function e(t,r,n){if(t!==r){this.validatorError(n.path+" is not stricly equal to "+r+".",n)}};n.min=n.gte=n.greaterThanOrEqual=n[">="]=function e(t,r,n){if(typeof r!=="number"){throw new o.SchemaError("Bad schema (at "+n.path+"), 'min' should be a number.")}if(typeof t!=="number"||!(t>=r)){this.validatorError(n.path+" is not greater than or equal to "+r+".",n)}};n.max=n.lte=n.lesserThanOrEqual=n["<="]=function e(t,r,n){if(typeof r!=="number"){throw new o.SchemaError("Bad schema (at "+n.path+"), 'max' should be a number.")}if(typeof t!=="number"||!(t<=r)){this.validatorError(n.path+" is not lesser than or equal to "+r+".",n)}};n.gt=n.greaterThan=n[">"]=function e(t,r,n){if(typeof r!=="number"){throw new o.SchemaError("Bad schema (at "+n.path+"), 'greaterThan' should be a number.")}if(typeof t!=="number"||!(t>r)){this.validatorError(n.path+" is not greater than "+r+".",n)}};n.lt=n.lesserThan=n["<"]=function e(t,r,n){if(typeof r!=="number"){throw new o.SchemaError("Bad schema (at "+n.path+"), 'lesserThan' should be a number.")}if(typeof t!=="number"||!(t<r)){this.validatorError(n.path+" is not lesser than "+r+".",n)}};n.length=function e(t,r,n){if(typeof r!=="number"){throw new o.SchemaError("Bad schema (at "+n.path+"), 'length' should be a number.")}try{if(!(t.length===r)){throw true}}catch(e){this.validatorError(n.path+" has not a length greater than or equal to "+r+".",n)}};n.minLength=function e(t,r,n){if(typeof r!=="number"){throw new o.SchemaError("Bad schema (at "+n.path+"), 'minLength' should be a number.")}try{if(!(t.length>=r)){throw true}}catch(e){this.validatorError(n.path+" has not a length greater than or equal to "+r+".",n)}};n.maxLength=function e(t,r,n){if(typeof r!=="number"){throw new o.SchemaError("Bad schema (at "+n.path+"), 'maxLength' should be a number.")}try{if(!(t.length<=r)){throw true}}catch(e){this.validatorError(n.path+" has not a length lesser than or equal to "+r+".",n)}};n.match=function e(t,r,n){if(typeof r!=="string"&&!(r instanceof RegExp)){throw new o.SchemaError("Bad schema (at "+n.path+"), 'match' should be a RegExp or a string.")}if(r instanceof RegExp){if(typeof t!=="string"||!t.match(r)){this.validatorError(n.path+" does not match "+r+" .",n)}}else if(typeof t!=="string"||!t.match(new RegExp(r))){this.validatorError(n.path+" does not match /"+r+"/ .",n)}};n.in=function e(t,r,n){var i,a=false;if(!Array.isArray(r)){throw new o.SchemaError("Bad schema (at "+n.path+"), 'in' should be an array.")}for(i=0;i<r.length;i++){if(o.isEqual(t,r[i])){a=true;break}}if(!a){this.validatorError(n.path+" should be in "+JSON.stringify(r)+".",n)}};n.notIn=function e(t,r,n){var i;if(!Array.isArray(r)){throw new o.SchemaError("Bad schema (at "+n.path+"), 'not-in' should be an array.")}for(i=0;i<r.length;i++){if(o.isEqual(t,r[i])){this.validatorError(n.path+" should not be in "+JSON.stringify(r)+".",n)}}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./doormen.js":6}],9:[function(e,t,r){(function(e){"use strict";function r(e,t,r,o){var i={leftStack:[],rightStack:[],like:!!r,oneWay:!!o};return n(i,e,t)}function n(t,r,o){var i,a,s,l,f,u,c;if(r===o){return true}if(!r!==!o){return false}if(typeof r!==typeof o){return false}if(typeof r==="number"&&isNaN(r)&&isNaN(o)){return true}if(!r){return false}if(typeof r==="object"){f=t.leftStack.indexOf(r);u=t.rightStack.indexOf(o);if(f>=0){t.leftCircular=true}if(u>=0){t.rightCircular=true}if(t.leftCircular&&t.rightCircular){return true}if(!t.like&&Object.getPrototypeOf(r)!==Object.getPrototypeOf(o)){return false}if(Array.isArray(r)){if(!Array.isArray(o)||r.length!==o.length){return false}for(i=0,a=r.length;i<a;i++){if(r[i]===o[i]){continue}t.leftStack.push(r);t.rightStack.push(o);c=n(t,r[i],o[i]);if(!c){return false}t.leftStack.pop();t.rightStack.pop()}}else if(e.isBuffer(r)){return e.isBuffer(o)&&r.equals(o)}else{if(Array.isArray(o)){return false}s=Object.keys(r);for(i=0,a=s.length;i<a;i++){l=s[i];if(r[l]===undefined){continue}if(o[l]===undefined){return false}if(r[l]===o[l]){continue}t.leftStack.push(r);t.rightStack.push(o);c=n(t,r[l],o[l]);if(!c){return false}t.leftStack.pop();t.rightStack.pop()}if(!t.oneWay){s=Object.keys(o);for(i=0,a=s.length;i<a;i++){l=s[i];if(o[l]===undefined){continue}if(r[l]===undefined){return false}}}}return true}return false}t.exports=r}).call(this,{isBuffer:e("../node_modules/is-buffer/index.js")})},{"../node_modules/is-buffer/index.js":17}],10:[function(e,t,r){"use strict";t.exports={it:{filler:true},its:{filler:true},a:{filler:true},an:{filler:true},the:{filler:true},to:{filler:true},that:{filler:true},has:{filler:true},have:{filler:true},having:{filler:true},at:{filler:true},with:{filler:true},than:{filler:true},or:{filler:true},equal:{filler:true},":":{filler:true},should:{reset:true},expect:{reset:true},expected:{reset:true},be:{expected:"typeOrClass"},is:{expected:"typeOrClass"},instance:{expected:"class",override:{of:{filler:true}}},type:{expected:"type",override:{of:{filler:true}}},optional:{flag:true},empty:{set:{length:0}},after:{expected:"sanitizer"},sanitize:{expected:"sanitizer"},sanitizer:{expected:"sanitizer"},sanitizers:{expected:"sanitizer"},sanitizing:{expected:"sanitizer"},least:{expected:"minValue"},greater:{expected:"minValue",needKeyword:"equal"},">=":{expected:"minValue"},gte:{expected:"minValue"},most:{expected:"maxValue"},"<=":{expected:"maxValue"},lte:{expected:"maxValue"},lower:{expected:"maxValue",needKeyword:"equal"},lesser:{expected:"maxValue",needKeyword:"equal"},between:{expected:["minValue","maxValue"]},within:{expected:["minValue","maxValue"]},and:{next:true,restoreOverride:true,restoreExpected:true},",":{next:true,restoreOverride:true,restoreExpected:true},";":{reset:true},".":{reset:true},length:{expected:"lengthValue",override:{of:{filler:true},least:{expected:"minLengthValue"},most:{expected:"maxLengthValue"},between:{expected:["minLengthValue","maxLengthValue"]}}},letter:{minMaxAreLength:true},letters:{minMaxAreLength:true},char:{minMaxAreLength:true},chars:{minMaxAreLength:true},character:{minMaxAreLength:true},characters:{minMaxAreLength:true},of:{expected:"typeOrClass",toChild:"of"}}},{}],11:[function(e,t,r){"use strict";r.tierMask=function(e,t,i=0,a=Infinity){if(!e||typeof e!=="object"){throw new TypeError("Bad schema, it should be an object or an array of object!")}var s={mask:r.tierMask,tier:i,iterate:n,check:o,depth:0,depthLimit:a};return s.iterate(e,t)};r.tagMask=function(e,t,o,a=Infinity){if(!e||typeof e!=="object"){throw new TypeError("Bad schema, it should be an object or an array of object!")}if(!(o instanceof Set)){if(Array.isArray(o)){o=new Set(o)}else{o=new Set([o])}}var s={mask:r.tagMask,tags:o,iterate:n,check:i,depth:0,depthLimit:a};return s.iterate(e,t)};function n(e,t){var r,n,o=t,i,a,s;if(!e||typeof e!=="object"){return}if(Array.isArray(e)){for(r=0;r<e.length;r++){try{o=this.mask(e[r],t,this.tier||this.tags,this.depthLimit-this.depth)}catch(e){continue}return o}return}s=this.check(e);if(s===false){return}else if(s===true&&e.noSubmasking){return o}if(this.depth>=this.depthLimit){return o}if(e.of&&typeof e.of==="object"){if(!o||typeof o!=="object"&&typeof o!=="function"){return o}if(Array.isArray(o)){if(o===t){o=[];i=t}else{i=o}for(r=0;r<i.length;r++){this.depth++;o[r]=this.iterate(e.of,i[r]);this.depth--}}else{if(o===t){o={};i=t}else{i=o}for(n in i){this.depth++;o[n]=this.iterate(e.of,i[n]);this.depth--}}}if(e.properties&&typeof e.properties==="object"){if(!o||typeof o!=="object"&&typeof o!=="function"){return o}if(o===t){o={};i=t}else{i=o}if(Array.isArray(e.properties)){for(r=0;r<e.properties.length;r++){n=e.properties[r];o[n]=i[n]}}else{for(n in e.properties){if(!e.properties[n]||typeof e.properties[n]!=="object"){continue}this.depth++;a=this.iterate(e.properties[n],i[n]);this.depth--;if(a!==undefined){o[n]=a}}if(e.extraProperties){for(n in i){if(!e.properties[n]){o[n]=i[n]}}}}}if(Array.isArray(e.elements)){if(!Array.isArray(o)){return o}if(o===t){o=[];i=t}else{i=o}for(r=0;r<e.elements.length;r++){this.depth++;o[r]=this.iterate(e.elements[r],i[r]);this.depth--}}return o}function o(e){if(e.tier===undefined){return}if(this.tier<e.tier){return false}return true}function i(e){var t,r;if(!Array.isArray(e.tags)||!e.tags.length){return}r=e.tags.length;for(t=0;t<r;t++){if(this.tags.has(e.tags[t])){return true}}return false}},{}],12:[function(e,t,r){(function(r){"use strict";var n=e("string-kit/lib/latinize.js");var o=e("string-kit/lib/toTitleCase.js");if(!r){r=window}if(!r.DOORMEN_GLOBAL_EXTENSIONS){r.DOORMEN_GLOBAL_EXTENSIONS={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.sanitizer){r.DOORMEN_GLOBAL_EXTENSIONS.sanitizer={}}var i=Object.create(r.DOORMEN_GLOBAL_EXTENSIONS.sanitizer);t.exports=i;var a=e("./doormen.js");i.toString=function e(t){if(typeof t==="string"){return t}try{return""+t}catch(e){return t}};i.toNumber=function e(t){if(typeof t==="number"){return t}else if(!t){return NaN}else if(typeof t==="string"){return parseFloat(t)}return NaN};i.toBoolean=function e(t){if(typeof t==="boolean"){return t}switch(t){case 1:case"1":case"on":case"On":case"ON":case"true":case"True":case"TRUE":return true;case 0:case"0":case"off":case"Off":case"OFF":case"false":case"False":case"FALSE":return false;default:return!!t}};i.toInteger=function e(t){if(typeof t==="number"){return Math.round(t)}else if(!t){return NaN}else if(typeof t==="string"){return Math.round(parseFloat(t))}return NaN};i.toArray=function e(t){if(Array.isArray(t)){return t}if(t===undefined){return[]}if(t&&typeof t==="object"&&a.typeChecker.arguments(t)){return Array.prototype.slice.call(t)}return[t]};i.toDate=function e(t){var r;if(t instanceof Date){return t}if(typeof t==="number"||typeof t==="string"||t&&typeof t==="object"&&t.constructor.name==="Date"){r=new Date(t);return isNaN(r)?t:r}return t};i.removeExtraProperties=function(e,t,r){var n,o,i;if(!e||typeof e!=="object"&&typeof e!=="function"||!t.properties||typeof t.properties!=="object"){return e}if(r){i=Array.isArray(e)?e.slice():{};if(Array.isArray(t.properties)){for(n=0;n<t.properties.length;n++){o=t.properties[n];if(o in e){i[o]=e[o]}}}else{for(o in t.properties){if(o in e){i[o]=e[o]}}}return i}if(Array.isArray(t.properties)){for(o in e){if(t.properties.indexOf(o)===-1){delete e[o]}}}else{for(o in e){if(!(o in t.properties)){delete e[o]}}}return e};i.trim=function e(t){if(typeof t==="string"){return t.trim()}return t};i.toUpperCase=function e(t){if(typeof t==="string"){return t.toUpperCase()}return t};i.toLowerCase=function e(t){if(typeof t==="string"){return t.toLowerCase()}return t};i.capitalize=function e(t){if(typeof t==="string"){return o(t,i.capitalize.toTitleCaseOptions)}return t};i.capitalize.toTitleCaseOptions={};i.titleCase=function e(t){if(typeof t==="string"){return o(t,i.titleCase.toTitleCaseOptions)}return t};i.titleCase.toTitleCaseOptions={zealous:1,preserveAllCaps:true};i.latinize=function e(t){if(typeof t==="string"){return n(t)}return t};i.dashToCamelCase=function e(t){if(typeof t!=="string"){return t}return t.replace(/-(.)/g,(e,t)=>t.toUpperCase())};i.mongoId=function t(r){if(typeof r!=="string"){return r}if(a.isBrowser){return r}try{var n=e("mongodb");return n.ObjectID(r)}catch(e){return r}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./doormen.js":6,mongodb:16,"string-kit/lib/latinize.js":23,"string-kit/lib/toTitleCase.js":24}],13:[function(e,t,r){"use strict";var n={optional:true,type:"strictObject",extraProperties:true,properties:{type:{optional:true,type:"string"},optional:{optional:true,type:"boolean"},extraProperties:{optional:true,type:"boolean"},default:{optional:true},sanitize:{optional:true,sanitize:"toArray",type:"array",of:{type:"string"}},filter:{optional:true,type:"strictObject"},tier:{optional:true,type:"integer"},tags:{optional:true,sanitize:"toArray",type:"array",of:{type:"string"}},instanceOf:{optional:true,type:"classId"},min:{optional:true,type:"integer"},max:{optional:true,type:"integer"},length:{optional:true,type:"integer"},minLength:{optional:true,type:"integer"},maxLength:{optional:true,type:"integer"},match:{optional:true,type:"regexp"},in:{optional:true,type:"array"},notIn:{optional:true,type:"array"},when:{optional:true,type:"strictObject",properties:{sibling:{type:"string"},set:{optional:true},clone:{optional:true,type:"boolean"}}},hooks:{optional:true,type:"strictObject",of:{type:"array",sanitize:"toArray",of:{type:"function"}}}}};var o=[n,{type:"array",of:n}];var i={optional:true,type:"strictObject",properties:{verify:o,then:o}};n.properties.of=o;n.properties.if=[i,{type:"array",of:i}];n.properties.properties=[{optional:true,type:"strictObject",of:o},{optional:true,type:"array",of:{type:"string"}}];n.properties.elements={optional:true,type:"array",of:o};n.properties.when.properties.verify=o;n.properties.when.properties.siblingVerify=o;t.exports=o},{}],14:[function(e,t,r){"use strict";var n=e("./doormen.js");function o(e){var t,r,o,i,a,s,l,f,u,c,h,p,y,d;o=e.split(/ +|(?=[,;.:])/);s={};l=s;f=[s];u=[];h={};c=p=h;a=null;i=["typeOrClass"];y=null;d=null;var b=function e(t,r){var n;if(t.reset){u=[];c=p=h;a=null;i=["typeOrClass"];y=null;d=null}if(t.toChild){l[t.toChild]={};f.push(l[t.toChild]);l=l[t.toChild]}if(t.expected){i=Array.isArray(t.expected)?t.expected.slice():[t.expected];y=null}if(t.needKeyword){y=t.needKeyword;d=r}else if(y&&y===r){y=null;d=null}if(t.set){for(n in t.set){l[n]=t.set[n]}}if(t.flag){l[t.flag]=true}if(t.override){c=t.override}if(t.restoreOverride){c=p}if(t.restoreExpected&&!i.length){i.unshift(a)}if(t.nextActions){u=t.nextActions.slice()}if(t.minMaxAreLength){if("min"in l){l.minLength=l.min;delete l.min}if("max"in l){l.maxLength=l.max;delete l.max}}if(t.next&&u.length){e(u.shift())}};for(t=0;t<o.length;t++){r=o[t];if(c[r]||n.keywords[r]){b(c[r]||n.keywords[r],r)}else if(!i.length){throw new Error("Can't understand the word #"+t+" '"+r+"'"+(t>0?", just after '"+o[t-1]+"'":"")+", in the sentence '"+e+"'.")}else if(y){throw new Error("Keyword '"+y+"' is required after keyword '"+d+"'"+", in the sentence '"+e+"'.")}else{r=n.sanitizer.dashToCamelCase(r);switch(i[0]){case"type":l.type=r;break;case"class":l.instanceOf=r;break;case"typeOrClass":if(r[0].toLowerCase()===r[0]){l.type=r}else{l.instanceOf=r}break;case"sanitizer":if(!l.sanitize){l.sanitize=[]}l.sanitize.push(r);break;case"minValue":l.min=parseInt(r,10);break;case"maxValue":l.max=parseInt(r,10);break;case"lengthValue":l.length=parseInt(r,10);break;case"minLengthValue":l.minLength=parseInt(r,10);break;case"maxLengthValue":l.maxLength=parseInt(r,10);break}a=i.shift();if(!u.length){if(c!==h){p=c;c=h}else{p=h}}}}return s}t.exports=o},{"./doormen.js":6}],15:[function(e,t,r){(function(r,n){"use strict";if(!r){r=window}if(!r.DOORMEN_GLOBAL_EXTENSIONS){r.DOORMEN_GLOBAL_EXTENSIONS={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.typeChecker){r.DOORMEN_GLOBAL_EXTENSIONS.typeChecker={}}var o=Object.create(r.DOORMEN_GLOBAL_EXTENSIONS.typeChecker);t.exports=o;var i=e("./doormen");o.undefined=(e=>e===undefined);o.null=(e=>e===null);o.boolean=(e=>typeof e==="boolean");o.number=(e=>typeof e==="number");o.string=(e=>typeof e==="string");o.object=(e=>e&&typeof e==="object");o.function=(e=>typeof e==="function");o.array=(e=>Array.isArray(e));o.error=(e=>e instanceof Error);o.date=(e=>e instanceof Date);o.arguments=(e=>Object.prototype.toString.call(e)==="[object Arguments]");o.buffer=(e=>{try{return e instanceof n}catch(e){return false}});o.strictObject=(e=>e&&typeof e==="object"&&!Array.isArray(e));o.looseObject=(e=>e&&typeof e==="object"||typeof e==="function");o.classId=(e=>typeof e==="function"||typeof e==="string"&&e.length);o.unset=(e=>e===undefined||e===null);o.regexp=(e=>{if(e instanceof RegExp){return true}if(typeof e!=="string"){return false}try{new RegExp(e);return true}catch(e){return false}});o.schema=(e=>{try{i.validateSchema(e)}catch(e){return false}return true});o.real=(e=>typeof e==="number"&&!isNaN(e)&&isFinite(e));o.integer=(e=>typeof e==="number"&&isFinite(e)&&e===Math.round(e));o.hex=(e=>typeof e==="string"&&/^[0-9a-fA-F]+$/.test(e));o.ip=(e=>o.ipv4(e)||o.ipv6(e));o.ipv4=((e,t)=>{var r,n,o;if(typeof e!=="string"){return false}if(!t&&!/^[0-9.]+$/.test(e)){return false}n=e.split(".");if(n.length!==4){return false}for(r=0;r<n.length;r++){if(!n[r].length||n[r].length>3){return false}o=parseInt(n[r],10);if(!(o>=0&&o<=255)){return false}}return true});o.ipv6=((e,t)=>{var r,n,o=false,i=false,a=false;if(typeof e!=="string"){return false}if(!t&&!/^[0-9a-f:]+$/.test(e)){return false}n=e.split(":");if(n.length>9&&n.length<3){return false}for(r=0;r<n.length;r++){if(!n[r].length){if(r===0){i=true;if(n[1].length){return false}}else if(r===n.length-1){a=true;if(n[r-1].length){return false}}else{if(o){return false}o=true}}else if(n[r].length>4){return false}}if(n.length<8&&!o){return false}if(n.length-(i?1:0)-(a?1:0)>8){return false}return true});o.hostname=((e,t)=>{var r,n;if(typeof e!=="string"){return false}if(!t&&!/^[^\s/$?#@:]+$/.test(e)){return false}n=e.split(".");for(r=0;r<n.length;r++){if(!n[r].length&&r!==n.length-1){return false}if(n[r].length>63){return false}}return true});o.host=(e=>o.ip(e)||o.hostname(e));o.url=((e,t)=>{if(typeof e!=="string"){return false}var r=e.match(/^([a-z+.-]+):\/\/((?:([^\s@/:]+)(?::([^\s@/:]+))?@)?(([0-9.]+)|([0-9a-f:]+)|([^\s/$?#@:]+))(:[0-9]+)?)?(\/[^\s]*)?$/);if(!r){return false}if(t&&r[1]!=="http"&&r[1]!=="https"&&r[1]!=="ftp"){return false}if(!r[2]&&r[1]!=="file"){return false}if(r[6]){if(!o.ipv4(r[6],true)){return false}}if(r[7]){if(!o.ipv6(r[7],true)){return false}}if(r[8]){if(!o.hostname(r[8],true)){return false}}return true});o.weburl=(e=>o.url(e,true));o.email=(e=>{var t,r,n;if(typeof e!=="string"){return false}if(e.length>254){return false}t=e.match(/^([a-zA-Z0-9._#~!$&*+=,;:\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF-]+)@([^\s/$?#@:]+)$/);if(!t){return false}if(t[1].length>64){return false}n=t[1].split(".");for(r=0;r<n.length;r++){if(!n[r].length){return false}}if(!o.hostname(t[2],true)){return false}return true});o.mongoId=(e=>{if(e&&typeof e==="object"&&e.constructor.name==="ObjectID"&&e.id&&typeof e.toString==="function"){e=e.toString()}return typeof e==="string"&&e.length===24&&/^[0-9a-f]{24}$/.test(e)})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},e("buffer").Buffer)},{"./doormen":6,buffer:16}],16:[function(e,t,r){},{}],17:[function(e,t,r){t.exports=function(e){return e!=null&&(n(e)||o(e)||!!e._isBuffer)};function n(e){return!!e.constructor&&typeof e.constructor.isBuffer==="function"&&e.constructor.isBuffer(e)}function o(e){return typeof e.readFloatLE==="function"&&typeof e.slice==="function"&&n(e.slice(0,0))}},{}],18:[function(e,t,r){var n=t.exports={};var o;var i;function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){o=setTimeout}else{o=a}}catch(e){o=a}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=s}}catch(e){i=s}})();function l(e){if(o===setTimeout){return setTimeout(e,0)}if((o===a||!o)&&setTimeout){o=setTimeout;return setTimeout(e,0)}try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}function f(e){if(i===clearTimeout){return clearTimeout(e)}if((i===s||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var u=[];var c=false;var h;var p=-1;function y(){if(!c||!h){return}c=false;if(h.length){u=h.concat(u)}else{p=-1}if(u.length){d()}}function d(){if(c){return}var e=l(y);c=true;var t=u.length;while(t){h=u;u=[];while(++p<t){if(h){h[p].run()}}p=-1;t=u.length}h=null;c=false;f(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}u.push(new b(e,t));if(u.length===1&&!c){l(d)}};function b(e,t){this.fun=e;this.array=t}b.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function g(){}n.on=g;n.addListener=g;n.once=g;n.off=g;n.removeListener=g;n.removeAllListeners=g;n.emit=g;n.prependListener=g;n.prependOnceListener=g;n.listeners=function(e){return[]};n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},{}],19:[function(e,t,r){"use strict";t.exports={reset:"[0m",bold:"[1m",dim:"[2m",italic:"[3m",underline:"[4m",inverse:"[7m",defaultColor:"[39m",black:"[30m",red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m",brightBlack:"[90m",brightRed:"[91m",brightGreen:"[92m",brightYellow:"[93m",brightBlue:"[94m",brightMagenta:"[95m",brightCyan:"[96m",brightWhite:"[97m",defaultBgColor:"[49m",bgBlack:"[40m",bgRed:"[41m",bgGreen:"[42m",bgYellow:"[43m",bgBlue:"[44m",bgMagenta:"[45m",bgCyan:"[46m",bgWhite:"[47m",bgBrightBlack:"[100m",bgBrightRed:"[101m",bgBrightGreen:"[102m",bgBrightYellow:"[103m",bgBrightBlue:"[104m",bgBrightMagenta:"[105m",bgBrightCyan:"[106m",bgBrightWhite:"[107m"}},{}],20:[function(e,t,r){"use strict";r.regExp=r.regExpPattern=function e(t){return t.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1")};r.regExpReplacement=function e(t){return t.replace(/\$/g,"$$$$")};r.format=function e(t){return t.replace(/%/g,"%%")};r.jsSingleQuote=function e(t){return r.control(t).replace(/'/g,"\\'")};r.jsDoubleQuote=function e(t){return r.control(t).replace(/"/g,'\\"')};r.shellArg=function e(t){return"'"+t.replace(/'/g,"'\\''")+"'"};var n={"\r":"\\r","\n":"\\n","\t":"\\t","":"\\x7f"};r.control=function e(t,r=false){return t.replace(/[\x00-\x1f\x7f]/g,e=>{if(r&&(e==="\n"||e==="\t")){return e}if(n[e]!==undefined){return n[e]}var t=e.charCodeAt(0).toString(16);if(t.length%2){t="0"+t}return"\\x"+t})};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};r.html=function e(t){return t.replace(/[&<>]/g,e=>{return o[e]})};r.htmlAttr=function e(t){return t.replace(/[&<>"]/g,e=>{return o[e]})};r.htmlSpecialChars=function e(t){return t.replace(/[&<>"']/g,e=>{return o[e]})}},{}],21:[function(e,t,r){(function(t,n){"use strict";const o=e("./escape.js");const i=e("./ansi.js");const a={};function s(e,t){if(arguments.length<2){t=e;e={}}else if(!e||typeof e!=="object"){e={}}var r={depth:0,ancestors:[]};if(!e.style){e.style=y.none}else if(typeof e.style==="string"){e.style=y[e.style]}else{e.style=Object.assign({},y.none,e.style)}if(e.depth===undefined){e.depth=3}if(e.maxLength===undefined){e.maxLength=250}if(e.outputMaxLength===undefined){e.outputMaxLength=5e3}if(e.nofunc){e.noFunc=true}if(e.minimal){e.noFunc=true;e.noDescriptor=true;e.noType=true;e.noArrayProperty=true;e.enumOnly=true;e.funcDetails=false;e.proto=false}var n=l(r,e,t);if(n.length>e.outputMaxLength){n=n.slice(0,e.outputMaxLength-1)+"…"}return n}function l(e,r,n){var i,s,u,h,p,y,d,b,g,w,m,k,v,O="",j="",E="",A,x;b=typeof n;w=r.style.tab.repeat(e.depth);if(b==="function"&&r.noFunc){return""}if(e.key!==undefined){if(e.descriptor){E=[];if(!e.descriptor.configurable){E.push("-conf")}if(!e.descriptor.enumerable){E.push("-enum")}if(!e.descriptor.writable){E.push("-w")}if(E.length){E=E.join(" ")}else{E=""}}if(e.keyIsProperty){if(f(e.key)){j='"'+r.style.key(e.key)+'": '}else{j=r.style.key(e.key)+": "}}else{j=r.style.index(e.key)}if(E){E=" "+r.style.type(E)}}g=e.noPre?"":w+j;if(n===undefined){O+=g+r.style.constant("undefined")+E+r.style.newline}else if(n===a){O+=g+r.style.constant("[empty]")+E+r.style.newline}else if(n===null){O+=g+r.style.constant("null")+E+r.style.newline}else if(n===false){O+=g+r.style.constant("false")+E+r.style.newline}else if(n===true){O+=g+r.style.constant("true")+E+r.style.newline}else if(b==="number"){O+=g+r.style.number(n.toString())+(r.noType?"":" "+r.style.type("number"))+E+r.style.newline}else if(b==="string"){if(n.length>r.maxLength){O+=g+'"'+r.style.string(o.control(n.slice(0,r.maxLength-1)))+'…"'+(r.noType?"":" "+r.style.type("string")+r.style.length("("+n.length+" - TRUNCATED)"))+E+r.style.newline}else{O+=g+'"'+r.style.string(o.control(n))+'"'+(r.noType?"":" "+r.style.type("string")+r.style.length("("+n.length+")"))+E+r.style.newline}}else if(t.isBuffer(n)){O+=g+r.style.inspect(n.inspect())+(r.noType?"":" "+r.style.type("Buffer")+r.style.length("("+n.length+")"))+E+r.style.newline}else if(b==="object"||b==="function"){s=u="";k=false;if(b==="function"){k=true;s=" "+r.style.funcName(n.name?n.name:"(anonymous)");u=r.style.length("("+n.length+")")}m=false;if(Array.isArray(n)){m=true;u=r.style.length("("+n.length+")")}if(!n.constructor){y="(no constructor)"}else if(!n.constructor.name){y="(anonymous)"}else{y=n.constructor.name}y=r.style.constructorName(y);h=Object.getPrototypeOf(n);O+=g;if(!r.noType){if(e.forceType){O+=r.style.type(e.forceType)}else{O+=y+s+u+" "+r.style.type(b)+E}if(!k||r.funcDetails){O+=" "}}if(m&&r.noArrayProperty){p=[...Array(n.length).keys()]}else{p=Object.getOwnPropertyNames(n)}if(r.sort){p.sort()}v=c(n,e,r);if(r.protoBlackList&&r.protoBlackList.has(h)){O+=r.style.limit("[skip]")+r.style.newline}else if(v!==undefined){if(typeof v==="string"){O+="=> "+v+r.style.newline}else{O+="=> "+l({depth:e.depth,ancestors:e.ancestors,noPre:true},r,v)}}else if(k&&!r.funcDetails){O+=r.style.newline}else if(!p.length&&!r.proto){O+=(m?"[]":"{}")+r.style.newline}else if(e.depth>=r.depth){O+=r.style.limit("[depth limit]")+r.style.newline}else if(e.ancestors.indexOf(n)!==-1){O+=r.style.limit("[circular]")+r.style.newline}else{O+=(m&&r.noType&&r.noArrayProperty?"[":"{")+r.style.newline;x=e.ancestors.slice();x.push(n);for(i=0;i<p.length&&O.length<r.outputMaxLength;i++){if(!m&&r.propertyBlackList&&r.propertyBlackList.has(p[i])){continue}if(m&&r.noArrayProperty&&!(p[i]in n)){O+=l({depth:e.depth+1,ancestors:x,key:p[i],keyIsProperty:false},r,a)}else{try{A=Object.getOwnPropertyDescriptor(n,p[i]);if(!A.enumerable&&r.enumOnly){continue}d=!m||!A.enumerable||isNaN(p[i]);if(!r.noDescriptor&&A&&(A.get||A.set)){O+=l({depth:e.depth+1,ancestors:x,key:p[i],keyIsProperty:d,descriptor:A,forceType:"getter/setter"},r,{get:A.get,set:A.set})}else{O+=l({depth:e.depth+1,ancestors:x,key:p[i],keyIsProperty:d,descriptor:r.noDescriptor?undefined:A},r,n[p[i]])}}catch(t){O+=l({depth:e.depth+1,ancestors:x,key:p[i],keyIsProperty:d,descriptor:r.noDescriptor?undefined:A},r,t)}}if(i<p.length-1){O+=r.style.comma}}if(r.proto){O+=l({depth:e.depth+1,ancestors:x,key:"__proto__",keyIsProperty:true},r,h)}O+=w+(m&&r.noType&&r.noArrayProperty?"]":"}");O+=r.style.newline}}if(e.depth===0){if(r.style.trim){O=O.trim()}if(r.style==="html"){O=o.html(O)}}return O}r.inspect=s;function f(e){if(!e.length){return true}return false}var u=["pending","fulfilled","rejected"];function c(e,t,r){if(typeof e.constructor!=="function"){return}if(e instanceof String){return e.toString()}if(e instanceof RegExp){return e.toString()}if(e instanceof Date){return e.toString()+" ["+e.getTime()+"]"}if(typeof Set==="function"&&e instanceof Set){return Array.from(e)}if(typeof Map==="function"&&e instanceof Map){return Array.from(e)}if(e instanceof Promise){if(n&&n.binding&&n.binding("util")&&n.binding("util").getPromiseDetails){let o=n.binding("util").getPromiseDetails(e);let i=u[o[0]];let a="Promise <"+i+">";if(i==="fulfilled"){a+=" "+l({depth:t.depth,ancestors:t.ancestors,noPre:true},r,o[1])}else if(i==="rejected"){if(o[1]instanceof Error){a+=" "+h({style:r.style,noErrorStack:true},o[1])}else{a+=" "+l({depth:t.depth,ancestors:t.ancestors,noPre:true},r,o[1])}}return a}}if(e._bsontype){return e.toString()}if(r.useInspect&&typeof e.inspect==="function"){return e.inspect()}return}function h(e,t){var r="",n,o,i;if(arguments.length<2){t=e;e={}}else if(!e||typeof e!=="object"){e={}}if(!(t instanceof Error)){return"Not an error -- regular variable inspection: "+s(e,t)}if(!e.style){e.style=y.none}else if(typeof e.style==="string"){e.style=y[e.style]}if(t.stack&&!e.noErrorStack){n=p(e,t.stack)}o=t.type||t.constructor.name;i=t.code||t.name||t.errno||t.number;r+=e.style.errorType(o)+(i?" ["+e.style.errorType(i)+"]":"")+": ";r+=e.style.errorMessage(t.message)+"\n";if(n){r+=e.style.errorStack(n)+"\n"}return r}r.inspectError=h;function p(e,t){if(arguments.length<2){t=e;e={}}else if(!e||typeof e!=="object"){e={}}if(!e.style){e.style=y.none}else if(typeof e.style==="string"){e.style=y[e.style]}if(!t){return}if((e.browser||n.browser)&&t.indexOf("@")!==-1){t=t.replace(/[</]*(?=@)/g,"").replace(/^\s*([^@]*)\s*@\s*([^\n]*)(?::([0-9]+):([0-9]+))?$/gm,(t,r,n,o,i)=>{return e.style.errorStack("    at ")+(r?e.style.errorStackMethod(r)+" ":"")+e.style.errorStack("(")+(n?e.style.errorStackFile(n):e.style.errorStack("unknown"))+(o?e.style.errorStack(":")+e.style.errorStackLine(o):"")+(i?e.style.errorStack(":")+e.style.errorStackColumn(i):"")+e.style.errorStack(")")})}else{t=t.replace(/^[^\n]*\n/,"");t=t.replace(/^\s*(at)\s+(?:((?:new +)?[^\s:()[\]\n]+(?:\([^)]+\))?)\s)?(?:\[as ([^\s:()[\]\n]+)\]\s)?(?:\(?([^:()[\]\n]+):([0-9]+):([0-9]+)\)?)?$/gm,(t,r,n,o,i,a,s)=>{return e.style.errorStack("    at ")+(n?e.style.errorStackMethod(n)+" ":"")+(o?e.style.errorStack("[as ")+e.style.errorStackMethodAs(o)+e.style.errorStack("] "):"")+e.style.errorStack("(")+(i?e.style.errorStackFile(i):e.style.errorStack("unknown"))+(a?e.style.errorStack(":")+e.style.errorStackLine(a):"")+(s?e.style.errorStack(":")+e.style.errorStackColumn(s):"")+e.style.errorStack(")")})}return t}r.inspectStack=p;var y={};var d=e=>e;y.none={trim:false,tab:"    ",newline:"\n",comma:"",limit:d,type:e=>"<"+e+">",constant:d,funcName:d,constructorName:e=>"<"+e+">",length:d,key:d,index:e=>"["+e+"] ",number:d,inspect:d,string:d,errorType:d,errorMessage:d,errorStack:d,errorStackMethod:d,errorStackMethodAs:d,errorStackFile:d,errorStackLine:d,errorStackColumn:d};y.inline=Object.assign({},y.none,{trim:true,tab:"",newline:" ",comma:", ",length:()=>"",index:()=>""});y.color=Object.assign({},y.none,{limit:e=>i.bold+i.brightRed+e+i.reset,type:e=>i.italic+i.brightBlack+e+i.reset,constant:e=>i.cyan+e+i.reset,funcName:e=>i.italic+i.magenta+e+i.reset,constructorName:e=>i.magenta+e+i.reset,length:e=>i.italic+i.brightBlack+e+i.reset,key:e=>i.green+e+i.reset,index:e=>i.blue+"["+e+"]"+i.reset+" ",number:e=>i.cyan+e+i.reset,inspect:e=>i.cyan+e+i.reset,string:e=>i.blue+e+i.reset,errorType:e=>i.red+i.bold+e+i.reset,errorMessage:e=>i.red+i.italic+e+i.reset,errorStack:e=>i.brightBlack+e+i.reset,errorStackMethod:e=>i.brightYellow+e+i.reset,errorStackMethodAs:e=>i.yellow+e+i.reset,errorStackFile:e=>i.brightCyan+e+i.reset,errorStackLine:e=>i.blue+e+i.reset,errorStackColumn:e=>i.magenta+e+i.reset});y.html=Object.assign({},y.none,{tab:"&nbsp;&nbsp;&nbsp;&nbsp;",newline:"<br />",limit:e=>'<span style="color:red">'+e+"</span>",type:e=>'<i style="color:gray">'+e+"</i>",constant:e=>'<span style="color:cyan">'+e+"</span>",funcName:e=>'<i style="color:magenta">'+e+"</i>",constructorName:e=>'<span style="color:magenta">'+e+"</span>",length:e=>'<i style="color:gray">'+e+"</i>",key:e=>'<span style="color:green">'+e+"</span>",index:e=>'<span style="color:blue">['+e+"]</span> ",number:e=>'<span style="color:cyan">'+e+"</span>",inspect:e=>'<span style="color:cyan">'+e+"</span>",string:e=>'<span style="color:blue">'+e+"</span>",errorType:e=>'<span style="color:red">'+e+"</span>",errorMessage:e=>'<span style="color:red">'+e+"</span>",errorStack:e=>'<span style="color:gray">'+e+"</span>",errorStackMethod:e=>'<span style="color:yellow">'+e+"</span>",errorStackMethodAs:e=>'<span style="color:yellow">'+e+"</span>",errorStackFile:e=>'<span style="color:cyan">'+e+"</span>",errorStackLine:e=>'<span style="color:blue">'+e+"</span>",errorStackColumn:e=>'<span style="color:gray">'+e+"</span>"})}).call(this,{isBuffer:e("../../is-buffer/index.js")},e("_process"))},{"../../is-buffer/index.js":17,"./ansi.js":19,"./escape.js":20,_process:18}],22:[function(e,t,r){t.exports={"߀":"0","́":""," ":" ","Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ɓ":"B","ｃ":"C","Ⓒ":"C","Ｃ":"C","Ꜿ":"C","Ḉ":"C","Ç":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ɗ":"D","Ɖ":"D","ᴅ":"D","Ꝺ":"D","Ð":"Dh","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","ɛ":"E","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","ᴇ":"E","ꝼ":"F","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","ɢ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","ȷ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","ϻ":"M","Ꞥ":"N","Ƞ":"N","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ɲ":"N","Ꞑ":"N","ᴎ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Þ":"Th","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ɑ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","Ƃ":"b","ⓒ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c",C:"c","Ć":"c","Ĉ":"c","Ċ":"c","Č":"c","Ƈ":"c","Ȼ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","Ƌ":"d","Ꮷ":"d","ԁ":"d","Ɦ":"d","ð":"dh","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ﬀ":"ff","ﬁ":"fi","ﬂ":"fl","ﬃ":"ffi","ﬄ":"ffl","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ꝿ":"g","ᵹ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ɭ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ԉ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ɔ":"o","ᴑ":"o","œ":"oe","ƣ":"oi","ꝏ":"oo","ȣ":"ou","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ρ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ʂ":"s","ß":"ss","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","þ":"th","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"}},{}],23:[function(e,t,r){"use strict";var n=e("./latinize-map.json");t.exports=function(e){return e.replace(/[^\u0000-\u007e]/g,e=>{return n[e]||e})}},{"./latinize-map.json":22}],24:[function(e,t,r){"use strict";t.exports=function e(t,r){if(!t||typeof t!=="string"){return""}r=r||{};return t.replace(/[^\s_-]+/g,e=>{if(r.zealous){if(r.preserveAllCaps&&e===e.toUpperCase()){return e}return e[0].toUpperCase()+e.slice(1).toLowerCase()}return e[0].toUpperCase()+e.slice(1)})}},{}],25:[function(e,t,r){"use strict";t.exports=function e(t,r){var n,o,i,a,s,l,f=[{source:t,target:Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t))}],u=f[0].target,c=[t],h=[u];while(a=f.shift()){i=Object.getOwnPropertyNames(a.source);for(n=0;n<i.length;n++){o=Object.getOwnPropertyDescriptor(a.source,i[n]);if(!o.value||typeof o.value!=="object"){Object.defineProperty(a.target,i[n],o);continue}s=o.value;o.value=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s));if(r){l=c.indexOf(s);if(l!==-1){o.value=h[l];Object.defineProperty(a.target,i[n],o);continue}c.push(s);h.push(o.value)}Object.defineProperty(a.target,i[n],o);f.push({source:s,target:o.value})}}return u}},{}],26:[function(e,t,r){"use strict";var n={};t.exports=n;n.op=function e(t,r,n,o){var i,a,s,l,f,u=false,c=false,h,p=true;if(!r||typeof r!=="object"&&typeof r!=="function"){return}if(typeof n==="string"){if(n){a=n.match(/([.#[\]]|[^.#[\]]+)/g)}else{a=[""]}if(a[0]==="."){a.unshift("")}if(a[a.length-1]==="."){a.push("")}}else if(Array.isArray(n)){a=n;c=true}else{throw new TypeError("[tree.path] ."+t+"(): the path argument should be a string or an array")}switch(t){case"get":case"delete":h=false;break;case"set":case"define":case"inc":case"dec":case"append":case"prepend":case"concat":case"insert":case"autoPush":h=true;break;default:throw new TypeError("[tree.path] .op(): wrong type of operation '"+t+"'")}l=r;s=a.length-1;for(i=0;i<=s;i++){if(c){if(f===undefined){f=a[i];continue}if(!l[f]||typeof l[f]!=="object"&&typeof l[f]!=="function"){if(!h){return undefined}l[f]={}}l=l[f];f=a[i];continue}else if(a[i]==="."){u=false;if(f===undefined){if(!p){p=true;continue}f=""}if(!l[f]||typeof l[f]!=="object"&&typeof l[f]!=="function"){if(!h){return undefined}l[f]={}}l=l[f];p=true;continue}else if(a[i]==="#"||a[i]==="["){u=true;p=false;if(f===undefined){if(!Array.isArray(l)){return undefined}continue}if(!l[f]||!Array.isArray(l[f])){if(!h){return undefined}l[f]=[]}l=l[f];continue}else if(a[i]==="]"){p=false;continue}p=false;if(!u){f=a[i];continue}switch(a[i]){case"length":f=a[i];break;case"first":f=0;break;case"last":f=l.length-1;if(f<0){f=0}break;case"next":if(!h){return undefined}f=l.length;break;case"insert":if(!h){return undefined}l.unshift(undefined);f=0;break;default:f=parseInt(a[i],10)}}switch(t){case"get":return l[f];case"delete":if(u&&typeof f==="number"){l.splice(f,1)}else{delete l[f]}return;case"set":l[f]=o;return l[f];case"define":if(!(f in l)){l[f]=o}return l[f];case"inc":if(typeof l[f]==="number"){l[f]++}else if(!l[f]||typeof l[f]!=="object"){l[f]=1}return l[f];case"dec":if(typeof l[f]==="number"){l[f]--}else if(!l[f]||typeof l[f]!=="object"){l[f]=-1}return l[f];case"append":if(!l[f]){l[f]=[o]}else if(Array.isArray(l[f])){l[f].push(o)}return l[f];case"prepend":if(!l[f]){l[f]=[o]}else if(Array.isArray(l[f])){l[f].unshift(o)}return l[f];case"concat":if(!l[f]){l[f]=o}else if(Array.isArray(l[f])&&Array.isArray(o)){l[f]=l[f].concat(o)}return l[f];case"insert":if(!l[f]){l[f]=o}else if(Array.isArray(l[f])&&Array.isArray(o)){l[f]=o.concat(l[f])}return l[f];case"autoPush":if(l[f]===undefined){l[f]=o}else if(Array.isArray(l[f])){l[f].push(o)}else{l[f]=[l[f],o]}return l[f]}};n.get=n.op.bind(undefined,"get");n.delete=n.op.bind(undefined,"delete");n.set=n.op.bind(undefined,"set");n.define=n.op.bind(undefined,"define");n.inc=n.op.bind(undefined,"inc");n.dec=n.op.bind(undefined,"dec");n.append=n.op.bind(undefined,"append");n.prepend=n.op.bind(undefined,"prepend");n.concat=n.op.bind(undefined,"concat");n.insert=n.op.bind(undefined,"insert");n.autoPush=n.op.bind(undefined,"autoPush");n.prototype={get:function(e){return n.get(this,e)},delete:function(e){return n.delete(this,e)},set:function(e,t){return n.set(this,e,t)},define:function(e,t){return n.define(this,e,t)},inc:function(e,t){return n.inc(this,e,t)},dec:function(e,t){return n.dec(this,e,t)},append:function(e,t){return n.append(this,e,t)},prepend:function(e,t){return n.prepend(this,e,t)},concat:function(e,t){return n.concat(this,e,t)},insert:function(e,t){return n.insert(this,e,t)},autoPush:function(e,t){return n.autoPush(this,e,t)}};n.upgrade=function e(t){Object.defineProperties(t,{get:{value:n.op.bind(undefined,"get",t)},delete:{value:n.op.bind(undefined,"delete",t)},set:{value:n.op.bind(undefined,"set",t)},define:{value:n.op.bind(undefined,"define",t)},inc:{value:n.op.bind(undefined,"inc",t)},dec:{value:n.op.bind(undefined,"dec",t)},append:{value:n.op.bind(undefined,"append",t)},prepend:{value:n.op.bind(undefined,"prepend",t)},concat:{value:n.op.bind(undefined,"concat",t)},insert:{value:n.op.bind(undefined,"insert",t)},autoPush:{value:n.op.bind(undefined,"autoPush",t)}})}},{}]},{},[5])(5)});