(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.doormen=e()}})(function(){var e,t,r;return function(){function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(e){var r=t[a][1][e];return o(r||e)},u,u.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}return e}()({1:[function(e,t,r){"use strict";function n(e,t,r={}){this.message=e;t=t||n;this.actual=r.actual;this.expected=r.expected;this.expectationPath=r.expectationPath;this.expectationType=r.expectationType;this.showDiff=!!r.showDiff;this.showPathDiff=!!r.showPathDiff;this.from=r.fromError;if(t instanceof Error){this.stack=t.stack}else if(Error.captureStackTrace){Error.captureStackTrace(this,t)}else{this.stack=Error().stack}}t.exports=n;n.prototype=Object.create(TypeError.prototype);n.prototype.constructor=n;n.prototype.name="AssertionError";const o=e("./assert.js");n.create=((e,t,r,i,...a)=>{var l,f;var u={inspect:false,glue:" and ",showDiff:false,showPathDiff:false,none:false};if(i&&typeof i==="object"){l=i.middleMessage||" to <insert here your expectation> ";i=i.expectationType}else{l=i}if(o[i]){Object.assign(u,o[i])}var c="";if(t!==o.NONE){f=s(t,a.length>=2);if(f.length>80){c+="Expected\n\t"+f+"\n"}else{c+="Expected "+f+" "}}else if(!u.none){c+="Expected nothing "}c+=l;if(a.length){if(u.inspect){c+=" "+a.map(e=>{f=s(e);if(f.length>80){return"\n\t"+f+"\n"}return f}).join(u.glue)}else{c+=" "+a.join(u.glue)}}if(r){c+=" (offending path: "+r+")";if(r[0]==="."){r=r.slice(1)}}var h={actual:t,expectationPath:r,expectationType:i};if(a.length===1){h.expected=a[0];h.showDiff=u.showDiff;if(r){h.showPathDiff=u.showPathDiff}}if(t instanceof Error){h.fromError=t}else if(t instanceof o.FunctionCall&&t.hasThrown){h.fromError=t.error}return new n(c,e,h)});const i=e("string-kit/lib/inspect.js").inspect;const a={style:"inline",depth:2,maxLength:80,outputMaxLength:400,noDescriptor:true,noType:true,noArrayProperty:true};function s(e,t){var r;if(typeof e==="function"){return(e.name||"(anonymous)")+"()"}if(e instanceof Error){r=""+e;if(t){let t=Object.assign({},e);delete t.message;delete t.safeMessage;delete t.stack;delete t.at;delete t.constructor;r+=" having "+i(a,t)}return r}if(e instanceof o.FunctionCall){r=e.function.name||"(anonymous)";if(e.args.length){let t="( "+e.args.map(e=>s(e)).join(", ")+" )";if(t.length>a.maxLength){t=t.slice(0,a.maxLength-1)+"â€¦"}r+=t}else{r+="()"}if(e.hasThrown){r+=", which has thrown "+s(e.error,t)+","}return r}return i(a,e)}},{"./assert.js":6,"string-kit/lib/inspect.js":26}],2:[function(e,t,r){"use strict";const n=e("./core.js");const o=e("./Input.js");function i(e,t){this.schema=e;this.data=t;this.patch=null;this.inputs=[];this.inputIndex=0;this.structure=null;this.error=null;this.createInputs()}t.exports=i;i.prototype.createInputs=function(){this.createInputsRecursive(this.schema,this.data,"")};i.prototype.createInputsRecursive=function(e,t,r){var n,i;if(Array.isArray(e)){throw new Error("Schema alternatives are not supported for forms ATM.")}if(e.properties&&typeof e.properties==="object"){for(n in e.properties){this.createInputsRecursive(e.properties[n],t[n],r?r+"."+n:n)}return}i=new o({form:this,name:r,index:this.inputIndex++,type:e.input&&e.input.type,dataType:e.type,value:t,startingValue:t,order:e.input&&e.input.order,title:e.input&&e.input.title,placeholder:e.input&&e.input.placeholder,description:e.input&&e.input.description,schema:e});this.inputs.push(i)};i.prototype.createFlatObjectStructure=function(e){var t;this.structure={};for(t of this.inputs){this.structure[t.name]=e?t.proxy:t}return this.structure};i.prototype.update=function(){for(let e of this.inputs){e.update()}};i.prototype.getPatch=function(){var e=0,t=null,r;for(r of this.inputs){if(r.localValue!==r.remoteValue){if(!t){t={}}t[r.name]=r.localValue}}return t};i.prototype.commit=function(){for(let e of this.inputs){e.remoteValue=e.localValue}}},{"./Input.js":3,"./core.js":9}],3:[function(e,t,r){"use strict";const n=e("./core.js");const o=e("tree-kit/lib/clone.js");function i(e={}){this.form=e.form;this.name=e.name;this.index=e.index||0;this.type=e.type||null;this.dataType=e.dataType;this.value=e.value;this.localValue=e.localValue||e.value;this.remoteValue=e.remoteValue||e.value;this.order=e.order||0;this.title=e.title||null;this.placeholder=e.placeholder||null;this.description=e.description||null;this.error=null;this.schema=o(e.schema);this.proxy=null;this.init()}t.exports=i;i.prototype.init=function(){if(!this.type){this.type=i.guessType(this.dataType)}var e=i.guessSanitizer(this.dataType);if(e){if(!this.schema.sanitize){this.schema.sanitize=[]}else if(typeof this.schema.sanitize==="string"){this.schema.sanitize=[this.schema.sanitize]}if(this.schema.sanitize[0]!==e){this.schema.sanitize.unshift(e)}}this.proxy=this.createProxy()};const a={string:"text",number:"text",integer:"text"};const s={number:"toNumber",integer:"toInteger"};i.guessType=function(e){if(a[e]){return a[e]}return"text"};i.guessSanitizer=function(e){if(s[e]){return s[e]}return};i.prototype.createProxy=function(){return new Proxy(this,{set:function(e,t,r,n){if(t!=="value"){return false}e.value=r;e.update();return true}})};i.prototype.update=function(){try{this.localValue=n(this.schema,this.value)}catch(e){this.error=e.message;return}this.error=null}},{"./core.js":9,"tree-kit/lib/clone.js":32}],4:[function(e,t,r){"use strict";function n(e){this.message=e;if(Error.captureStackTrace){Error.captureStackTrace(this,n)}else{Object.defineProperty(this,"stack",{value:Error().stack,enumerable:true,configurable:true})}}t.exports=n;n.prototype=Object.create(TypeError.prototype);n.prototype.constructor=n;n.prototype.name="SchemaError"},{}],5:[function(e,t,r){"use strict";function n(e,t){this.message=e;if(t){this.at=this.path=t.path}if(Error.captureStackTrace){Error.captureStackTrace(this,n)}else{Object.defineProperty(this,"stack",{value:Error().stack,enumerable:true,configurable:true})}}t.exports=n;n.prototype=Object.create(TypeError.prototype);n.prototype.constructor=n;n.prototype.name="ValidatorError"},{}],6:[function(e,t,r){"use strict";const n=e("./typeCheckers.js");const o=e("./isEqual.js");const i={like:true};const a={like:true,oneWay:true};const s={oneWay:true};const l=new Set(["a","e","i","o","u","y","A","E","I","O","U","Y"]);var f={};t.exports=f;const u=e("./AssertionError.js");f.NONE={};function c(e,t,r,...n){this.function=e;this.isAsync=t;this.this=r;this.args=n;this.hasThrown=false;this.error=undefined;this.return=undefined;try{this.return=this.function.call(this.this||null,...this.args)}catch(e){this.hasThrown=true;this.error=e}if(this.isAsync){if(this.hasThrown){this.promise=Promise.resolve()}else{this.promise=Promise.resolve(this.return).then(e=>this.return=e,e=>{this.hasThrown=true;this.error=e})}}}f.FunctionCall=c;f["to be defined"]=f.defined=f.isDefined=((e,t)=>{if(t===undefined){throw u.create(e,t,null,"to be defined")}});f["to be not defined"]=f["to not be defined"]=f["not to be defined"]=f["to be undefined"]=f.undefined=f.isUndefined=((e,t)=>{if(t!==undefined){throw u.create(e,t,null,"to be undefined")}});f["to be ok"]=f["to be truthy"]=f.ok=f.isOk=f.truthy=f.isTruthy=((e,t)=>{if(!t){throw u.create(e,t,null,"to be truthy")}});f["to be not ok"]=f["to not be ok"]=f["not to be ok"]=f["to be not truthy"]=f["to not be truthy"]=f["not to be truthy"]=f["to be falsy"]=f.nok=f.ko=f.isNotOk=f.falsy=f.isFalsy=((e,t)=>{if(t){throw u.create(e,t,null,"to be falsy")}});f["to be true"]=f.true=f.isTrue=((e,t)=>{if(t!==true){throw u.create(e,t,null,"to be true")}});f["to be not true"]=f["to not be true"]=f["not to be true"]=f.notTrue=f.isNotTrue=((e,t)=>{if(t===true){throw u.create(e,t,null,"not to be true")}});f["to be false"]=f.false=f.isFalse=((e,t)=>{if(t!==false){throw u.create(e,t,null,"to be false")}});f["to be not false"]=f["to not be false"]=f["not to be false"]=f.notFalse=f.isNotFalse=((e,t)=>{if(t===false){throw u.create(e,t,null,"not to be false")}});f["to be null"]=f.null=f.isNull=((e,t)=>{if(t!==null){throw u.create(e,t,null,"to be null")}});f["to be not null"]=f["to not be null"]=f["not to be null"]=f.notNull=f.isNotNull=((e,t)=>{if(t===null){throw u.create(e,t,null,"not to be null")}});f["to be NaN"]=f["to be nan"]=f.NaN=f.isNaN=((e,t)=>{if(!Number.isNaN(t)){throw u.create(e,t,null,"to be NaN")}});f["to be not NaN"]=f["to not be NaN"]=f["not to be NaN"]=f["to be not nan"]=f["to not be nan"]=f["not to be nan"]=f.notNaN=f.isNotNaN=((e,t)=>{if(Number.isNaN(t)){throw u.create(e,t,null,"not to be NaN")}});f["to be finite"]=f.finite=((e,t)=>{if(typeof t!=="number"){throw u.create(e,t,null,"to be a number")}if(Number.isNaN(t)||t===Infinity||t===-Infinity){throw u.create(e,t,null,"to be finite")}});f["to be not finite"]=f["to not be finite"]=f["not to be finite"]=f.notFinite=((e,t)=>{if(typeof t!=="number"){throw u.create(e,t,null,"to be a number")}if(!Number.isNaN(t)&&t!==Infinity&&t!==-Infinity){throw u.create(e,t,null,"to be finite")}});f["to be"]=f.strictEqual=((e,t,r)=>{if(t!==r&&!(Number.isNaN(t)&&Number.isNaN(r))){throw u.create(e,t,null,"to be",r)}});f.strictEqual.showDiff=true;f.strictEqual.inspect=true;f["to be not"]=f["to not be"]=f["not to be"]=f.notStrictEqual=((e,t,r)=>{if(t===r||Number.isNaN(t)&&Number.isNaN(r)){throw u.create(e,t,null,"not to be",r)}});f.notStrictEqual.inspect=true;f["to be equal to"]=f["to equal"]=f["to eql"]=f.equal=((e,t,r)=>{if(!o(t,r)){throw u.create(e,t,o.getLastPath(),"to equal",r)}});f.equal.showDiff=true;f.equal.inspect=true;f["to be not equal to"]=f["to not be equal to"]=f["not to be equal to"]=f["to not equal"]=f["not to equal"]=f["to not eql"]=f["not to eql"]=f.notEqual=((e,t,r)=>{if(o(t,r)){throw u.create(e,t,null,"not to equal",r)}});f.notEqual.inspect=true;f["to be like"]=f["to be alike"]=f["to be alike to"]=f.like=((e,t,r)=>{if(!o(t,r,i)){throw u.create(e,t,o.getLastPath(),"to be like",r)}});f.like.showDiff=true;f.like.inspect=true;f["to be not like"]=f["to not be like"]=f["not to be like"]=f["to be not alike"]=f["to not be alike"]=f["not to be alike"]=f["to be not alike to"]=f["to not be alike to"]=f["not to be alike to"]=f.notLike=((e,t,r)=>{if(o(t,r,i)){throw u.create(e,t,null,"not to be like",r)}});f.notLike.inspect=true;f["to be partially equal to"]=f["to be partial equal to"]=f["to be equal to partial"]=f["to partially equal"]=f["to partial equal"]=f["to equal partial"]=f.partialEqual=f.partiallyEqual=((e,t,r)=>{if(!o(r,t,s)){throw u.create(e,t,o.getLastPath(),"to partially equal",r)}});f.partiallyEqual.showPathDiff=true;f.partiallyEqual.inspect=true;f["to be not partially equal to"]=f["to not be partially equal to"]=f["not to be partially equal to"]=f["to be not partial equal to"]=f["to not be partial equal to"]=f["not to be partial equal to"]=f["to be not equal to partial"]=f["to not be equal to partial"]=f["not to be equal to partial"]=f["to not partially equal"]=f["not to partially equal"]=f["to not partial equal"]=f["not to partial equal"]=f["to not equal partial"]=f["not to equal partial"]=f.notPartialEqual=f.notPartiallyEqual=((e,t,r)=>{if(o(r,t,s)){throw u.create(e,t,null,"not to partially equal",r)}});f.notPartiallyEqual.inspect=true;f["to be partially like"]=f["to be like partial"]=f.partialLike=f.partiallyLike=((e,t,r)=>{if(!o(r,t,a)){throw u.create(e,t,o.getLastPath(),"to be partially like",r)}});f.partiallyLike.showPathDiff=true;f.partiallyLike.inspect=true;f["to be not partially like"]=f["to not be partially like"]=f["not to be partially like"]=f["to be not like partial"]=f["to not be like partial"]=f["not to be like partial"]=f.notPartialLike=f.notPartiallyLike=((e,t,r)=>{if(o(r,t,a)){throw u.create(e,t,null,"not to be partially like",r)}});f.notPartiallyLike.inspect=true;f["to map"]=f.map=((e,t,r)=>{if(!t||typeof t!=="object"||typeof t.get!=="function"||typeof t.keys!=="function"){throw u.create(e,t,null,"to be be a mappable object")}if(!Array.isArray(r)){throw new u("Expectation are not map entries",e)}var n=[...t.keys()];if(n.length!==r.length){throw u.create(e,t,null,"to map",r)}r.forEach(i=>{var a,s;if(!Array.isArray(i)){throw new u("Expectation are not map entries",e)}s=n.findIndex(e=>o(i[0],e));if((s=n.indexOf(i[0]))!==-1||(s=n.findIndex(e=>o(i[0],e)))!==-1){a=n.splice(s,1)[0];if(!o(i[1],t.get(a))){throw u.create(e,t,null,"to map",r)}}else{throw u.create(e,t,null,"to map",r)}})});f.map.inspect=true;f["to be shallow clone"]=f["to be shallow clone of"]=f["to be a shallow clone of"]=f.shallowCloneOf=((e,t,r)=>{if(typeof t!=="function"&&(!t||typeof t!=="object")){throw u.create(e,t,null,"to be be an object or a function")}if(t===r){return}if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length){throw u.create(e,t,null,"to be a shallow clone of",r)}t.forEach((n,o)=>{if(n!==r[o]){throw u.create(e,t,null,"to be a shallow clone of",r)}})}else{if(Array.isArray(r)){throw u.create(e,t,null,"to be a shallow clone of",r)}let n=Object.keys(t);let o=Object.keys(r);if(n.length!==o.length){throw u.create(e,t,null,"to be a shallow clone of",r)}o.forEach(n=>{if(!Object.prototype.hasOwnProperty.call(t,n)||t[n]!==r[n]){throw u.create(e,t,null,"to be a shallow clone of",r)}})}});f.shallowCloneOf.inspect=true;f["to be not shallow clone"]=f["to not be shallow clone"]=f["not to be shallow clone"]=f["to be not shallow clone of"]=f["to not be shallow clone of"]=f["not to be shallow clone of"]=f["to be not a shallow clone of"]=f["to not be a shallow clone of"]=f["not to be a shallow clone of"]=f.notShallowCloneOf=((e,t,r)=>{if(typeof t!=="function"&&(!t||typeof t!=="object")){throw u.create(e,t,null,"to be be an object or a function")}try{f.shallowCloneOf(e,t,r)}catch(e){return}throw u.create(e,t,null,"not to be a shallow clone of",r)});f.notShallowCloneOf.inspect=true;const h=1+4*Number.EPSILON;const p=4*Number.MIN_VALUE;f["to be close to"]=f["to be around"]=f.around=((e,t,r,n)=>{if(typeof t!=="number"){throw u.create(e,t,null,"to be a number")}if(Number.isNaN(t)||Number.isNaN(r)){throw u.create(e,t,null,"to be around",r)}if(!n){let n=Math.abs(t),o=Math.abs(r);if(n<=p||o<=p){if(t>r+p||r>t+p){throw u.create(e,t,null,"to be around",r)}}else if(t*r<0){throw u.create(e,t,null,"to be around",r)}else if(n>o*h||o>n*h){throw u.create(e,t,null,"to be around",r)}return}if(t<r-n||t>r+n){throw u.create(e,t,null,"to be around",r)}});f["to be not close to"]=f["to not be close to"]=f["not to be close to"]=f["to be not around"]=f["to not be around"]=f["not to be around"]=f.notAround=((e,t,r,n)=>{if(typeof t!=="number"){throw u.create(e,t,null,"to be a number")}if(Number.isNaN(t)||Number.isNaN(r)){return}if(!n){if(t===0||r===0){if(t<=r+p&&r<=t+p){throw u.create(e,t,null,"not to be around",r)}}else if(t<=r*h&&r<=t*h){throw u.create(e,t,null,"not to be around",r)}return}if(t>=r-n&&t<=r+n||Number.isNaN(t)){throw u.create(e,t,null,"not to be around",r)}});f["to be above"]=f["to be greater"]=f["to be greater than"]=f.above=f.gt=f.greater=f.greaterThan=((e,t,r)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw u.create(e,t,null,"to be a number or a Date")}if(t<=r||Number.isNaN(t)){throw u.create(e,t,null,"to be above",r)}});f["to be at least"]=f["to be greater than or equal to"]=f.least=f.gte=f.greaterThanOrEqualTo=((e,t,r)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw u.create(e,t,null,"to be a number or a Date")}if(t<r||Number.isNaN(t)){throw u.create(e,t,null,"to be at least",r)}});f["to be below"]=f["to be lesser"]=f["to be lesser than"]=f.below=f.lt=f.lesser=f.lesserThan=((e,t,r)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw u.create(e,t,null,"to be a number or a Date")}if(t>=r||Number.isNaN(t)){throw u.create(e,t,null,"to be below",r)}});f["to be at most"]=f["to be lesser than or equal to"]=f.most=f.lte=f.lesserThanOrEqualTo=((e,t,r)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw u.create(e,t,null,"to be a number or a Date")}if(t>r||Number.isNaN(t)){throw u.create(e,t,null,"to be at most",r)}});f["to be within"]=f.within=((e,t,r,n)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw u.create(e,t,null,"to be a number or a Date")}if(t<r||t>n||Number.isNaN(t)){throw u.create(e,t,null,"to be within",r,n)}});f["to be not within"]=f["to not be within"]=f["not to be within"]=f.notWithin=((e,t,r,n)=>{if(typeof t!=="number"&&!(t instanceof Date)){throw u.create(e,t,null,"to be a number or a Date")}if(t>=r&&t<=n||Number.isNaN(t)){throw u.create(e,t,null,"not to be within",r,n)}});f["to match"]=f.match=((e,t,r)=>{if(typeof t!=="string"){throw u.create(e,t,null,"to be a string")}if(!t.match(r)){throw u.create(e,t,null,"to match",r)}});f["to not match"]=f["not to match"]=f.notMatch=((e,t,r)=>{if(typeof t!=="string"){throw u.create(e,t,null,"to be a string")}if(t.match(r)){throw u.create(e,t,null,"not to match",r)}});f["to have length"]=f["to have length of"]=f["to have a length of"]=f.lengthOf=((e,t,r)=>{if(typeof t!=="string"&&(!t||typeof t!=="object")){throw u.create(e,t,null,"to have some length")}if(t.length!==r){throw u.create(e,t,null,"to have a length of",r)}});f["to have not length"]=f["to not have length"]=f["not to have length"]=f["to have length not of"]=f["to have not length of"]=f["to not have length of"]=f["not to have length of"]=f["to have a length not of"]=f["to have not a length of"]=f["to not have a length of"]=f["not to have a length of"]=f.notLengthOf=((e,t,r)=>{if(typeof t!=="string"&&(!t||typeof t!=="object")){throw u.create(e,t,null,"to have some length")}if(t.length===r){throw u.create(e,t,null,"not to have a length of",r)}});f["to contain"]=f["to have"]=f["to include"]=f.has=f.include=f.contain=((e,t,...r)=>{var n=false;if(t&&typeof t==="object"){if(Array.isArray(t)){n=r.every(e=>t.includes(e))}else if(typeof t.has==="function"){n=r.every(e=>t.has(e))}}else if(typeof t==="string"){n=r.every(e=>t.includes(e))}if(!n){throw u.create(e,t,null,"to contain",r)}});f.contain.inspect=true;f["to contain not"]=f["to not contain"]=f["not to contain"]=f["to have not"]=f["to not have"]=f["not to have"]=f["to include not"]=f["to not include"]=f["not to include"]=f.hasNot=f.notInclude=f.notContain=((e,t,...r)=>{var n=false;if(t&&typeof t==="object"){if(Array.isArray(t)){n=r.some(e=>t.includes(e))}else if(typeof t.has==="function"){n=r.some(e=>t.has(e))}}else if(typeof t==="string"){n=r.some(e=>t.includes(e))}if(n){throw u.create(e,t,null,"not to contain",r)}});f.notContain.inspect=true;f["to only contain"]=f["to contain only"]=f["to only have"]=f["to have only"]=f["to only include"]=f["to include only"]=f.includeOnly=f.containOnly=((e,t,...r)=>{var n=false;if(t&&typeof t==="object"){if(Array.isArray(t)){t=new Set(t)}if(typeof t.has==="function"){r=new Set(r);n=t.size===r.size&&[...r].every(e=>t.has(e))}}else if(typeof t==="string"){n=r.every(e=>t===e)}if(!n){throw u.create(e,t,null,"to contain only",r)}});f.containOnly.inspect=true;f.containOnly.glue=", ";f["not to only contain"]=f["to not only contain"]=f["not to contain only"]=f["to not contain only"]=f["to contain not only"]=f["not to only have"]=f["to not only have"]=f["not to have only"]=f["to not have only"]=f["to have not only"]=f["not to only include"]=f["to not only include"]=f["not to include only"]=f["to not include only"]=f["to include not only"]=f.notIncludeOnly=f.notContainOnly=(e=>{throw new u("Ambigous assertion type 'not to contain only'",e)});f["to be empty"]=f.empty=((e,t)=>{var r=true;if(t){if(typeof t==="object"){if(Array.isArray(t)){if(t.length){r=false}}else if(t instanceof Map||t instanceof Set){if(t.size){r=false}}else if(t.length!==undefined){if(t.length){r=false}}else if(Object.keys(t).length){r=false}}else if(typeof t==="string"){r=false}}if(!r){throw u.create(e,t,null,"to be empty")}});f["to be not empty"]=f["to not be empty"]=f["not to be empty"]=f.notEmpty=((e,t)=>{var r=true;if(t){if(typeof t==="object"){if(Array.isArray(t)){if(t.length){r=false}}else if(t instanceof Map||t instanceof Set){if(t.size){r=false}}else if(t.length!==undefined){if(t.length){r=false}}else if(Object.keys(t).length){r=false}}else if(typeof t==="string"){r=false}}if(r){throw u.create(e,t,null,"to be empty")}});f["to have key"]=f["to have keys"]=f.key=f.keys=((e,t,...r)=>{if(!n.looseObject(t)){throw u.create(e,t,null,"to be an object or a function")}r.forEach(n=>{if(!(n in t)){throw u.create(e,t,null,"to have key"+(r.length>1?"s":""),...r)}})});f.keys.inspect=true;f.keys.glue=", ";f["to have not key"]=f["to not have key"]=f["not to have key"]=f["to have not keys"]=f["to not have keys"]=f["not to have keys"]=f["to have no key"]=f.noKey=f.notKey=f.notKeys=((e,t,...r)=>{if(!n.looseObject(t)){throw u.create(e,t,null,"to be an object or a function")}r.forEach(n=>{if(n in t){throw u.create(e,t,null,"not to have key"+(r.length>1?"s":""),...r)}})});f.notKeys.inspect=true;f.notKeys.glue=", ";f["to have own key"]=f["to have own keys"]=f.ownKey=f.ownKeys=((e,t,...r)=>{if(!n.looseObject(t)){throw u.create(e,t,null,"to be an object or a function")}r.forEach(n=>{if(!Object.prototype.hasOwnProperty.call(t,n)){throw u.create(e,t,null,"to have own key"+(r.length>1?"s":""),...r)}})});f.ownKeys.inspect=true;f.ownKeys.glue=", ";f["to only have key"]=f["to have only key"]=f["to have only key"]=f["to only have keys"]=f["to have only keys"]=f["to have only keys"]=f.onlyKey=f.onlyKeys=((e,t,...r)=>{throw new u("Instead of using assertion 'onlyKeys', you should use assertion 'onlyOwnKeys'.",e)});f.onlyKeys.glue=", ";f["to only have own key"]=f["to have only own key"]=f["to have own only key"]=f["to only have own keys"]=f["to have only own keys"]=f["to have own only keys"]=f.onlyOwnKey=f.onlyOwnKeys=((e,t,...r)=>{if(!n.looseObject(t)){throw u.create(e,t,null,"to be an object or a function")}if(Object.getOwnPropertyNames(t).length!==r.length){throw u.create(e,t,null,"to only have own key"+(r.length>1?"s":""),...r)}r.forEach(n=>{if(!Object.prototype.hasOwnProperty.call(t,n)){throw u.create(e,t,null,"to only have own key"+(r.length>1?"s":""),...r)}})});f.onlyOwnKeys.inspect=true;f.onlyOwnKeys.glue=", ";f["to have not own key"]=f["to not have own key"]=f["not to have own key"]=f["to have not own keys"]=f["to not have own keys"]=f["not to have own keys"]=f["to have no own key"]=f.noOwnKey=f.notOwnKey=f.notOwnKeys=((e,t,...r)=>{if(!n.looseObject(t)){throw u.create(e,t,null,"to be an object or a function")}r.forEach(n=>{if(Object.prototype.hasOwnProperty.call(t,n)){throw u.create(e,t,null,"not to have own key"+(r.length>1?"s":""),...r)}})});f.notOwnKeys.inspect=true;f.notOwnKeys.glue=", ";f["to have property"]=f.property=function(e,t,r,n){f.key(e,t,r);if(arguments.length>=4){f.equal(e,t[r],n)}};f["to have not property"]=f["to not have property"]=f["not to have property"]=f["to have no property"]=f.notProperty=function(e,t,r,n){if(arguments.length>=4){if(r in t){f.notEqual(e,t[r],n)}}else{f.notKey(e,t,r)}};f["to have own property"]=f.ownProperty=function(e,t,r,n){f.ownKey(e,t,r);if(arguments.length>=4){f.equal(e,t[r],n)}};f["to have not own property"]=f["to not have own property"]=f["not to have own property"]=f["to have no own property"]=f.notOwnProperty=function(e,t,r,n){if(arguments.length>=4){if(Object.prototype.hasOwnProperty.call(t,r)){f.notEqual(e,t[r],n)}}else{f.notOwnKey(e,t,r)}};f["to throw"]=f["to throw a"]=f["to throw an"]=f.throw=((e,t,r,n,i)=>{if(typeof t!=="function"){throw u.create(e,t,null,"to be a function")}if(!Array.isArray(r)){r=[]}var s=new c(t,false,...r);if(n){if(!s.hasThrown||!(s.error instanceof n)){let t=l.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(e,s,null,"to throw "+t,n)}if(i&&!o(i,s.error,a)){let t=l.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(e,s,o.getLastPath(),"to throw "+t,n,i)}}else if(!s.hasThrown){throw u.create(e,s,null,"to throw")}});f.throw.fnParams=true;f.throw.inspect=true;f.throw.glue=" having ";f["to not throw"]=f["not to throw"]=f["to throw not a"]=f["to not throw a"]=f["not to throw a"]=f["to throw not an"]=f["to not throw an"]=f["not to throw an"]=f.notThrow=((e,t,r,n,i)=>{if(typeof t!=="function"){throw u.create(e,t,null,"to be a function")}if(!Array.isArray(r)){r=[]}var s=new c(t,false,...r);if(n){if(s.hasThrown&&s.error instanceof n){if(i){if(o(i,s.error,a)){let t=l.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(e,s,null,"not to throw "+t,n,i)}}else{let t=l.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(e,s,null,"not to throw "+t,n)}}}else if(s.hasThrown){throw u.create(e,s,null,"not to throw")}});f.notThrow.fnParams=true;f.notThrow.inspect=true;f.notThrow.glue=" having ";f["to reject"]=f["to reject with"]=f["to reject with a"]=f["to reject with an"]=f["to not fulfill"]=f["not to fulfill"]=f.notFulfill=f.reject=(async(e,t,r,n,i)=>{if(typeof t!=="function"){return f.rejected(e,t,n,i)}if(!Array.isArray(r)){r=[]}var s=new c(t,true,...r);await s.promise;if(n){if(!s.hasThrown||!(s.error instanceof n)){let t=l.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(e,s,null,"to reject with "+t,n)}if(i&&!o(i,s.error,a)){let t=l.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(e,s,o.getLastPath(),"to reject with "+t,n,i)}}else if(!s.hasThrown){throw u.create(e,s,null,"to reject")}});f.throw.promise=f.reject;f.reject.fnParams=true;f.reject.async=true;f.reject.inspect=true;f.reject.glue=" having ";f["to not reject"]=f["not to reject"]=f["to reject not with"]=f["to not reject with"]=f["not to reject with"]=f["to reject not with a"]=f["to not reject with a"]=f["not to reject with a"]=f["to reject not with an"]=f["to not reject with an"]=f["not to reject with an"]=f["to fulfill"]=f.notReject=f.fulfill=(async(e,t,r,n,i)=>{if(typeof t!=="function"){return f.fulfilled(e,t,n,i)}if(!Array.isArray(r)){r=[]}var s=new c(t,true,...r);await s.promise;if(n){if(s.hasThrown&&s.error instanceof n){if(i){if(o(i,s.error,a)){let t=l.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(e,s,null,"not to reject with "+t,n,i)}}else{let t=l.has((""+(n.name||"(anonymous)"))[0])?"an":"a";throw u.create(e,s,null,"not to reject with "+t,n)}}}else if(s.hasThrown){throw u.create(e,s,null,"not to reject")}});f.notThrow.promise=f.fulfill;f.fulfill.fnParams=true;f.fulfill.async=true;f.fulfill.inspect=true;f.fulfill.glue=" having ";f["to be rejected"]=f["to be rejected with"]=f["to be rejected with a"]=f["to be rejected with an"]=f["not to be fulfilled"]=f["to not be fulfilled"]=f["to be not fulfilled"]=f.notFulfilled=f.rejected=(async(e,t,r,n)=>{var i,s=false;try{await t}catch(e){s=true;i=e}if(r){if(!s||!(i instanceof r)){let n=l.has((""+(r.name||"(anonymous)"))[0])?"an":"a";throw u.create(e,t,null,"to be rejected with "+n,r)}if(n&&!o(n,i,a)){let i=l.has((""+(r.name||"(anonymous)"))[0])?"an":"a";throw u.create(e,t,o.getLastPath(),"to be rejected with "+i,r,n)}}else if(!s){throw u.create(e,t,null,"to be rejected")}});f.rejected.promise=true;f.rejected.async=true;f.rejected.inspect=true;f["not to be rejected"]=f["to not be rejected"]=f["to be not rejected"]=f["not to be rejected with"]=f["to not be rejected with"]=f["to be not rejected with"]=f["not to be rejected with a"]=f["to not be rejected with a"]=f["to be not rejected with a"]=f["not to be rejected with an"]=f["to not be rejected with an"]=f["to be not rejected with an"]=f["to be fulfilled"]=f.fulfilled=f.notRejected=(async(e,t,r,n)=>{var i,s=false;try{await t}catch(e){s=true;i=e}if(r){if(s&&i instanceof r){if(n){if(o(n,i,a)){let o=l.has((""+(r.name||"(anonymous)"))[0])?"an":"a";throw u.create(e,t,null,"not to be rejected with "+o,r,n)}}else{let n=l.has((""+(r.name||"(anonymous)"))[0])?"an":"a";throw u.create(e,t,null,"not to be rejected with "+n,r)}}}else if(s){throw u.create(e,t,null,"not to be rejected")}});f.fulfilled.promise=true;f.fulfilled.async=true;f.fulfilled.inspect=true;f["to be a"]=f["to be an"]=f.typeOrInstanceOf=((e,t,r)=>{if(typeof r==="string"){return f.typeOf(e,t,r)}return f.instanceOf(e,t,r)});f["to be not a"]=f["to not be a"]=f["not to be a"]=f["to be not an"]=f["to not be an"]=f["not to be an"]=f.notTypeOrInstanceOf=((e,t,r)=>{if(typeof r==="string"){return f.notTypeOf(e,t,r)}return f.notInstanceOf(e,t,r)});f["to be of type"]=f.typeOf=((e,t,r)=>{if(!n[r]){throw new Error("Unknown type '"+r+"'.")}if(!n[r](t)){let n=l.has(r[0])?"an":"a";throw u.create(e,t,null,"to be "+n,r)}});f["to be not of type"]=f["to not be of type"]=f["not to be of type"]=f.notTypeOf=((e,t,r)=>{if(!n[r]){throw new Error("Unknown type '"+r+"'.")}if(n[r](t)){let n=l.has(r[0])?"an":"a";throw u.create(e,t,null,"not to be "+n,r)}});f["to be an instance of"]=f.instanceOf=((e,t,r)=>{if(!(t instanceof r)){throw u.create(e,t,null,"to be an instance of",r)}});f.instanceOf.inspect=true;f["to be not an instance of"]=f["to not be an instance of"]=f["not to be an instance of"]=f.notInstanceOf=((e,t,r)=>{if(t instanceof r){throw u.create(e,t,null,"not to be an instance of",r)}});f.notInstanceOf.inspect=true;f.fail=((e,t,r,...n)=>{throw u.create(e,t,null,{expectationType:"fail",middleMessage:r},...n)});f.fail.inspect=true;f.fail.none=true},{"./AssertionError.js":1,"./isEqual.js":14,"./typeCheckers.js":18}],7:[function(e,t,r){"use strict";t.exports=e("./doormen.js");t.exports.isBrowser=true},{"./doormen.js":11}],8:[function(e,t,r){(function(r){(function(){"use strict";if(!r){r=window}if(!r.DOORMEN_GLOBAL_EXTENSIONS){r.DOORMEN_GLOBAL_EXTENSIONS={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.constraints){r.DOORMEN_GLOBAL_EXTENSIONS.constraints={}}const n=Object.create(r.DOORMEN_GLOBAL_EXTENSIONS.constraints);t.exports=n;const o=e("./core.js");const i=e("tree-kit/lib/dotPath.js");const a=e("string-kit/lib/format.js").format;n.condition=function(e,t,r,n){var a=e,s=e;if(t.source){a=i.get(e,t.source)}if(t.target){s=i.get(e,t.target)}if(t.if){try{o(t.if,a)}catch(t){return e}}if(t.then){s=this.check(t.then,s,r)}if(t.target){i.set(e,t.target,s)}else{e=s}return e};n.switch=function(e,t,r,n){var o=e,a=e;if(t.source){o=i.get(e,t.source)}if(t.target){a=i.get(e,t.target)}if(t.case&&typeof t.case==="object"&&o in t.case){a=this.check(t.case[o],a,r)}else if(t.otherCases){a=this.check(t.otherCases,a,r)}else{return e}if(t.target){i.set(e,t.target,a)}else{e=a}return e};n.unique=function(e,t,r,n){var a,s,l,f,u,c=new Set;if(t.convert&&!o.sanitizers[t.convert]){if(o.clientMode){return e}throw new o.SchemaError("Bad schema (at "+r.displayPath+"), unexistant sanitizer '"+t.convert+"' (used as 'convert').")}if(!Array.isArray(e)){this.validatorError(r.displayPath+" should be an array to satisfy the 'unique' constraint.",r);return}for(a=0,s=e.length;a<s;a++){f=l=e[a];if(t.path){f=i.get(l,t.path)}if(t.noEmpty&&!f||t.noNull&&(f===null||f===undefined)){if(!t.resolve){this.validatorError(r.displayPath+" does not satisfy the 'unique' constraint (has null/empty value).",r);return}if(!u){u=e.slice(0,a)}continue}if(t.convert){f=o.sanitizers[t.convert].call(this,f,t,true)}if(c.has(f)){if(!t.resolve){this.validatorError(r.displayPath+" does not satisfy the 'unique' constraint.",r);return}if(!u){u=e.slice(0,a)}continue}if(u){u.push(l)}c.add(f)}return u||e};n.compound=function(e,t,r,n){var s,l,f;if(!Array.isArray(t.sources)||typeof t.target!=="string"||typeof t.format!=="string"){throw new o.SchemaError("Bad schema (at "+r.displayPath+"), the 'compound' constraint needs a 'sources' array, a 'target' and a 'format' string.")}s=i.get(e,t.target);if(s&&t.ifEmpty){return e}l=t.sources.map(t=>i.get(e,t)),f=a(t.format,...l);if(f===s){return e}if(!t.resolve){this.validatorError(r.displayPath+" does not satisfy the 'compound' constraint.",r);return}i.set(e,t.target,f);return e};n.extraction=function(e,t,r,n){var a,s,l,f,u,c,h;if(!Array.isArray(t.targets)||typeof t.source!=="string"||typeof t.match!=="string"&&!(t.match instanceof RegExp)){throw new o.SchemaError("Bad schema (at "+r.displayPath+"), the 'extraction' constraint needs a 'targets' array, a 'source' string, and a 'match' string or RegExp.")}f=i.get(e,t.source);if(typeof f!=="string"){this.validatorError(r.displayPath+" should have a string as its '"+t.source+"' child to satisfy the 'extraction' constraint.",r);return}h=t.match instanceof RegExp?t.match:new RegExp(t.match,t.flags||"");u=f.match(h);if(!u){this.validatorError(r.displayPath+" 's child '"+t.source+"' does not match the regular expression, hence do not to satisfy the 'extraction' constraint.",r);return}for(a=0,s=t.targets.length;a<s;a++){l=i.get(e,t.targets[a]);c=u[a+1];if(l&&t.ifEmpty){continue}if(c===l){continue}if(!t.resolve){this.validatorError(r.displayPath+" does not satisfy the 'extraction' constraint.",r);return}i.set(e,t.targets[a],c)}return e}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./core.js":9,"string-kit/lib/format.js":25,"tree-kit/lib/dotPath.js":33}],9:[function(e,t,r){(function(r){(function(){"use strict";function n(...e){var t,r,o,a,s;if(e.length<2||e.length>3){throw new Error("doormen() needs at least 2 and at most 3 arguments")}if(e.length===2){o=e[0];r=e[1]}else{t=e[0];o=e[1];r=e[2]}if(!o||typeof o!=="object"){throw new n.SchemaError("Bad schema, it should be an object or an array of object!")}if(!t||typeof t!=="object"){t={}}if(!t.patch||typeof t.patch!=="object"||Array.isArray(t.patch)){t.patch=false}a={userContext:t.userContext,validate:true,onlyConstraints:!!t.onlyConstraints,errors:[],patch:t.patch,check:i,validatorError:y,report:!!t.report,export:!!t.export};s=a.check(o,r,{path:"",displayPath:r===null?"null":Array.isArray(r)?"array":typeof r,key:""},false);if(a.report){return{validate:a.validate,sanitized:s,errors:a.errors}}return s}t.exports=n;n.report=n.bind(n,{report:true});n.export=n.bind(n,{export:true});n.checkConstraints=n.bind(n,{onlyConstraints:true});n.ValidatorError=e("./ValidatorError.js");n.SchemaError=e("./SchemaError.js");n.AssertionError=e("./AssertionError.js");var o=e("./mask.js");n.tierMask=o.tierMask;n.tagMask=o.tagMask;n.getAllSchemaTags=o.getAllSchemaTags;n.isEqual=e("./isEqual.js");n.schemaSchema=e("./schemaSchema.js");n.validateSchema=function(e){return n(n.schemaSchema,e)};n.purifySchema=function(e){return n.export(n.schemaSchema,e)};if(!r){r=window}if(!r.DOORMEN_GLOBAL_EXTENSIONS){r.DOORMEN_GLOBAL_EXTENSIONS={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers){r.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.sanitizers){r.DOORMEN_GLOBAL_EXTENSIONS.sanitizers={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.filters){r.DOORMEN_GLOBAL_EXTENSIONS.filters={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.constraints){r.DOORMEN_GLOBAL_EXTENSIONS.constraints={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions){r.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions={}}n.typeCheckers=e("./typeCheckers.js");n.sanitizers=e("./sanitizers.js");n.filters=e("./filters.js");n.constraints=e("./constraints.js");n.defaultFunctions=e("./defaultFunctions.js");n.topLevelFilters=["instanceOf","min","max","length","minLength","maxLength","match","in","notIn","eq"];function i(e,t,r,o){var i,a,f,u,c,h=t,p,y,d,g,m,b;if(!e||typeof e!=="object"){throw new n.SchemaError(r.displayPath+" is not a schema (not an object or an array of object).")}if(Array.isArray(e)){d=[];for(i=0;i<e.length;i++){try{h=n.export(e[i],t)}catch(e){d.push(e.message.replace(/\.$/,""));continue}return h}this.validatorError(r.displayPath+" does not validate any schema alternatives: ( "+d.join(" ; ")+" ).",r);return}if(!this.onlyConstraints){if(e.value!==undefined){return e.value}if(h===null){if(e.nullIsUndefined){h=undefined}else if(!e.nullIsValue){if(e.defaultFn){if(typeof e.defaultFn==="function"){return e.defaultFn(e)}if(n.defaultFunctions[e.defaultFn]){return n.defaultFunctions[e.defaultFn](e)}else if(!n.clientMode){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), unexistant default function '"+e.defaultFn+"'.")}}if("default"in e){return s(e.default)}if(e.optional){return h}}}if(h===undefined){if(e.defaultFn){if(typeof e.defaultFn==="function"){return e.defaultFn(e)}if(n.defaultFunctions[e.defaultFn]){return n.defaultFunctions[e.defaultFn](e)}else if(!n.clientMode){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), unexistant default function '"+e.defaultFn+"'.")}}if("default"in e){return s(e.default)}if(e.optional){return h}}if(e.sanitize){u=Array.isArray(e.sanitize)?e.sanitize:[e.sanitize];m=h;for(i=0;i<u.length;i++){if(!n.sanitizers[u[i]]){if(n.clientMode){continue}throw new n.SchemaError("Bad schema (at "+r.displayPath+"), unexistant sanitizer '"+u[i]+"'.")}h=n.sanitizers[u[i]].call(this,h,e,this.export&&h===t)}if(this.patch&&m!==h){l(this.patch,r.path,h)}}if(e.type){if(!n.typeCheckers[e.type]){if(!n.clientMode){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), unexistant type '"+e.type+"'.")}}else if(!n.typeCheckers[e.type].call(this,h,e)){this.validatorError(r.displayPath+" is not a "+e.type+".",r)}}for(i=0;i<n.topLevelFilters.length;i++){a=n.topLevelFilters[i];if(e[a]!==undefined){n.filters[a].call(this,h,e[a],r)}}if(e.filter){if(typeof e.filter!=="object"){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'filter' should be an object.")}for(a in e.filter){if(!n.filters[a]){if(n.clientMode){continue}throw new n.SchemaError("Bad schema (at "+r.displayPath+"), unexistant filter '"+a+"'.")}n.filters[a].call(this,h,e.filter[a],r)}}if(e.keys!==undefined&&(h&&(typeof h==="object"||typeof h==="function"))){if(!e.keys||typeof e.keys!=="object"){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'keys' should contain a schema object.")}if(this.export&&h===t){h={};p=t}else{p=h}for(a in p){b=":"+a;f=this.check(e.keys,a,{path:r.path+b,displayPath:r.displayPath+b,key:a},o);if(f in h&&f!==a){this.validatorError("'keys' cannot overwrite another existing key: "+r.displayPath+" want to rename '"+a+"' to '"+f+"' but it already exists.",r)}h[f]=p[a];if(f!==a){delete h[a]}}}}if(e.of!==undefined&&(h&&(typeof h==="object"||typeof h==="function"))){if(!e.of||typeof e.of!=="object"){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'of' should contain a schema object.")}if(Array.isArray(h)){if(this.export&&h===t){h=[];p=t}else{p=h}for(i=0;i<p.length;i++){b="["+i+"]";h[i]=this.check(e.of,p[i],{path:r.path+b,displayPath:r.displayPath+b,key:i},o)}}else{if(this.export&&h===t){h={};p=t}else{p=h}for(a in p){b="."+a;h[a]=this.check(e.of,p[a],{path:r.path?r.path+b:a,displayPath:r.displayPath+b,key:a},o)}}}if(e.properties!==undefined&&(h&&(typeof h==="object"||typeof h==="function"))){if(!e.properties||typeof e.properties!=="object"){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'properties' should be an object.")}if(this.export&&h===t){h={};p=t}else{p=h}c=new Set;if(Array.isArray(e.properties)){for(i=0;i<e.properties.length;i++){a=e.properties[i];if(!(a in p)){this.validatorError(r.displayPath+" does not have all required properties ("+JSON.stringify(e.properties)+").",r)}h[a]=p[a];c.add(a)}}else{for(a in e.properties){if(!e.properties[a]||typeof e.properties[a]!=="object"){throw new n.SchemaError(r.displayPath+"."+a+" is not a schema (not an object or an array of object).")}c.add(a);b="."+a;y=this.check(e.properties[a],p[a],{path:r.path?r.path+b:a,displayPath:r.displayPath+b,key:a},o);if(y!==undefined||a in p){h[a]=y}}}if(!this.onlyConstraints&&!e.extraProperties){for(a in p){if(!c.has(a)){this.validatorError(r.displayPath+" has extra properties ('"+a+"' is not in "+JSON.stringify([...c])+").",r)}}}}if(e.elements!==undefined&&Array.isArray(h)){if(!Array.isArray(e.elements)){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'elements' should be an array.")}if(this.export&&h===t){h=[];p=t}else{p=h}for(i=0;i<e.elements.length;i++){b="["+i+"]";h[i]=this.check(e.elements[i],p[i],{path:r.path+b,displayPath:r.displayPath+b,key:i},o)}if(!e.extraElements&&p.length>e.elements.length){this.validatorError(r.displayPath+" has extra elements ("+p.length+" instead of "+e.elements.length+").",r)}}if(e.constraints&&!o){if(!Array.isArray(e.constraints)){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), 'constraints' should be an object.")}if(!h||typeof h!=="object"){this.validatorError(r.displayPath+" has a constraints but is not an object.",r)}m=h;for(i=0;i<e.constraints.length;i++){g=e.constraints[i];if(!g||typeof g!=="object"){throw new n.SchemaError("Bad schema (at "+r.displayPath+"), constraints #"+i+" should be an object.")}if(!n.constraints[g.enforce]){if(n.clientMode){continue}throw new n.SchemaError("Bad schema (at "+r.displayPath+"), unexistant constraints '"+g.enforce+"'.")}h=n.constraints[g.enforce].call(this,h,g,r,this.export&&h===t)}if(this.patch&&m!==h){l(this.patch,r.path,h)}}return h}const a=e("tree-kit/lib/clone.js");function s(e){if(e&&typeof e==="object"){return a(e)}return e}function l(e,t,r){var n,o;e[t]=r;o=t+".";for(n in e){if(n.startsWith(o)){delete e[n]}}}n.path=n.subSchema=((e,t,r=false,o=false)=>{var i,a;if(!Array.isArray(t)){if(typeof t!=="string"){throw new Error("Argument #1 'path' should be a string or an array")}t=t.split(".").filter(e=>e)}try{for(i=0,a=t.length;i<a&&e;i++){e=n.directSubSchema(e,t[i],r,o)}}catch(e){e.message+=" (at: "+t.slice(0,i+1).join(".")+")";throw e}return e});n.directSubSchema=((e,t,r,o)=>{if(!e||typeof e!=="object"){throw new n.SchemaError("Not a schema (not an object or an array of object).")}if(o&&e.opaque){throw new n.ValidatorError("Path leading inside an opaque object.")}if(r&&e.noSubmasking){return null}if(Array.isArray(e)){throw new Error("Schema alternatives are not supported for subSchema ATM.")}if(e.properties!==undefined){if(!e.properties||typeof e.properties!=="object"){throw new n.SchemaError("Bad schema: 'properties' should be an object.")}if(e.properties[t]){return e.properties[t]}else if(!e.extraProperties){throw new n.SchemaError("Bad path: property '"+t+"' not found and the schema does not allow extra properties.")}}if(e.elements!==undefined){if(!Array.isArray(e.elements)){throw new n.SchemaError("Bad schema: 'elements' should be an array.")}t=+t;if(e.elements[t]){return e.elements[t]}else if(!e.extraElements){throw new n.SchemaError("Bad path: element #"+t+" not found and the schema does not allow extra elements.")}}if(e.of!==undefined){if(!e.of||typeof e.of!=="object"){throw new n.SchemaError("Bad schema: 'of' should contain a schema object.")}return e.of}return{}});n.schemaWalker=function(e,t){var r,o,i,a,s=e.schema;if(Array.isArray(s)){i=a=0;for(r=0;r<s.length;r++){i++;o=n.schemaWalker({schema:e.schema[r],schemaPath:e.schemaPath.concat(r),options:e.options});if(o!==e.schema[r]){if(s===e.schema){s=Array.from(e.schema)}s[r]=o;if(o===undefined){a++}}}if(a&&i===a){s=undefined}return s}if(e.schema.properties&&typeof e.schema.properties==="object"){i=a=0;for(r in e.schema.properties){i++;o=t({schema:e.schema.properties[r],schemaPath:e.schemaPath.concat("properties",r),options:e.options});if(o!==e.schema.properties[r]){if(s===e.schema){s=Object.assign({},e.schema)}if(s.properties===e.schema.properties){s.properties=Object.assign({},e.schema.properties)}if(o===undefined){delete s.properties[r];a++;if(e.options&&e.options.extraProperties){s.extraProperties=true}}else{s.properties[r]=o}}}if(a&&i===a){delete s.properties}if(a&&e.options&&e.options.extraProperties){s.extraProperties=true}}if(s.of&&typeof s.of==="object"){o=t({schema:e.schema.of,schemaPath:e.schemaPath.concat("of"),options:e.options});if(o!==e.schema.of){if(s===e.schema){s=Object.assign({},e.schema)}if(o===undefined){delete s.of}else{s.of=o}}}if(s.elements&&Array.isArray(s.elements)){i=a=0;for(r=0;r<s.elements.length;r++){i++;o=t({schema:e.schema.elements[r],schemaPath:e.schemaPath.concat("elements",r),options:e.options});if(o!==e.schema.elements[r]){if(s===e.schema){s=Object.assign({},e.schema)}if(s.elements===e.schema.elements){s.elements=Array.from(e.schema.elements)}s.elements[r]=o;if(o===undefined){a++}}}if(a&&i===a){delete s.elements}}return s};n.constraintSchema=function(e){return f({schema:e,schemaPath:[],options:{extraProperties:true}})};function f(e){var t=n.schemaWalker(e,f);if(Array.isArray(t)){return t}if(t===e.schema){if(!t.constraints){return}t=Object.assign({},e.schema)}delete t.type;delete t.sanitize;delete t.filter;return t}n.patchTier=function(e,t){var r,o,i,a=1,s=Object.keys(t);for(r=0,o=s.length;r<o;r++){i=s[r].split(".");while(i.length){a=Math.max(a,n.subSchema(e,i).tier||1);i.pop()}}return a};n.checkPatchByTags=function(e,t,r){var n;if(!(r instanceof Set)){if(Array.isArray(r)){r=new Set(r)}else{r=new Set([r])}}for(n in t){u(e,n,r,t[n])}};function u(e,t,r,o){var i,a,s;t=t.split(".");while(t.length){i=n.subSchema(e,t);if(i.tags){s=false;for(a of i.tags){if(r.has(a)){s=true;break}}if(!s){if(this&&this.validatorError){this.validatorError("Not allowed by tags",o)}else{throw new n.ValidatorError("Not allowed by tags",o)}}}t.pop()}}n.patch=function(...e){var t,r,o,a,s,l,f,c,d;if(e.length<2||e.length>3){throw new Error("doormen.patch() needs at least 2 and at most 3 arguments")}if(e.length===2){a=e[0];t=e[1]}else{f=e[0];a=e[1];t=e[2]}if(!a||typeof a!=="object"){throw new n.SchemaError("Bad schema, it should be an object or an array of object!")}if(!f||typeof f!=="object"){f={}}if(!t||typeof t!=="object"){throw new Error("The patch should be an object")}l=f.export?{}:t;c={userContext:f.userContext,validate:true,errors:[],check:i,checkAllowed:f.allowedTags?u:null,allowedTags:f.allowedTags?new Set(Array.isArray(f.allowedTags)?f.allowedTags:[f.allowedTags]):null,validatorError:y,report:!!f.report,export:!!f.export};for(r in t){o=t[r];if(c.checkAllowed){c.checkAllowed(a,r,c.allowedTags,o)}if(d=h(o)){o=o[d];if(p[d].getValue){o=p[d].getValue(o)}if(p[d].applyToChildren){s=n.subSchema(a,r,undefined,true).of||{}}else{s=n.subSchema(a,r,undefined,true)}if(p[d].sanitize){l[r][d]=p[d].sanitize(o);c.check(s,o,{displayPath:"patch."+r,path:r,key:r},true)}else{l[r][d]=c.check(s,o,{displayPath:"patch."+r,path:r,key:r},true)}}else{s=n.subSchema(a,r,undefined,true);l[r]=c.check(s,o,{displayPath:"patch."+r,path:r,key:r},true)}}if(c.report){return{validate:c.validate,sanitized:l,errors:c.errors}}return l};n.patch.report=n.patch.bind(n,{report:true});n.patch.export=n.patch.bind(n,{export:true});const c=e("tree-kit/lib/dotPath.js");n.applyPatch=function(e,t){var r,n,o;if(!t||typeof t!=="object"){throw new Error("The patch should be an object")}for(r in t){n=t[r];if(o=h(n)){p[o](e,r,n[o])}else{c.set(e,r,n)}}return e};function h(e){var t;if(!e||typeof e!=="object"){return false}for(t in e){if(t[0]!=="$"){return false}if(!p[t]){throw new Error("Bad command '"+t+"'")}return t}}const p={};p.$set=((e,t,r)=>c.set(e,t,r));p.$delete=p.$unset=((e,t)=>c.delete(e,t));p.$delete.getValue=(()=>undefined);p.$delete.sanitize=(()=>true);p.$push=((e,t,r)=>c.append(e,t,r));p.$push.applyToChildren=true;function y(e,t){var r=new n.ValidatorError(e,t);this.validate=false;if(this.report){this.errors.push(r)}else{throw r}}function d(e,t,r){var n;if(!t||typeof t!=="object"||Array.isArray(t)){throw new TypeError("[doormen] .extend*(): Argument #0 should be a plain object")}for(n in t){if(n in e&&!r||typeof t[n]!=="function"){continue}e[n]=t[n]}}n.extendTypeCheckers=function(e,t){d(r.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers,e,t)};n.extendSanitizers=function(e,t){d(r.DOORMEN_GLOBAL_EXTENSIONS.sanitizers,e,t)};n.extendFilters=function(e,t){d(r.DOORMEN_GLOBAL_EXTENSIONS.filters,e,t)};n.extendConstraints=function(e,t){d(r.DOORMEN_GLOBAL_EXTENSIONS.constraints,e,t)};n.extendDefaultFunctions=function(e,t){d(r.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions,e,t)};n.clientMode=false;n.setClientMode=function(e){n.clientMode=!!e};n.shouldThrow=function e(t,r){var o=false;r=r||e;try{t()}catch(e){o=true}if(!o){throw new n.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have thrown.",r)}};n.shouldReject=async function e(t,r){var o=false;r=r||e;try{await t()}catch(e){o=true}if(!o){throw new n.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have rejected.",r)}};n.shouldThrowAssertion=function e(t,r){var o,i=false;r=r||e;try{t()}catch(e){i=true;o=e}if(!i){throw new n.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have thrown.",r)}if(!(o instanceof n.AssertionError)){o.message="Function '"+(t.name||"(anonymous)")+"' should have thrown an AssertionError, instead it had thrown: "+o.message;throw o}return o};n.shouldRejectAssertion=async function e(t,r){var o,i=false;r=r||e;try{await t()}catch(e){i=true;o=e}if(!i){throw new n.AssertionError("Function '"+(t.name||"(anonymous)")+"' should have rejected.",r)}if(!(o instanceof n.AssertionError)){o.message="Function '"+(t.name||"(anonymous)")+"' should have rejected with an AssertionError, instead it had rejected with: "+o.message;throw o}return o};n.not=function e(...t){n.shouldThrow(()=>{n(...t)},e)};n.checkConstraints.not=function e(...t){n.shouldThrow(()=>{n.constraints(...t)},e)};n.patch.not=function e(...t){n.shouldThrow(()=>{n.patch(...t)},e)};n.equals=function e(t,r){if(!n.isEqual(t,r)){throw new n.AssertionError("should have been equal",e,{actual:t,expected:r,showDiff:true})}};n.not.equals=function e(t,r){if(n.isEqual(t,r)){throw new n.AssertionError("should not have been equal",e,{actual:t,expected:r,showDiff:true})}};const g={like:true};n.alike=function e(t,r){if(!n.isEqual(t,r,g)){throw new n.AssertionError("should have been alike",e,{actual:t,expected:r,showDiff:true})}};n.not.alike=function e(t,r){if(n.isEqual(t,r,g)){throw new n.AssertionError("should not have been alike",e,{actual:t,expected:r,showDiff:true})}}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./AssertionError.js":1,"./SchemaError.js":4,"./ValidatorError.js":5,"./constraints.js":8,"./defaultFunctions.js":10,"./filters.js":13,"./isEqual.js":14,"./mask.js":15,"./sanitizers.js":16,"./schemaSchema.js":17,"./typeCheckers.js":18,"tree-kit/lib/clone.js":32,"tree-kit/lib/dotPath.js":33}],10:[function(e,t,r){(function(e){(function(){"use strict";if(!e){e=window}if(!e.DOORMEN_GLOBAL_EXTENSIONS){e.DOORMEN_GLOBAL_EXTENSIONS={}}if(!e.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions){e.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions={}}const r=Object.create(e.DOORMEN_GLOBAL_EXTENSIONS.defaultFunctions);t.exports=r;r.now=(()=>new Date)}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],11:[function(e,t,r){"use strict";const n=e("./core.js");t.exports=n;n.isBrowser=false;n.assert=e("./assert.js");n.expect=e("./expect.js");n.Form=e("./Form.js")},{"./Form.js":2,"./assert.js":6,"./core.js":9,"./expect.js":12}],12:[function(e,t,r){"use strict";const n=e("./assert.js");const o=e("./AssertionError.js");const i={};i.inspect=function(){return this};i.toString=function(){return""+this};function a(e={}){var t=function e(r,o,...i){if(o){if(!n[o]){throw new Error("Unknown expectationType '"+o+"'.")}return n[o](e,r,...i)}var a=function e(){};if(arguments.length){a.value=r}else{a.value=n.NONE}a.expectationType=null;a.fnArgs=null;a.isPromise=false;a.expectFn=t;a.proxy=new Proxy(a,l);return a.proxy};t.hooks=e;t.stats={ok:0,fail:0};t.prototype=i;return t}t.exports=a();t.exports.factory=a;var s={};s["with args"]=s.with=s.args=s.withArgs=((e,...t)=>{if(!e.fnArgs){e.fnArgs=[null,...t]}else{e.fnArgs=[e.fnArgs[0],...t]}});s["method of"]=((e,t)=>{if(!e.fnArgs){e.fnArgs=[t]}else{e.fnArgs[0]=t}if(typeof e.value!=="function"){e.value=t[e.value]}});var l={get:(e,t)=>{if(t==="eventually"){e.isPromise=true;return e.proxy}if(typeof t==="string"&&!Function.prototype[t]&&!Object.prototype[t]&&!i[t]){if(e.expectationType){e.expectationType+=" "+t}else{e.expectationType=t}return e.proxy}if(i[t]&&!e[t]){e[t]=i[t]}if(typeof e[t]==="function"){return e[t].bind(e)}return e[t]},apply:(e,t,r)=>{var o,i,a;o=s[e.expectationType];if(o){e.expectationType=null;o(e,...r);return e.proxy}o=n[e.expectationType];if(!o){throw new Error("Unknown expectationType '"+e.expectationType+"'.")}if(e.isPromise){if(!o.promise){a=new Error;if(Error.captureStackTrace){Error.captureStackTrace(a,l.apply)}return Promise.resolve(e.value).then(t=>{e.value=t;e.isPromise=false;e.proxy(...r)},()=>{e.expectFn.stats.fail++;if(e.expectFn.hooks.fail){e.expectFn.hooks.fail()}throw n.AssertionError.create(a,e.value,null,"to resolve")})}if(typeof o.promise==="function"){o=o.promise}}if(o.async){a=new Error;if(Error.captureStackTrace){Error.captureStackTrace(a,l.apply)}if(o.fnParams){i=o(a,e.value,e.fnArgs,...r)}else{i=o(a,e.value,...r)}return i.then(()=>{e.expectFn.stats.ok++;if(e.expectFn.hooks.ok){e.expectFn.hooks.ok()}},t=>{e.expectFn.stats.fail++;if(e.expectFn.hooks.fail){e.expectFn.hooks.fail()}throw t})}try{if(o.fnParams){o(l.apply,e.value,e.fnArgs,...r)}else{o(l.apply,e.value,...r)}e.expectFn.stats.ok++;if(e.expectFn.hooks.ok){e.expectFn.hooks.ok()}}catch(t){e.expectFn.stats.fail++;if(e.expectFn.hooks.fail){e.expectFn.hooks.fail()}throw t}}}},{"./AssertionError.js":1,"./assert.js":6}],13:[function(e,t,r){(function(r){(function(){"use strict";if(!r){r=window}if(!r.DOORMEN_GLOBAL_EXTENSIONS){r.DOORMEN_GLOBAL_EXTENSIONS={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.filters){r.DOORMEN_GLOBAL_EXTENSIONS.filters={}}const n=Object.create(r.DOORMEN_GLOBAL_EXTENSIONS.filters);t.exports=n;const o=e("./core.js");n.instanceOf=function(e,t,n){if(typeof t==="string"){t=o.isBrowser?window[t]:r[t]}if(typeof t!=="function"){throw new o.SchemaError("Bad schema (at "+n.path+"), 'instanceOf' should be a function or a global function's name.")}if(!(e instanceof t)){this.validatorError(n.path+" is not an instance of "+t+".",n)}};n.eq=n["==="]=function(e,t,r){if(e!==t){this.validatorError(r.path+" is not stricly equal to "+t+".",r)}};n.min=n.gte=n.greaterThanOrEqual=n[">="]=function(e,t,r){if(typeof t!=="number"){throw new o.SchemaError("Bad schema (at "+r.path+"), 'min' should be a number.")}if(typeof e!=="number"||!(e>=t)){this.validatorError(r.path+" is not greater than or equal to "+t+".",r)}};n.max=n.lte=n.lesserThanOrEqual=n["<="]=function(e,t,r){if(typeof t!=="number"){throw new o.SchemaError("Bad schema (at "+r.path+"), 'max' should be a number.")}if(typeof e!=="number"||!(e<=t)){this.validatorError(r.path+" is not lesser than or equal to "+t+".",r)}};n.gt=n.greaterThan=n[">"]=function(e,t,r){if(typeof t!=="number"){throw new o.SchemaError("Bad schema (at "+r.path+"), 'greaterThan' should be a number.")}if(typeof e!=="number"||!(e>t)){this.validatorError(r.path+" is not greater than "+t+".",r)}};n.lt=n.lesserThan=n["<"]=function(e,t,r){if(typeof t!=="number"){throw new o.SchemaError("Bad schema (at "+r.path+"), 'lesserThan' should be a number.")}if(typeof e!=="number"||!(e<t)){this.validatorError(r.path+" is not lesser than "+t+".",r)}};n.length=function(e,t,r){if(typeof t!=="number"){throw new o.SchemaError("Bad schema (at "+r.path+"), 'length' should be a number.")}try{if(!(e.length===t)){throw true}}catch(e){this.validatorError(r.path+" has not a length equal to "+t+".",r)}};n.minLength=function(e,t,r){if(typeof t!=="number"){throw new o.SchemaError("Bad schema (at "+r.path+"), 'minLength' should be a number.")}try{if(!(e.length>=t)){throw true}}catch(e){this.validatorError(r.path+" has not a length greater than or equal to "+t+".",r)}};n.maxLength=function(e,t,r){if(typeof t!=="number"){throw new o.SchemaError("Bad schema (at "+r.path+"), 'maxLength' should be a number.")}try{if(!(e.length<=t)){throw true}}catch(e){this.validatorError(r.path+" has not a length lesser than or equal to "+t+".",r)}};n.match=function(e,t,r){if(typeof t!=="string"&&!(t instanceof RegExp)){throw new o.SchemaError("Bad schema (at "+r.path+"), 'match' should be a RegExp or a string.")}if(t instanceof RegExp){if(typeof e!=="string"||!e.match(t)){this.validatorError(r.path+" does not match "+t+" .",r)}}else if(typeof e!=="string"||!e.match(new RegExp(t))){this.validatorError(r.path+" does not match /"+t+"/ .",r)}};n.in=function(e,t,r){var n,i=false;if(!Array.isArray(t)){throw new o.SchemaError("Bad schema (at "+r.path+"), 'in' should be an array.")}for(n=0;n<t.length;n++){if(o.isEqual(e,t[n])){i=true;break}}if(!i){this.validatorError(r.path+" should be in "+JSON.stringify(t)+".",r)}};n.notIn=function(e,t,r){var n;if(!Array.isArray(t)){throw new o.SchemaError("Bad schema (at "+r.path+"), 'not-in' should be an array.")}for(n=0;n<t.length;n++){if(o.isEqual(e,t[n])){this.validatorError(r.path+" should not be in "+JSON.stringify(t)+".",r)}}}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./core.js":9}],14:[function(e,t,r){(function(e){(function(){"use strict";const r={};const n=1+4*Number.EPSILON;const o=4*Number.MIN_VALUE;var i="";function a(e,t,n=r){var o={leftStack:[],rightStack:[],like:!!n.like,oneWay:!!n.oneWay,around:!!n.around,unordered:!!n.unordered};i=null;return s(o,e,t,"")}a.getLastPath=(()=>i);function s(t,r,a,l){var f,u,c,h,p,y,d,g,m,b,w,k,E,v,O,S,j;if(r===a){return true}if(typeof r!==typeof a){i=l;return false}if(typeof r==="number"){if(Number.isNaN(r)&&Number.isNaN(a)){return true}if(t.around){if(r===0||a===0){if(r<=a+o&&a<=r+o){return true}}else if(r<=a*n&&a<=r*n){return true}}}if(!r!==!a){i=l;return false}if(!r){i=l;return false}if(typeof r==="object"){m=t.leftStack.indexOf(r);b=t.rightStack.indexOf(a);if(m>=0){t.leftCircular=true}if(b>=0){t.rightCircular=true}if(t.leftCircular&&t.rightCircular){return true}if(!t.like&&Object.getPrototypeOf(r)!==Object.getPrototypeOf(a)){i=l;return false}if(Array.isArray(r)){if(!Array.isArray(a)){i=l;return false}if(r.length!==a.length){i=l+"."+Math.min(r.length,a.length);return false}if(t.unordered){if(y){y.length=0}else{y=new Array(r.length)}u=r.length;h=a.length;for(f=0;f<u;f++){if(!y[f]){if(r[f]===a[f]){continue}t.leftStack.push(r);t.rightStack.push(a);w=s(t,r[f],a[f],l+"."+f);t.leftStack.pop();t.rightStack.pop();if(w){y[f]=true;continue}}p=false;for(c=0;c<h;c++){if(f===c||y[c]){continue}if(r[f]===a[c]){p=true;y[c]=true;break}t.leftStack.push(r);t.rightStack.push(a);w=s(t,r[f],a[c],l+"."+f);t.leftStack.pop();t.rightStack.pop();if(w){p=true;y[c]=true;break}}if(!p){i=l;return false}}}else{for(f=0,u=r.length;f<u;f++){if(r[f]===a[f]){continue}t.leftStack.push(r);t.rightStack.push(a);w=s(t,r[f],a[f],l+"."+f);t.leftStack.pop();t.rightStack.pop();if(!w){return false}}}}else if(e.isBuffer(r)){return e.isBuffer(a)&&r.equals(a)}else{if(Array.isArray(a)){i=l;return false}if(typeof r.valueOf==="function"&&typeof a.valueOf==="function"){k=r.valueOf();E=a.valueOf();if(k!==r&&E!==a){v=Object.getPrototypeOf(r);S=v&&v.constructor;O=Object.getPrototypeOf(a);j=O&&O.constructor;if(S&&j&&(S===j||r instanceof j||a instanceof S)){t.leftStack.push(r);t.rightStack.push(a);w=s(t,k,E,l);t.leftStack.pop();t.rightStack.pop();if(!w){return false}}}}d=Object.keys(r);for(f=0,u=d.length;f<u;f++){g=d[f];if(r[g]===undefined){continue}if(a[g]===undefined){i=l+"."+g;return false}if(r[g]===a[g]){continue}t.leftStack.push(r);t.rightStack.push(a);w=s(t,r[g],a[g],l+"."+g);t.leftStack.pop();t.rightStack.pop();if(!w){return false}}if(!t.oneWay){d=Object.keys(a);for(f=0,u=d.length;f<u;f++){g=d[f];if(a[g]===undefined){continue}if(r[g]===undefined){i=l+"."+g;return false}}}}return true}i=l;return false}t.exports=a}).call(this)}).call(this,{isBuffer:e("../node_modules/is-buffer/index.js")})},{"../node_modules/is-buffer/index.js":20}],15:[function(e,t,r){"use strict";r.tierMask=function(e,t,i=0,a=Infinity){if(!e||typeof e!=="object"){throw new TypeError("Bad schema, it should be an object or an array of object!")}var s={mask:r.tierMask,tier:i,iterate:n,check:o,depth:0,depthLimit:a};return s.iterate(e,t)};r.tagMask=function(e,t,o,a=Infinity){if(!e||typeof e!=="object"){throw new TypeError("Bad schema, it should be an object or an array of object!")}if(!(o instanceof Set)){if(Array.isArray(o)){o=new Set(o)}else{o=new Set([o])}}var s={mask:r.tagMask,tags:o,iterate:n,check:i,depth:0,depthLimit:a};return s.iterate(e,t)};function n(e,t){var r,n,o=t,i,a,s;if(!e||typeof e!=="object"){return}if(Array.isArray(e)){for(r=0;r<e.length;r++){try{o=this.mask(e[r],t,this.tier||this.tags,this.depthLimit-this.depth)}catch(e){continue}return o}return}s=this.check(e);if(s===false){return}else if(s===true&&e.noSubmasking){return o}if(this.depth>=this.depthLimit){return o}if(e.of&&typeof e.of==="object"){if(!o||typeof o!=="object"&&typeof o!=="function"){return o}if(Array.isArray(o)){if(o===t){o=[];i=t}else{i=o}for(r=0;r<i.length;r++){this.depth++;o[r]=this.iterate(e.of,i[r]);this.depth--}}else{if(o===t){o={};i=t}else{i=o}for(n in i){this.depth++;o[n]=this.iterate(e.of,i[n]);this.depth--}}}if(e.properties&&typeof e.properties==="object"){if(!o||typeof o!=="object"&&typeof o!=="function"){return o}if(o===t){o={};i=t}else{i=o}if(Array.isArray(e.properties)){for(r=0;r<e.properties.length;r++){n=e.properties[r];o[n]=i[n]}}else{for(n in e.properties){if(!e.properties[n]||typeof e.properties[n]!=="object"){continue}this.depth++;a=this.iterate(e.properties[n],i[n]);this.depth--;if(a!==undefined){o[n]=a}}if(e.extraProperties){for(n in i){if(!e.properties[n]){o[n]=i[n]}}}}}if(Array.isArray(e.elements)){if(!Array.isArray(o)){return o}if(o===t){o=[];i=t}else{i=o}for(r=0;r<e.elements.length;r++){this.depth++;o[r]=this.iterate(e.elements[r],i[r]);this.depth--}}return o}function o(e){if(e.tier===undefined){return}if(this.tier<e.tier){return false}return true}function i(e){var t,r;if(!Array.isArray(e.tags)||!e.tags.length){return}r=e.tags.length;for(t=0;t<r;t++){if(this.tags.has(e.tags[t])){return true}}return false}r.getAllSchemaTags=function(e,t=new Set,r=10){var n,o;if(!e||typeof e!=="object"||r<=0){return t}if(Array.isArray(e)){for(n=0;n<e.length;n++){this.getAllSchemaTags(e[n],t,r-1)}return t}if(e.tags){e.tags.forEach(e=>t.add(e))}if(e.noSubmasking){return t}if(e.of&&typeof e.of==="object"){this.getAllSchemaTags(e.of,t,r-1)}if(e.properties&&typeof e.properties==="object"&&!Array.isArray(e.properties)){for(o in e.properties){if(e.properties[o]||typeof e.properties[o]==="object"){this.getAllSchemaTags(e.properties[o],t,r-1)}}}if(Array.isArray(e.elements)){for(n=0;n<e.elements.length;n++){this.getAllSchemaTags(e.elements[n],t,r-1)}}return t}},{}],16:[function(e,t,r){(function(r){(function(){"use strict";const n=e("string-kit/lib/latinize.js");const o=e("string-kit/lib/toTitleCase.js");if(!r){r=window}if(!r.DOORMEN_GLOBAL_EXTENSIONS){r.DOORMEN_GLOBAL_EXTENSIONS={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.sanitizers){r.DOORMEN_GLOBAL_EXTENSIONS.sanitizers={}}const i=Object.create(r.DOORMEN_GLOBAL_EXTENSIONS.sanitizers);t.exports=i;const a=e("./core.js");i.toString=(e=>{if(typeof e==="string"){return e}try{return""+e}catch(t){return e}});i.toNumber=(e=>{if(typeof e==="number"){return e}else if(!e){return NaN}else if(typeof e==="string"){return parseFloat(e)}return NaN});i.toBoolean=(e=>{if(typeof e==="boolean"){return e}switch(e){case 1:case"1":case"on":case"On":case"ON":case"true":case"True":case"TRUE":case"yes":case"Yes":case"YES":return true;case 0:case"0":case"off":case"Off":case"OFF":case"false":case"False":case"FALSE":case"no":case"No":case"NO":return false;default:return!!e}});i.toInteger=(e=>{if(typeof e==="number"){return Math.round(e)}else if(!e){return NaN}else if(typeof e==="string"){return Math.round(parseFloat(e))}return NaN});i.toArray=(e=>{if(Array.isArray(e)){return e}if(e===undefined){return[]}if(e&&typeof e==="object"&&a.typeCheckers.arguments(e)){return Array.prototype.slice.call(e)}return[e]});i.toDate=(e=>{var t;if(e instanceof Date){return e}if(typeof e==="number"||typeof e==="string"||e&&typeof e==="object"&&e.constructor.name==="Date"){t=new Date(e);return isNaN(t)?e:t}return e});i.removeExtraProperties=((e,t,r)=>{var n,o,i;if(!e||typeof e!=="object"&&typeof e!=="function"||!t.properties||typeof t.properties!=="object"){return e}if(r){i=Array.isArray(e)?e.slice():{};if(Array.isArray(t.properties)){for(n=0;n<t.properties.length;n++){o=t.properties[n];if(o in e){i[o]=e[o]}}}else{for(o in t.properties){if(o in e){i[o]=e[o]}}}return i}if(Array.isArray(t.properties)){for(o in e){if(t.properties.indexOf(o)===-1){delete e[o]}}}else{for(o in e){if(!(o in t.properties)){delete e[o]}}}return e});i.trim=(e=>typeof e==="string"?e.trim():e);i.toUpperCase=(e=>typeof e==="string"?e.toUpperCase():e);i.toLowerCase=(e=>typeof e==="string"?e.toLowerCase():e);i.capitalize=(e=>typeof e==="string"?o(e,i.capitalize.toTitleCaseOptions):e);i.capitalize.toTitleCaseOptions={};i.titleCase=(e=>typeof e==="string"?o(e,i.titleCase.toTitleCaseOptions):e);i.titleCase.toTitleCaseOptions={zealous:1,preserveAllCaps:true};i.latinize=(e=>typeof e==="string"?n(e):e);i.dashToCamelCase=(e=>typeof e==="string"?e.replace(/-(.)/g,(e,t)=>t.toUpperCase()):e);function s(e,t,r){if(t.leftPadding){return t.leftPadding[0].repeat(r)+e}if(t.rightPadding){return e+t.rightPadding[0].repeat(r)}return e+" ".repeat(r)}i.resize=((e,t)=>{if(typeof e!=="string"){return e}if(t.length){if(e.length>t.length){return e.slice(0,t.length)}if(e.length<t.length){return s(e,t,t.length-e.length)}return e}if(t.maxLength&&e.length>t.maxLength){return e.slice(0,t.maxLength)}if(t.minLength&&e.length<t.minLength){return s(e,t,t.minLength-e.length)}return e});i.nullToUndefined=(e=>e===null?undefined:e);i.mongoId=(t=>{if(typeof t!=="string"){return t}if(a.isBrowser){return t}try{var r=e("mongodb");return r.ObjectID(t)}catch(e){return t}})}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./core.js":9,mongodb:19,"string-kit/lib/latinize.js":28,"string-kit/lib/toTitleCase.js":30}],17:[function(e,t,r){"use strict";const n={optional:true,type:"strictObject",extraProperties:true,properties:{type:{optional:true,type:"string"},optional:{optional:true,type:"boolean"},extraProperties:{optional:true,type:"boolean"},default:{optional:true},value:{optional:true},sanitize:{optional:true,sanitize:"toArray",type:"array",of:{type:"string"}},filter:{optional:true,type:"strictObject"},constraints:{optional:true,type:"array",of:{type:"strictObject",extraProperties:true,properties:{enforce:{type:"string"},resolve:{type:"boolean",default:false},ifEmtpy:{type:"boolean",default:false}}}},tier:{optional:true,type:"integer"},tags:{optional:true,sanitize:"toArray",type:"array",of:{type:"string"}},instanceOf:{optional:true,type:"classId"},min:{optional:true,type:"integer"},max:{optional:true,type:"integer"},length:{optional:true,type:"integer"},minLength:{optional:true,type:"integer"},maxLength:{optional:true,type:"integer"},match:{optional:true,type:"regexp"},in:{optional:true,type:"array"},notIn:{optional:true,type:"array"},hooks:{optional:true,type:"strictObject",of:{type:"array",sanitize:"toArray",of:{type:"function"}}}}};const o=[n,{type:"array",of:n}];n.properties.of=o;n.properties.properties=[{optional:true,type:"strictObject",of:o},{optional:true,type:"array",of:{type:"string"}}];n.properties.elements={optional:true,type:"array",of:o};t.exports=o},{}],18:[function(e,t,r){(function(r,n){(function(){"use strict";if(!r){r=window}if(!r.DOORMEN_GLOBAL_EXTENSIONS){r.DOORMEN_GLOBAL_EXTENSIONS={}}if(!r.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers){r.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers={}}const o=Object.create(r.DOORMEN_GLOBAL_EXTENSIONS.typeCheckers);t.exports=o;const i=e("./core.js");o.undefined=(e=>e===undefined);o.null=(e=>e===null);o.boolean=(e=>typeof e==="boolean");o.number=(e=>typeof e==="number");o.string=(e=>typeof e==="string");o.object=(e=>e&&typeof e==="object");o.function=(e=>typeof e==="function");o.array=(e=>Array.isArray(e));o.error=(e=>e instanceof Error);o.date=(e=>e instanceof Date);o.arguments=(e=>Object.prototype.toString.call(e)==="[object Arguments]");o.buffer=(e=>{try{return e instanceof n}catch(e){return false}});o.strictObject=(e=>e&&typeof e==="object"&&!Array.isArray(e));o.looseObject=(e=>e&&typeof e==="object"||typeof e==="function");o.classId=(e=>typeof e==="function"||typeof e==="string"&&e.length);o.unset=(e=>e===undefined||e===null);o.regexp=(e=>{if(e instanceof RegExp){return true}if(typeof e!=="string"){return false}try{new RegExp(e);return true}catch(e){return false}});o.schema=(e=>{try{i.validateSchema(e)}catch(e){return false}return true});o.real=(e=>typeof e==="number"&&!isNaN(e)&&isFinite(e));o.integer=(e=>typeof e==="number"&&isFinite(e)&&e===Math.round(e));o.hex=(e=>typeof e==="string"&&/^[0-9a-fA-F]+$/.test(e));o.ip=((e,t)=>o.ipv4(e,t)||o.ipv6(e,t));o.ipv4=((e,t,r)=>{var n,o,i;if(typeof e!=="string"){return false}if(!r&&!/^[0-9.]+$/.test(e)){return false}o=e.split(".");if(o.length!==4){return false}for(n=0;n<o.length;n++){if(!o[n].length||o[n].length>3){return false}i=parseInt(o[n],10);if(!(i>=0&&i<=255)){return false}}return true});o.ipv6=((e,t,r)=>{var n,o,i=false,a=false,s=false;if(typeof e!=="string"){return false}if(!r&&!/^[0-9a-f:]+$/.test(e)){return false}o=e.split(":");if(o.length>9&&o.length<3){return false}for(n=0;n<o.length;n++){if(!o[n].length){if(n===0){a=true;if(o[1].length){return false}}else if(n===o.length-1){s=true;if(o[n-1].length){return false}}else{if(i){return false}i=true}}else if(o[n].length>4){return false}}if(o.length<8&&!i){return false}if(o.length-(a?1:0)-(s?1:0)>8){return false}return true});o.hostname=((e,t,r)=>{var n,o;if(typeof e!=="string"){return false}if(!r&&!/^[^\s/$?#@:]+$/.test(e)){return false}o=e.split(".");for(n=0;n<o.length;n++){if(!o[n].length&&n!==o.length-1){return false}if(o[n].length>63){return false}}return true});o.host=((e,t)=>o.ip(e,t)||o.hostname(e,t));o.url=((e,t,r)=>{if(typeof e!=="string"){return false}var n=e.match(/^([a-z+.-]+):\/\/((?:([^\s@/:]+)(?::([^\s@/:]+))?@)?(([0-9.]+)|([0-9a-f:]+)|([^\s/$?#@:]+))(:[0-9]+)?)?(\/[^\s]*)?$/);if(!n){return false}if(r&&n[1]!=="http"&&n[1]!=="https"&&n[1]!=="ftp"){return false}if(!n[2]&&n[1]!=="file"){return false}if(n[6]){if(!o.ipv4(n[6],t,true)){return false}}if(n[7]){if(!o.ipv6(n[7],t,true)){return false}}if(n[8]){if(!o.hostname(n[8],t,true)){return false}}return true});o.weburl=((e,t)=>o.url(e,t,true));o.email=((e,t)=>{var r,n,i;if(typeof e!=="string"){return false}if(e.length>254){return false}r=e.match(/^([a-zA-Z0-9._#~!$&*+=,;:\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF-]+)@([^\s/$?#@:]+)$/);if(!r){return false}if(r[1].length>64){return false}i=r[1].split(".");for(n=0;n<i.length;n++){if(!i[n].length){return false}}if(!o.hostname(r[2],t,true)){return false}return true});o.mongoId=(e=>{if(e&&typeof e==="object"&&e.constructor.name==="ObjectID"&&e.id&&typeof e.toString==="function"){e=e.toString()}return typeof e==="string"&&e.length===24&&/^[0-9a-f]{24}$/.test(e)})}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},e("buffer").Buffer)},{"./core.js":9,buffer:19}],19:[function(e,t,r){},{}],20:[function(e,t,r){t.exports=function(e){return e!=null&&(n(e)||o(e)||!!e._isBuffer)};function n(e){return!!e.constructor&&typeof e.constructor.isBuffer==="function"&&e.constructor.isBuffer(e)}function o(e){return typeof e.readFloatLE==="function"&&typeof e.slice==="function"&&n(e.slice(0,0))}},{}],21:[function(e,t,r){var n=t.exports={};var o;var i;function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){o=setTimeout}else{o=a}}catch(e){o=a}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=s}}catch(e){i=s}})();function l(e){if(o===setTimeout){return setTimeout(e,0)}if((o===a||!o)&&setTimeout){o=setTimeout;return setTimeout(e,0)}try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}function f(e){if(i===clearTimeout){return clearTimeout(e)}if((i===s||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var u=[];var c=false;var h;var p=-1;function y(){if(!c||!h){return}c=false;if(h.length){u=h.concat(u)}else{p=-1}if(u.length){d()}}function d(){if(c){return}var e=l(y);c=true;var t=u.length;while(t){h=u;u=[];while(++p<t){if(h){h[p].run()}}p=-1;t=u.length}h=null;c=false;f(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}u.push(new g(e,t));if(u.length===1&&!c){l(d)}};function g(e,t){this.fun=e;this.array=t}g.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function m(){}n.on=m;n.addListener=m;n.once=m;n.off=m;n.removeListener=m;n.removeAllListeners=m;n.emit=m;n.prependListener=m;n.prependOnceListener=m;n.listeners=function(e){return[]};n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},{}],22:[function(e,t,r){"use strict";function n(e){this.sign=1;this.digits=[];this.exposant=0;this.special=null;this.set(e)}t.exports=n;n.prototype.set=function(e){var t,r,n,o,i,a,s,l,f;e=+e;if(!Number.isFinite(e)){this.special=e;return null}e=""+e;t=e.match(/(-)?([0-9]+)(?:.([0-9]+))?(?:e([+-][0-9]+))?/);if(!t){throw new Error("Unexpected error")}this.sign=t[1]?-1:1;this.exposant=t[2].length+(parseInt(t[4],10)||0);s=0;l=false;f=0;for(i=0,a=t[2].length;i<a;i++){o=+t[2][i];if(o!==0){l=true;this.digits[s]=o;s++;f=s}else if(l){this.digits[s]=o;s++}else{this.exposant--}}if(t[3]){for(i=0,a=t[3].length;i<a;i++){o=+t[3][i];if(o!==0){l=true;this.digits[s]=o;s++;f=s}else if(l){this.digits[s]=o;s++}else{this.exposant--}}}if(f!==s){this.digits.length=f}};n.prototype.toNumber=function(){if(this.special!==null){return this.special}return parseFloat((this.sign<0?"-":"")+"0."+this.digits.join("")+"e"+this.exposant)};n.prototype.toString=function(...e){if(this.special!==null){return""+this.special}if(this.exposant>20||this.exposant<-20){return this.toScientificString(...e)}return this.toNoExpString(...e)};n.prototype.toScientific=n.prototype.toScientificString=function(){if(this.special!==null){return""+this.special}var e=this.sign<0?"-":"";if(!this.digits.length){return e+"0"}e+=this.digits[0];if(this.digits.length>1){e+="."+this.digits.join("").slice(1)}e+="e"+(this.exposant>1?"+":this.exposant<1?"-":"")+(this.exposant-1);return e};n.prototype.toNoExp=n.prototype.toNoExpString=function(e=1,t=0,r=false,n=this.exposant){if(this.special!==null){return""+this.special}var o=this.sign<0?"-":"";if(!this.digits.length){o+="0".repeat(e);if(t&&!r){o+="."+"0".repeat(t)}return o}var i=this.digits.join("");if(n<=0){o+="0".repeat(e)+"."+"0".repeat(-n)+i;if(t&&i.length-n<t){o+="0".repeat(t-i.length+n)}return o}if(n>=this.digits.length){if(n<e){o+="0".repeat(e-n)}o+=i+"0".repeat(n-this.digits.length);if(t&&!r){o+="."+"0".repeat(t)}return o}if(n<e){o+="0".repeat(e-n)}o+=i.slice(0,n)+"."+i.slice(n);if(t&&i.length-n<t&&(!r||i.length-n>0)){o+="0".repeat(t-i.length+n)}return o};const o=["","k","M","G","T","P","E","Z","Y"];const i=["","m","Âµ","n","p","f","a","z","y"];n.prototype.toMetric=n.prototype.toMetricString=function(){if(this.special!==null){return""+this.special}if(!this.digits.length){return this.sign>0?"0":"-0"}var e="",t;if(this.exposant>0){t=1+(this.exposant-1)%3;e=o[Math.floor((this.exposant-1)/3)];if(e===undefined){return this.toScientificString()}}else{t=3- -this.exposant%3;e=i[1+Math.floor(-this.exposant/3)];if(e===undefined){return this.toScientificString()}}return this.toNoExpString(undefined,undefined,undefined,t)+e};n.prototype.precision=function(e){if(this.special!==null||e>=this.digits.length){return this}if(e<0){this.digits.length=0;return this}if(this.digits[e]>=5){let t=e-1,r=false;for(;t>=0;t--){if(this.digits[t]<9){this.digits[t]++;r=true;break}else{this.digits[t]=0}}if(!r){this.exposant++;this.digits[0]=1;this.digits.length=1}else{this.digits.length=t+1}}else{this.digits.length=e;this.removeTrailingZero()}return this};n.prototype.round=function(e=0){var t=this.exposant+e;return this.precision(t)};n.prototype.removeTrailingZero=function(){var e=this.digits.length-1;while(e>=0&&this.digits[e]===0){e--}this.digits.length=e+1}},{}],23:[function(e,t,r){"use strict";t.exports={reset:"[0m",bold:"[1m",dim:"[2m",italic:"[3m",underline:"[4m",inverse:"[7m",defaultColor:"[39m",black:"[30m",red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m",grey:"[90m",gray:"[90m",brightBlack:"[90m",brightRed:"[91m",brightGreen:"[92m",brightYellow:"[93m",brightBlue:"[94m",brightMagenta:"[95m",brightCyan:"[96m",brightWhite:"[97m",defaultBgColor:"[49m",bgBlack:"[40m",bgRed:"[41m",bgGreen:"[42m",bgYellow:"[43m",bgBlue:"[44m",bgMagenta:"[45m",bgCyan:"[46m",bgWhite:"[47m",bgGrey:"[100m",bgGray:"[100m",bgBrightBlack:"[100m",bgBrightRed:"[101m",bgBrightGreen:"[102m",bgBrightYellow:"[103m",bgBrightBlue:"[104m",bgBrightMagenta:"[105m",bgBrightCyan:"[106m",bgBrightWhite:"[107m"}},{}],24:[function(e,t,r){"use strict";r.regExp=r.regExpPattern=(e=>e.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1"));r.regExpReplacement=(e=>e.replace(/\$/g,"$$$$"));r.format=(e=>e.replace(/%/g,"%%"));r.jsSingleQuote=(e=>r.control(e).replace(/'/g,"\\'"));r.jsDoubleQuote=(e=>r.control(e).replace(/"/g,'\\"'));r.shellArg=(e=>"'"+e.replace(/'/g,"'\\''")+"'");var n={"\r":"\\r","\n":"\\n","\t":"\\t","":"\\x7f"};r.control=((e,t=false)=>e.replace(/[\x00-\x1f\x7f]/g,e=>{if(t&&(e==="\n"||e==="\t")){return e}if(n[e]!==undefined){return n[e]}var r=e.charCodeAt(0).toString(16);if(r.length%2){r="0"+r}return"\\x"+r}));var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};r.html=(e=>e.replace(/[&<>]/g,e=>o[e]));r.htmlAttr=(e=>e.replace(/[&<>"]/g,e=>o[e]));r.htmlSpecialChars=(e=>e.replace(/[&<>"']/g,e=>o[e]));r.unicodePercentEncode=(e=>e.replace(/[\x00-\x1f\u0100-\uffff\x7f%]/g,e=>{try{return encodeURI(e)}catch(e){return""}}));r.httpHeaderValue=(e=>r.unicodePercentEncode(e))},{}],25:[function(e,t,r){(function(t){(function(){"use strict";const n=e("./inspect.js").inspect;const o=e("./inspect.js").inspectError;const i=e("./escape.js");const a=e("./ansi.js");const s=e("./unicode.js");const l=e("./naturalSort.js");const f=e("./StringNumber.js");r.formatMethod=function(...e){var t=e[0];if(typeof t!=="string"){if(!t){t=""}else if(typeof t.toString==="function"){t=t.toString()}else{t=""}}var r,n=1,o=e.length,i=false,a=null,s=[];if(this.markupReset&&this.startingMarkupReset){t=(typeof this.markupReset==="function"?this.markupReset(s):this.markupReset)+t}t=t.replace(/\^(.?)|(%%)|%([+-]?)([0-9]*)(?:\[([^\]]*)\])?([a-zA-Z])/g,(t,l,f,c,h,p,y)=>{var d,g,m,w,k,E,v=[];if(f){return"%"}if(l){if(this.noMarkup){return"^"+l}if(l==="^"){return"^"}if(this.shiftMarkup&&this.shiftMarkup[l]){a=this.shiftMarkup[l];return""}if(a){if(!this.shiftedMarkup||!this.shiftedMarkup[a]||!this.shiftedMarkup[a][l]){return""}i=true;if(typeof this.shiftedMarkup[a][l]==="function"){d=this.shiftedMarkup[a][l](s)}else{d=this.shiftedMarkup[a][l];s.push(d)}a=null}else{if(!this.markup||!this.markup[l]){return""}i=true;if(typeof this.markup[l]==="function"){d=this.markup[l](s)}else{d=this.markup[l];s.push(d)}}return d}if(h){h=parseInt(h,10);if(c){if(c==="+"){h=n+h}else if(c==="-"){h=n-h}}}else{h=n}n++;if(h>=o||h<1){r=undefined}else{r=e[h]}if(u[y]){d=u[y](r,p,this);if(this.argumentSanitizer&&!u[y].noSanitize){d=this.argumentSanitizer(d)}if(p&&!u[y].noCommonModeArg){d=b(d,p)}return d}if(y==="F"){n--;if(p===undefined){return""}m=p.split(":");w=m[0];k=m[1];if(!w){return""}if(k&&(E=k.match(/%([+-]?)([0-9]*)[a-zA-Z]/g))){for(g=0;g<E.length;g++){c=E[g][1];h=E[g][2];if(h){h=parseInt(h,10);if(c){if(c==="+"){h=n+h}else if(c==="-"){h=n-h}}}else{h=n}n++;if(h>=o||h<1){v[g]=undefined}else{v[g]=e[h]}}}if(!this||!this.fn||typeof this.fn[w]!=="function"){return""}return this.fn[w].apply(this,v)}return""});if(i&&this.markupReset&&this.endingMarkupReset){t+=typeof this.markupReset==="function"?this.markupReset(s):this.markupReset}if(this.extraArguments){for(;n<o;n++){r=e[n];if(r===null||r===undefined){continue}else if(typeof r==="string"){t+=r}else if(typeof r==="number"){t+=r}else if(typeof r.toString==="function"){t+=r.toString()}}}return t};const u={};u.s=(e=>{if(typeof e==="string"){return e}if(e===null||e===undefined||e===true||e===false){return"("+e+")"}if(typeof e==="number"){return""+e}if(typeof e.toString==="function"){return e.toString()}return"("+e+")"});u.r=(e=>u.s(e));u.r.noSanitize=true;u.S=((e,t,n)=>{var o=e=>r.markupMethod.call(n,n.argumentSanitizer?n.argumentSanitizer(e):e);if(typeof e==="string"){return o(e)}if(e===null||e===undefined||e===true||e===false){return"("+e+")"}if(typeof e==="number"){return""+e}if(typeof e.toString==="function"){return o(e.toString())}return o("("+e+")")});u.S.noSanitize=true;u.S.noCommonModeArg=true;u.N=((e,r)=>{if(typeof e==="string"){return e}if(e===null||e===undefined||e===true||e===false||typeof e==="number"){return""+e}if(Array.isArray(e)){e=e.map(e=>u.N(e,true));if(r){return"["+e.join(",")+"]"}return e.join(", ")}if(t.isBuffer(e)){e=[...e].map(e=>{e=e.toString(16);if(e.length===1){e="0"+e}return e});return"<"+e.join(" ")+">"}var n=Object.getPrototypeOf(e);if(n===null||n===Object.prototype){e=Object.entries(e).sort(l).map(e=>e[0]+": "+u.N(e[1],true));if(r){return"{"+e.join(", ")+"}"}return e.join(", ")}if(typeof e.inspect==="function"){return e.inspect()}if(typeof e.toString==="function"){return e.toString()}return"("+e+")"});u.n=(e=>u.N(e,true));u.f=((e,t)=>{var r,n,o,i,a,s=1,l=0,u=false,c=null,h=null;if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){e=0}if(t){m.lastIndex=0;while(r=m.exec(t)){[,n,o]=r;if(n==="z"){s=+o}else if(!n){if(o[0]==="."){i=o[o.length-1];if(i==="!"){c=l=parseInt(o.slice(1,-1),10)}else if(i==="?"){c=l=parseInt(o.slice(1,-1),10);u=true}else{c=parseInt(o.slice(1),10)}}else if(o[o.length-1]==="."){c=-parseInt(o.slice(0,-1),10)}else{h=parseInt(o,10)}}}}a=new f(e);if(c!==null){a.round(c)}if(h!==null){a.precision(h)}return a.toString(s,l,u)});u.f.noSanitize=true;u.k=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){return"0"}var t=new f(e);t.precision(3);return t.toMetricString()});u.k.noSanitize=true;u.e=((e,t)=>{var r,n,o;if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){e=0}if(t){m.lastIndex=0;if(r=m.exec(t)){[,n,o]=r;if(!n){return""+e.toExponential(parseInt(o,10)-1)}}}return""+e.toExponential()});u.e.noSanitize=true;u.d=u.i=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.floor(e)}return"0"});u.i.noSanitize=true;u.u=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.max(Math.floor(e),0)}return"0"});u.u.noSanitize=true;u.U=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.max(Math.floor(e),1)}return"1"});u.U.noSanitize=true;u.m=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){return"(NaN)"}var t="";if(e<0){t="-";e=-e}var r=O(e),n=e-r;if(!n){return t+r+"Â°"}var o=O(n*60),i=O(n*3600-o*60);if(i){return t+r+"Â°"+(""+o).padStart(2,"0")+"â€²"+(""+i).padStart(2,"0")+"â€³"}return t+r+"Â°"+(""+o).padStart(2,"0")+"â€²"});u.m.noSanitize=true;u.t=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){return"(NaN)"}var t=Math.floor(e/1e3);if(t<60){return t+"s"}var r=Math.floor(t/60);t=t%60;if(r<60){return r+"min"+(""+t).padStart(2,"0")+"s"}var n=Math.floor(r/60);r=r%60;return n+"h"+(""+r).padStart(2,"0")+"min"+(""+t).padStart(2,"0")+"s"});u.t.noSanitize=true;u.h=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.max(Math.floor(e),0).toString(16)}return"0"});u.h.noSanitize=true;u.x=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e!=="number"){return"00"}var t=""+Math.max(Math.floor(e),0).toString(16);if(t.length%2){t="0"+t}return t});u.x.noSanitize=true;u.o=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.max(Math.floor(e),0).toString(8)}return"0"});u.o.noSanitize=true;u.b=(e=>{if(typeof e==="string"){e=parseFloat(e)}if(typeof e==="number"){return""+Math.max(Math.floor(e),0).toString(2)}return"0"});u.b.noSanitize=true;u.X=(e=>{if(typeof e==="string"){e=t.from(e)}else if(!t.isBuffer(e)){return""}return e.toString("hex")});u.X.noSanitize=true;u.z=(e=>{if(typeof e==="string"){e=t.from(e)}else if(!t.isBuffer(e)){return""}return e.toString("base64")});u.Z=(e=>{if(typeof e==="string"){e=t.from(e)}else if(!t.isBuffer(e)){return""}return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]{1,2}$/g,"")});const c={};u.I=((e,t,r)=>w(e,t,r,c));u.I.noSanitize=true;const h={noFunc:true,enumOnly:true,noDescriptor:true,useInspect:true,useInspectPropertyBlackList:true};u.Y=((e,t,r)=>w(e,t,r,h));u.Y.noSanitize=true;const p={minimal:true,noIndex:true};u.O=((e,t,r)=>w(e,t,r,p));u.O.noSanitize=true;const y={};u.E=((e,t,r)=>w(e,t,r,y,true));u.E.noSanitize=true;u.J=(e=>e===undefined?"null":JSON.stringify(e));u.D=(()=>"");u.D.noSanitize=true;var d={argumentSanitizer:e=>i.control(e,true),extraArguments:true,color:false,noMarkup:false,endingMarkupReset:true,startingMarkupReset:false,markupReset:a.reset,shiftMarkup:{"#":"background"},markup:{":":a.reset," ":a.reset+" ","-":a.dim,"+":a.bold,_:a.underline,"/":a.italic,"!":a.inverse,b:a.blue,B:a.brightBlue,c:a.cyan,C:a.brightCyan,g:a.green,G:a.brightGreen,k:a.black,K:a.brightBlack,m:a.magenta,M:a.brightMagenta,r:a.red,R:a.brightRed,w:a.white,W:a.brightWhite,y:a.yellow,Y:a.brightYellow},shiftedMarkup:{background:{":":a.reset," ":a.reset+" ",b:a.bgBlue,B:a.bgBrightBlue,c:a.bgCyan,C:a.bgBrightCyan,g:a.bgGreen,G:a.bgBrightGreen,k:a.bgBlack,K:a.bgBrightBlack,m:a.bgMagenta,M:a.bgBrightMagenta,r:a.bgRed,R:a.bgBrightRed,w:a.bgWhite,W:a.bgBrightWhite,y:a.bgYellow,Y:a.bgBrightYellow}}};r.createFormatter=(e=>r.formatMethod.bind(Object.assign({},d,e)));r.format=r.formatMethod.bind(d);r.format.default=d;r.markupMethod=function(e){if(typeof e!=="string"){if(!e){e=""}else if(typeof e.toString==="function"){e=e.toString()}else{e=""}}var t=false,r=null,n=[];if(this.markupReset&&this.startingMarkupReset){e=(typeof this.markupReset==="function"?this.markupReset(n):this.markupReset)+e}e=e.replace(/\^(.?)/g,(e,o)=>{var i;if(o==="^"){return"^"}if(this.shiftMarkup&&this.shiftMarkup[o]){r=this.shiftMarkup[o];return""}if(r){if(!this.shiftedMarkup||!this.shiftedMarkup[r]||!this.shiftedMarkup[r][o]){return""}t=true;if(typeof this.shiftedMarkup[r][o]==="function"){i=this.shiftedMarkup[r][o](n)}else{i=this.shiftedMarkup[r][o];n.push(i)}r=null}else{if(!this.markup||!this.markup[o]){return""}t=true;if(typeof this.markup[o]==="function"){i=this.markup[o](n)}else{i=this.markup[o];n.push(i)}}return i});if(t&&this.markupReset&&this.endingMarkupReset){e+=typeof this.markupReset==="function"?this.markupReset(n):this.markupReset}return e};r.createMarkup=(e=>r.markupMethod.bind(Object.assign({},d,e)));r.markup=r.markupMethod.bind(d);r.format.count=function(e){var t,r,n,o=1,i=0;if(typeof e!=="string"){return 0}var a=/%([+-]?)([0-9]*)(?:\[([^\]]*)\])?([a-zA-EG-Z])/g;while((t=a.exec(e))!==null){n=t[1];r=t[2];if(r){r=parseInt(r,10);if(n){if(n==="+"){r=o+r}else if(n==="-"){r=o-r}}}else{r=o}o++;if(i<r){i=r}}return i};r.format.hasFormatting=function(e){if(e.search(/\^(.?)|(%%)|%([+-]?)([0-9]*)(?:\[([^\]]*)\])?([a-zA-Z])/)!==-1){return true}return false};const g=/([a-zA-Z])(.[^a-zA-Z]*)/g;const m=/([a-zA-Z]|^)(.[^a-zA-Z]*)/g;function b(e,t){var r,n,o;g.lastIndex=0;while(r=g.exec(t)){[,n,o]=r;if(n==="L"){let t=s.width(e);o=+o||1;if(t>o){e=s.truncateWidth(e,o-1).trim()+"â€¦";t=s.width(e)}if(t<o){e=" ".repeat(o-t)+e}}else if(n==="R"){let t=s.width(e);o=+o||1;if(t>o){e=s.truncateWidth(e,o-1).trim()+"â€¦";t=s.width(e)}if(t<o){e=e+" ".repeat(o-t)}}}return e}function w(e,t,r,i,a=false){var s,l,f,u,c,h=3,p=r&&r.color?"color":"none";if(t){m.lastIndex=0;while(s=m.exec(t)){[,l,f]=s;if(l==="c"){if(f==="+"){p="color"}else if(f==="-"){p="none"}}else if(l==="l"){u=parseInt(f,10)||undefined}else if(l==="s"){c=parseInt(f,10)||undefined}else if(!l){h=parseInt(f,10)||1}}}if(a){return o(Object.assign({depth:h,style:p,outputMaxLength:u,maxLength:c},i),e)}return n(Object.assign({depth:h,style:p,outputMaxLength:u,maxLength:c},i),e)}const k=1e-10;const E=Math.round(1/k);function v(e){return Math.round(e*E)/E}function O(e){return Math.floor(e+k)}function S(e,t){return v(t*Math.round(e*(1/t)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./StringNumber.js":22,"./ansi.js":23,"./escape.js":24,"./inspect.js":26,"./naturalSort.js":29,"./unicode.js":31,buffer:19}],26:[function(e,t,r){(function(t,n){(function(){"use strict";const o=e("./escape.js");const i=e("./ansi.js");const a={};function s(e,t){if(arguments.length<2){t=e;e={}}else if(!e||typeof e!=="object"){e={}}var r={depth:0,ancestors:[]};if(!e.style){e.style=y.none}else if(typeof e.style==="string"){e.style=y[e.style]}if(e.depth===undefined){e.depth=3}if(e.maxLength===undefined){e.maxLength=250}if(e.outputMaxLength===undefined){e.outputMaxLength=5e3}if(e.nofunc){e.noFunc=true}if(e.minimal){e.noFunc=true;e.noDescriptor=true;e.noType=true;e.noArrayProperty=true;e.enumOnly=true;e.proto=false;e.funcDetails=false}var n=l(r,e,t);if(n.length>e.outputMaxLength){n=e.style.truncate(n,e.outputMaxLength)}return n}function l(e,r,n){var i,s,u,h,p,y,d,g,m,b,w,k,E,v="",O="",S="",j,A;g=typeof n;b=r.style.tab.repeat(e.depth);if(g==="function"&&r.noFunc){return""}if(e.key!==undefined){if(e.descriptor){S=[];if(!e.descriptor.configurable){S.push("-conf")}if(!e.descriptor.enumerable){S.push("-enum")}if(!e.descriptor.writable){S.push("-w")}if(S.length){S=S.join(" ")}else{S=""}}if(e.keyIsProperty){if(f(e.key)){O='"'+r.style.key(e.key)+'": '}else{O=r.style.key(e.key)+": "}}else if(!r.noIndex){O=r.style.index(e.key)}if(S){S=" "+r.style.type(S)}}m=e.noPre?"":b+O;if(n===undefined){v+=m+r.style.constant("undefined")+S+r.style.newline}else if(n===a){v+=m+r.style.constant("[empty]")+S+r.style.newline}else if(n===null){v+=m+r.style.constant("null")+S+r.style.newline}else if(n===false){v+=m+r.style.constant("false")+S+r.style.newline}else if(n===true){v+=m+r.style.constant("true")+S+r.style.newline}else if(g==="number"){v+=m+r.style.number(n.toString())+(r.noType?"":" "+r.style.type("number"))+S+r.style.newline}else if(g==="string"){if(n.length>r.maxLength){v+=m+'"'+r.style.string(o.control(n.slice(0,r.maxLength-1)))+'â€¦"'+(r.noType?"":" "+r.style.type("string")+r.style.length("("+n.length+" - TRUNCATED)"))+S+r.style.newline}else{v+=m+'"'+r.style.string(o.control(n))+'"'+(r.noType?"":" "+r.style.type("string")+r.style.length("("+n.length+")"))+S+r.style.newline}}else if(t.isBuffer(n)){v+=m+r.style.inspect(n.inspect())+(r.noType?"":" "+r.style.type("Buffer")+r.style.length("("+n.length+")"))+S+r.style.newline}else if(g==="object"||g==="function"){s=u="";k=false;if(g==="function"){k=true;s=" "+r.style.funcName(n.name?n.name:"(anonymous)");u=r.style.length("("+n.length+")")}w=false;if(Array.isArray(n)){w=true;u=r.style.length("("+n.length+")")}if(!n.constructor){y="(no constructor)"}else if(!n.constructor.name){y="(anonymous)"}else{y=n.constructor.name}y=r.style.constructorName(y);h=Object.getPrototypeOf(n);v+=m;if(!r.noType){if(e.forceType){v+=r.style.type(e.forceType)}else{v+=y+s+u+" "+r.style.type(g)+S}if(!k||r.funcDetails){v+=" "}}if(w&&r.noArrayProperty){p=[...Array(n.length).keys()]}else{p=Object.getOwnPropertyNames(n)}if(r.sort){p.sort()}E=c(n,e,r);if(r.protoBlackList&&r.protoBlackList.has(h)){v+=r.style.limit("[skip]")+r.style.newline}else if(E!==undefined){if(typeof E==="string"){v+="=> "+E+r.style.newline}else{v+="=> "+l({depth:e.depth,ancestors:e.ancestors,noPre:true},r,E)}}else if(k&&!r.funcDetails){v+=r.style.newline}else if(!p.length&&!r.proto){v+=(w?"[]":"{}")+r.style.newline}else if(e.depth>=r.depth){v+=r.style.limit("[depth limit]")+r.style.newline}else if(e.ancestors.indexOf(n)!==-1){v+=r.style.limit("[circular]")+r.style.newline}else{v+=(w&&r.noType&&r.noArrayProperty?"[":"{")+r.style.newline;A=e.ancestors.slice();A.push(n);for(i=0;i<p.length&&v.length<r.outputMaxLength;i++){if(!w&&(r.propertyBlackList&&r.propertyBlackList.has(p[i])||r.useInspectPropertyBlackList&&n.inspectPropertyBlackList instanceof Set&&n.inspectPropertyBlackList.has(p[i]))){continue}if(w&&r.noArrayProperty&&!(p[i]in n)){v+=l({depth:e.depth+1,ancestors:A,key:p[i],keyIsProperty:false},r,a)}else{try{j=Object.getOwnPropertyDescriptor(n,p[i]);if(!j.enumerable&&r.enumOnly){continue}d=!w||!j.enumerable||isNaN(p[i]);if(!r.noDescriptor&&j&&(j.get||j.set)){v+=l({depth:e.depth+1,ancestors:A,key:p[i],keyIsProperty:d,descriptor:j,forceType:"getter/setter"},r,{get:j.get,set:j.set})}else{v+=l({depth:e.depth+1,ancestors:A,key:p[i],keyIsProperty:d,descriptor:r.noDescriptor?undefined:j},r,n[p[i]])}}catch(t){v+=l({depth:e.depth+1,ancestors:A,key:p[i],keyIsProperty:d,descriptor:r.noDescriptor?undefined:j},r,t)}}if(i<p.length-1){v+=r.style.comma}}if(r.proto){v+=l({depth:e.depth+1,ancestors:A,key:"__proto__",keyIsProperty:true},r,h)}v+=b+(w&&r.noType&&r.noArrayProperty?"]":"}");v+=r.style.newline}}if(e.depth===0){if(r.style.trim){v=v.trim()}if(r.style==="html"){v=o.html(v)}}return v}r.inspect=s;function f(e){if(!e.length){return true}return false}var u=["pending","fulfilled","rejected"];function c(e,t,r){if(typeof e.constructor!=="function"){return}if(e instanceof String){return e.toString()}if(e instanceof RegExp){return e.toString()}if(e instanceof Date){return e.toString()+" ["+e.getTime()+"]"}if(typeof Set==="function"&&e instanceof Set){return Array.from(e)}if(typeof Map==="function"&&e instanceof Map){return Array.from(e)}if(e instanceof Promise){if(n&&n.binding&&n.binding("util")&&n.binding("util").getPromiseDetails){let o=n.binding("util").getPromiseDetails(e);let i=u[o[0]];let a="Promise <"+i+">";if(i==="fulfilled"){a+=" "+l({depth:t.depth,ancestors:t.ancestors,noPre:true},r,o[1])}else if(i==="rejected"){if(o[1]instanceof Error){a+=" "+h({style:r.style,noErrorStack:true},o[1])}else{a+=" "+l({depth:t.depth,ancestors:t.ancestors,noPre:true},r,o[1])}}return a}}if(e._bsontype){return e.toString()}if(r.useInspect&&typeof e.inspect==="function"){return e.inspect()}return}function h(e,t){var r="",n,o,i;if(arguments.length<2){t=e;e={}}else if(!e||typeof e!=="object"){e={}}if(!(t instanceof Error)){return"inspectError(): it's not an error, using regular variable inspection: "+s(e,t)}if(!e.style){e.style=y.none}else if(typeof e.style==="string"){e.style=y[e.style]}if(t.stack&&!e.noErrorStack){n=p(e,t.stack)}o=t.type||t.constructor.name;i=t.code||t.name||t.errno||t.number;r+=e.style.errorType(o)+(i?" ["+e.style.errorType(i)+"]":"")+": ";r+=e.style.errorMessage(t.message)+"\n";if(n){r+=e.style.errorStack(n)+"\n"}if(t.from){r+=e.style.newline+e.style.errorFromMessage("From error:")+e.style.newline+h(e,t.from)}return r}r.inspectError=h;function p(e,t){if(arguments.length<2){t=e;e={}}else if(!e||typeof e!=="object"){e={}}if(!e.style){e.style=y.none}else if(typeof e.style==="string"){e.style=y[e.style]}if(!t){return}if((e.browser||n.browser)&&t.indexOf("@")!==-1){t=t.replace(/[</]*(?=@)/g,"").replace(/^\s*([^@]*)\s*@\s*([^\n]*)(?::([0-9]+):([0-9]+))?$/gm,(t,r,n,o,i)=>{return e.style.errorStack("    at ")+(r?e.style.errorStackMethod(r)+" ":"")+e.style.errorStack("(")+(n?e.style.errorStackFile(n):e.style.errorStack("unknown"))+(o?e.style.errorStack(":")+e.style.errorStackLine(o):"")+(i?e.style.errorStack(":")+e.style.errorStackColumn(i):"")+e.style.errorStack(")")})}else{t=t.replace(/^[^\n]*\n/,"");t=t.replace(/^\s*(at)\s+(?:(?:(async|new)\s+)?([^\s:()[\]\n]+(?:\([^)]+\))?)\s)?(?:\[as ([^\s:()[\]\n]+)\]\s)?(?:\(?([^:()[\]\n]+):([0-9]+):([0-9]+)\)?)?$/gm,(t,r,n,o,i,a,s,l)=>{return e.style.errorStack("    at ")+(n?e.style.errorStackKeyword(n)+" ":"")+(o?e.style.errorStackMethod(o)+" ":"")+(i?e.style.errorStack("[as ")+e.style.errorStackMethodAs(i)+e.style.errorStack("] "):"")+e.style.errorStack("(")+(a?e.style.errorStackFile(a):e.style.errorStack("unknown"))+(s?e.style.errorStack(":")+e.style.errorStackLine(s):"")+(l?e.style.errorStack(":")+e.style.errorStackColumn(l):"")+e.style.errorStack(")")})}return t}r.inspectStack=p;var y={};var d=e=>e;y.none={trim:false,tab:"    ",newline:"\n",comma:"",limit:d,type:e=>"<"+e+">",constant:d,funcName:d,constructorName:e=>"<"+e+">",length:d,key:d,index:e=>"["+e+"] ",number:d,inspect:d,string:d,errorType:d,errorMessage:d,errorStack:d,errorStackKeyword:d,errorStackMethod:d,errorStackMethodAs:d,errorStackFile:d,errorStackLine:d,errorStackColumn:d,errorFromMessage:d,truncate:(e,t)=>e.slice(0,t-1)+"â€¦"};y.inline=Object.assign({},y.none,{trim:true,tab:"",newline:" ",comma:", ",length:()=>"",index:()=>""});y.color=Object.assign({},y.none,{limit:e=>i.bold+i.brightRed+e+i.reset,type:e=>i.italic+i.brightBlack+e+i.reset,constant:e=>i.cyan+e+i.reset,funcName:e=>i.italic+i.magenta+e+i.reset,constructorName:e=>i.magenta+e+i.reset,length:e=>i.italic+i.brightBlack+e+i.reset,key:e=>i.green+e+i.reset,index:e=>i.blue+"["+e+"]"+i.reset+" ",number:e=>i.cyan+e+i.reset,inspect:e=>i.cyan+e+i.reset,string:e=>i.blue+e+i.reset,errorType:e=>i.red+i.bold+e+i.reset,errorMessage:e=>i.red+i.italic+e+i.reset,errorStack:e=>i.brightBlack+e+i.reset,errorStackKeyword:e=>i.italic+i.bold+e+i.reset,errorStackMethod:e=>i.brightYellow+e+i.reset,errorStackMethodAs:e=>i.yellow+e+i.reset,errorStackFile:e=>i.brightCyan+e+i.reset,errorStackLine:e=>i.blue+e+i.reset,errorStackColumn:e=>i.magenta+e+i.reset,errorFromMessage:e=>i.yellow+i.underline+e+i.reset,truncate:(e,t)=>{var r=i.gray+"â€¦"+i.reset;e=e.slice(0,t-r.length);var n=e.lastIndexOf("");if(n>=e.length-6){e=e.slice(0,n)}return e+r}});y.html=Object.assign({},y.none,{tab:"&nbsp;&nbsp;&nbsp;&nbsp;",newline:"<br />",limit:e=>'<span style="color:red">'+e+"</span>",type:e=>'<i style="color:gray">'+e+"</i>",constant:e=>'<span style="color:cyan">'+e+"</span>",funcName:e=>'<i style="color:magenta">'+e+"</i>",constructorName:e=>'<span style="color:magenta">'+e+"</span>",length:e=>'<i style="color:gray">'+e+"</i>",key:e=>'<span style="color:green">'+e+"</span>",index:e=>'<span style="color:blue">['+e+"]</span> ",number:e=>'<span style="color:cyan">'+e+"</span>",inspect:e=>'<span style="color:cyan">'+e+"</span>",string:e=>'<span style="color:blue">'+e+"</span>",errorType:e=>'<span style="color:red">'+e+"</span>",errorMessage:e=>'<span style="color:red">'+e+"</span>",errorStack:e=>'<span style="color:gray">'+e+"</span>",errorStackKeyword:e=>"<i>"+e+"</i>",errorStackMethod:e=>'<span style="color:yellow">'+e+"</span>",errorStackMethodAs:e=>'<span style="color:yellow">'+e+"</span>",errorStackFile:e=>'<span style="color:cyan">'+e+"</span>",errorStackLine:e=>'<span style="color:blue">'+e+"</span>",errorStackColumn:e=>'<span style="color:gray">'+e+"</span>",errorFromMessage:e=>'<span style="color:yellow">'+e+"</span>"})}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")},e("_process"))},{"../../is-buffer/index.js":20,"./ansi.js":23,"./escape.js":24,_process:21}],27:[function(e,t,r){t.exports={"ß€":"0","Ì":"","Â ":" ","â’¶":"A","ï¼¡":"A","Ã€":"A","Ã":"A","Ã‚":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ãƒ":"A","Ä€":"A","Ä‚":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã„":"A","Çž":"A","áº¢":"A","Ã…":"A","Çº":"A","Ç":"A","È€":"A","È‚":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸€":"A","Ä„":"A","Èº":"A","â±¯":"A","êœ²":"AA","Ã†":"AE","Ç¼":"AE","Ç¢":"AE","êœ´":"AO","êœ¶":"AU","êœ¸":"AV","êœº":"AV","êœ¼":"AY","â’·":"B","ï¼¢":"B","á¸‚":"B","á¸„":"B","á¸†":"B","Éƒ":"B","Æ":"B","ï½ƒ":"C","â’¸":"C","ï¼£":"C","êœ¾":"C","á¸ˆ":"C","Ã‡":"C","â’¹":"D","ï¼¤":"D","á¸Š":"D","ÄŽ":"D","á¸Œ":"D","á¸":"D","á¸’":"D","á¸Ž":"D","Ä":"D","ÆŠ":"D","Æ‰":"D","á´…":"D","ê¹":"D","Ã":"Dh","Ç±":"DZ","Ç„":"DZ","Ç²":"Dz","Ç…":"Dz","É›":"E","â’º":"E","ï¼¥":"E","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","á»€":"E","áº¾":"E","á»„":"E","á»‚":"E","áº¼":"E","Ä’":"E","á¸”":"E","á¸–":"E","Ä”":"E","Ä–":"E","Ã‹":"E","áºº":"E","Äš":"E","È„":"E","È†":"E","áº¸":"E","á»†":"E","È¨":"E","á¸œ":"E","Ä˜":"E","á¸˜":"E","á¸š":"E","Æ":"E","ÆŽ":"E","á´‡":"E","ê¼":"F","â’»":"F","ï¼¦":"F","á¸ž":"F","Æ‘":"F","ê»":"F","â’¼":"G","ï¼§":"G","Ç´":"G","Äœ":"G","á¸ ":"G","Äž":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ“":"G","êž ":"G","ê½":"G","ê¾":"G","É¢":"G","â’½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","Èž":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","êž":"H","â’¾":"I","ï¼©":"I","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»ˆ":"I","Ç":"I","Èˆ":"I","ÈŠ":"I","á»Š":"I","Ä®":"I","á¸¬":"I","Æ—":"I","â’¿":"J","ï¼ª":"J","Ä´":"J","Éˆ":"J","È·":"J","â“€":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ˜":"K","â±©":"K","ê€":"K","ê‚":"K","ê„":"K","êž¢":"K","â“":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","êˆ":"L","ê†":"L","êž€":"L","Ç‡":"LJ","Çˆ":"Lj","â“‚":"M","ï¼­":"M","á¸¾":"M","á¹€":"M","á¹‚":"M","â±®":"M","Æœ":"M","Ï»":"M","êž¤":"N","È ":"N","â“ƒ":"N","ï¼®":"N","Ç¸":"N","Åƒ":"N","Ã‘":"N","á¹„":"N","Å‡":"N","á¹†":"N","Å…":"N","á¹Š":"N","á¹ˆ":"N","Æ":"N","êž":"N","á´Ž":"N","ÇŠ":"NJ","Ç‹":"Nj","â“„":"O","ï¼¯":"O","Ã’":"O","Ã“":"O","Ã”":"O","á»’":"O","á»":"O","á»–":"O","á»”":"O","Ã•":"O","á¹Œ":"O","È¬":"O","á¹Ž":"O","ÅŒ":"O","á¹":"O","á¹’":"O","ÅŽ":"O","È®":"O","È°":"O","Ã–":"O","Èª":"O","á»Ž":"O","Å":"O","Ç‘":"O","ÈŒ":"O","ÈŽ":"O","Æ ":"O","á»œ":"O","á»š":"O","á» ":"O","á»ž":"O","á»¢":"O","á»Œ":"O","á»˜":"O","Çª":"O","Ç¬":"O","Ã˜":"O","Ç¾":"O","Æ†":"O","ÆŸ":"O","êŠ":"O","êŒ":"O","Å’":"OE","Æ¢":"OI","êŽ":"OO","È¢":"OU","â“…":"P","ï¼°":"P","á¹”":"P","á¹–":"P","Æ¤":"P","â±£":"P","ê":"P","ê’":"P","ê”":"P","â“†":"Q","ï¼±":"Q","ê–":"Q","ê˜":"Q","ÉŠ":"Q","â“‡":"R","ï¼²":"R","Å”":"R","á¹˜":"R","Å˜":"R","È":"R","È’":"R","á¹š":"R","á¹œ":"R","Å–":"R","á¹ž":"R","ÉŒ":"R","â±¤":"R","êš":"R","êž¦":"R","êž‚":"R","â“ˆ":"S","ï¼³":"S","áºž":"S","Åš":"S","á¹¤":"S","Åœ":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È˜":"S","Åž":"S","â±¾":"S","êž¨":"S","êž„":"S","â“‰":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","Èš":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","êž†":"T","Ãž":"Th","êœ¨":"TZ","â“Š":"U","ï¼µ":"U","Ã™":"U","Ãš":"U","Ã›":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ãœ":"U","Ç›":"U","Ç—":"U","Ç•":"U","Ç™":"U","á»¦":"U","Å®":"U","Å°":"U","Ç“":"U","È”":"U","È–":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É„":"U","â“‹":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","êž":"V","É…":"V","ê ":"VY","â“Œ":"W","ï¼·":"W","áº€":"W","áº‚":"W","Å´":"W","áº†":"W","áº„":"W","áºˆ":"W","â±²":"W","â“":"X","ï¼¸":"X","áºŠ":"X","áºŒ":"X","â“Ž":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áºŽ":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","ÉŽ":"Y","á»¾":"Y","â“":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº’":"Z","áº”":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â“":"a","ï½":"a","áºš":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Äƒ":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","ÇŸ":"a","áº£":"a","Ã¥":"a","Ç»":"a","ÇŽ":"a","È":"a","Èƒ":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä…":"a","â±¥":"a","É":"a","É‘":"a","êœ³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êœµ":"ao","êœ·":"au","êœ¹":"av","êœ»":"av","êœ½":"ay","â“‘":"b","ï½‚":"b","á¸ƒ":"b","á¸…":"b","á¸‡":"b","Æ€":"b","Æƒ":"b","É“":"b","Æ‚":"b","â“’":"c","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","Ã§":"c","á¸‰":"c","Æˆ":"c","È¼":"c","êœ¿":"c","â†„":"c",C:"c","Ä†":"c","Äˆ":"c","ÄŠ":"c","ÄŒ":"c","Æ‡":"c","È»":"c","â““":"d","ï½„":"d","á¸‹":"d","Ä":"d","á¸":"d","á¸‘":"d","á¸“":"d","á¸":"d","Ä‘":"d","ÆŒ":"d","É–":"d","É—":"d","Æ‹":"d","á§":"d","Ô":"d","êžª":"d","Ã°":"dh","Ç³":"dz","Ç†":"dz","â“”":"e","ï½…":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»…":"e","á»ƒ":"e","áº½":"e","Ä“":"e","á¸•":"e","á¸—":"e","Ä•":"e","Ä—":"e","Ã«":"e","áº»":"e","Ä›":"e","È…":"e","È‡":"e","áº¹":"e","á»‡":"e","È©":"e","á¸":"e","Ä™":"e","á¸™":"e","á¸›":"e","É‡":"e","Ç":"e","â“•":"f","ï½†":"f","á¸Ÿ":"f","Æ’":"f","ï¬€":"ff","ï¬":"fi","ï¬‚":"fl","ï¬ƒ":"ffi","ï¬„":"ffl","â“–":"g","ï½‡":"g","Çµ":"g","Ä":"g","á¸¡":"g","ÄŸ":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","êž¡":"g","ê¿":"g","áµ¹":"g","â“—":"h","ï½ˆ":"h","Ä¥":"h","á¸£":"h","á¸§":"h","ÈŸ":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº–":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ•":"hv","â“˜":"i","ï½‰":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»‰":"i","Ç":"i","È‰":"i","È‹":"i","á»‹":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â“™":"j","ï½Š":"j","Äµ":"j","Ç°":"j","É‰":"j","â“š":"k","ï½‹":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ™":"k","â±ª":"k","ê":"k","êƒ":"k","ê…":"k","êž£":"k","â“›":"l","ï½Œ":"l","Å€":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å‚":"l","Æš":"l","É«":"l","â±¡":"l","ê‰":"l","êž":"l","ê‡":"l","É­":"l","Ç‰":"lj","â“œ":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹ƒ":"m","É±":"m","É¯":"m","â“":"n","ï½Ž":"n","Ç¹":"n","Å„":"n","Ã±":"n","á¹…":"n","Åˆ":"n","á¹‡":"n","Å†":"n","á¹‹":"n","á¹‰":"n","Æž":"n","É²":"n","Å‰":"n","êž‘":"n","êž¥":"n","Ô‰":"n","ÇŒ":"nj","â“ž":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»“":"o","á»‘":"o","á»—":"o","á»•":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹‘":"o","á¹“":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å‘":"o","Ç’":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»›":"o","á»¡":"o","á»Ÿ":"o","á»£":"o","á»":"o","á»™":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","ê‹":"o","ê":"o","Éµ":"o","É”":"o","á´‘":"o","Å“":"oe","Æ£":"oi","ê":"oo","È£":"ou","â“Ÿ":"p","ï½":"p","á¹•":"p","á¹—":"p","Æ¥":"p","áµ½":"p","ê‘":"p","ê“":"p","ê•":"p","Ï":"p","â“ ":"q","ï½‘":"q","É‹":"q","ê—":"q","ê™":"q","â“¡":"r","ï½’":"r","Å•":"r","á¹™":"r","Å™":"r","È‘":"r","È“":"r","á¹›":"r","á¹":"r","Å—":"r","á¹Ÿ":"r","É":"r","É½":"r","ê›":"r","êž§":"r","êžƒ":"r","â“¢":"s","ï½“":"s","Å›":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È™":"s","ÅŸ":"s","È¿":"s","êž©":"s","êž…":"s","áº›":"s","Ê‚":"s","ÃŸ":"ss","â“£":"t","ï½”":"t","á¹«":"t","áº—":"t","Å¥":"t","á¹­":"t","È›":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Êˆ":"t","â±¦":"t","êž‡":"t","Ã¾":"th","êœ©":"tz","â“¤":"u","ï½•":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Çœ":"u","Ç˜":"u","Ç–":"u","Çš":"u","á»§":"u","Å¯":"u","Å±":"u","Ç”":"u","È•":"u","È—":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê‰":"u","â“¥":"v","ï½–":"v","á¹½":"v","á¹¿":"v","Ê‹":"v","êŸ":"v","ÊŒ":"v","ê¡":"vy","â“¦":"w","ï½—":"w","áº":"w","áºƒ":"w","Åµ":"w","áº‡":"w","áº…":"w","áº˜":"w","áº‰":"w","â±³":"w","â“§":"x","ï½˜":"x","áº‹":"x","áº":"x","â“¨":"y","ï½™":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº™":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â“©":"z","ï½š":"z","Åº":"z","áº‘":"z","Å¼":"z","Å¾":"z","áº“":"z","áº•":"z","Æ¶":"z","È¥":"z","É€":"z","â±¬":"z","ê£":"z"}},{}],28:[function(e,t,r){"use strict";var n=e("./latinize-map.json");t.exports=function(e){return e.replace(/[^\u0000-\u007e]/g,e=>{return n[e]||e})}},{"./latinize-map.json":27}],29:[function(e,t,r){"use strict";t.exports=function(e,t){var r=/(^([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)?$|^0x[\da-fA-F]+$|\d+)/g,n=/^\s+|\s+$/g,o=/\s+/g,i=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[/-]\d{1,4}[/-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,a=/^0x[0-9a-f]+$/i,s=/^0/,l=function(e){return(""+e).toLowerCase().replace(n,"")},f=l(e)||"",u=l(t)||"",c=f.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=u.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(f.match(a),16)||c.length!==1&&Date.parse(f),y=parseInt(u.match(a),16)||p&&u.match(i)&&Date.parse(u)||null,d=function(e,t){return(!e.match(s)||t===1)&&parseFloat(e)||e.replace(o," ").replace(n,"")||0},g,m;if(y){if(p<y){return-1}else if(p>y){return 1}}for(var b=0,w=c.length,k=h.length,E=Math.max(w,k);b<E;b++){g=d(c[b],w);m=d(h[b],k);if(isNaN(g)!==isNaN(m)){return isNaN(g)?1:-1}else if(typeof g!==typeof m){g+="";m+=""}if(g<m){return-1}if(g>m){return 1}}return 0}},{}],30:[function(e,t,r){"use strict";t.exports=function e(t,r){if(!t||typeof t!=="string"){return""}r=r||{};return t.replace(/[^\s_-]+/g,e=>{if(r.zealous){if(r.preserveAllCaps&&e===e.toUpperCase()){return e}return e[0].toUpperCase()+e.slice(1).toLowerCase()}return e[0].toUpperCase()+e.slice(1)})}},{}],31:[function(e,t,r){"use strict";const n={};t.exports=n;n.encode=(e=>String.fromCodePoint(...e));n.decode=(e=>{var t,r,n=0,o=[],i=e.length;while(n<i){t=e.charCodeAt(n++);if(t>=55296&&t<=56319&&n<i){r=e.charCodeAt(n++);if((r&64512)===56320){o.push(((t&1023)<<10)+(r&1023)+65536)}else{o.push(t);n--}}else{o.push(t)}}return o});n.firstCodePoint=(e=>{var t,r=e.charCodeAt(0);if(r>=55296&&r<=56319&&e.length>=2){t=e.charCodeAt(1);if((t&64512)===56320){return((r&1023)<<10)+(t&1023)+65536}}return r});n.firstChar=(e=>{var t,r=e.charCodeAt(0);if(r>=55296&&r<=56319&&e.length>=2){t=e.charCodeAt(1);if((t&64512)===56320){return e.slice(0,2)}}return e[0]});n.toArray=(e=>{var t,r,n=0,o=[],i=e.length;while(n<i){t=e.charCodeAt(n++);if(t>=55296&&t<=56319&&n<i){r=e.charCodeAt(n++);if((r&64512)===56320){o.push(e.slice(n-2,n))}else{o.push(e[n-2]);n--}}else{o.push(e[n-1])}}return o});n.toCells=((e,t,r=4,o=0,...i)=>{var a,s,l=0,f=[],u,c=t.length;while(l<c){a=t.charCodeAt(l++);if(a===10){o=0}else if(a===9){u=r-o%r-1;f.push(new e("\t",...i));o+=1+u;while(u--){f.push(new e(null,...i))}}else if(a>=55296&&a<=56319&&l<c){s=t.charCodeAt(l++);if((s&64512)===56320){a=((a&1023)<<10)+(s&1023)+65536;f.push(new e(t.slice(l-2,l),...i));o++;if(n.codePointWidth(a)===2){o++;f.push(new e(null,...i))}}else{l--}}else{f.push(new e(t[l-1],...i));o++;if(n.codePointWidth(a)===2){f.push(new e(null,...i));o++}}}return f});n.fromCells=(e=>{return e.map(e=>e.filler?"":e.char).join("")});n.length=(e=>{var t,r,n=0,o=0,i=e.length;while(n<i){t=e.charCodeAt(n++);if(t>=55296&&t<=56319&&n<i){r=e.charCodeAt(n++);if((r&64512)!==56320){n--}}o++}return o});n.width=(e=>{var t=0;n.decode(e).forEach(e=>t+=n.codePointWidth(e));return t});n.arrayWidth=((e,t)=>{var r,o=0;if(t===undefined){t=e.length}for(r=0;r<t;r++){o+=n.isFullWidth(e[r])?2:1}return o});var o=0;n.getLastTruncateWidth=(()=>o);n.widthLimit=n.truncateWidth=((e,t)=>{var r,i,a,s=0,l=0,f=e.length;o=0;while(s<f){r=e.charCodeAt(s++);if(r>=55296&&r<=56319&&s<f){i=e.charCodeAt(s++);if((i&64512)===56320){r=((r&1023)<<10)+(i&1023)+65536}else{s--}}a=n.codePointWidth(r);if(o+a>t){return e.slice(0,l)}o+=a;l=s}return e});n.surrogatePair=(e=>{var t=e.charCodeAt(0);if(t<55296||t>=57344){return 0}else if(t<56320){return 1}return-1});n.isFullWidth=(e=>{if(e.length<=1){return n.isFullWidthCodePoint(e.codePointAt(0))}return n.isFullWidthCodePoint(n.firstCodePoint(e))});n.charWidth=(e=>{if(e.length<=1){return n.codePointWidth(e.codePointAt(0))}return n.codePointWidth(n.firstCodePoint(e))});n.codePointWidth=(e=>{if(e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141)){return 2}return 1});n.isFullWidthCodePoint=(e=>n.codePointWidth(e)===2);n.toFullWidth=(e=>{return String.fromCodePoint(...n.decode(e).map(e=>e>=33&&e<=126?65280+e-32:e))})},{}],32:[function(e,t,r){"use strict";function n(e,t){var r=Object.getPrototypeOf(e);if(n.opaque.has(r)){return n.opaque.get(r)(e)}var o,i,a,s,l,f,u=[{source:e,target:Array.isArray(e)?[]:Object.create(r)}],c=u[0].target,h=new Map;h.set(e,c);while(s=u.shift()){a=Object.getOwnPropertyNames(s.source);for(o=0;o<a.length;o++){i=Object.getOwnPropertyDescriptor(s.source,a[o]);if(!i.value||typeof i.value!=="object"){Object.defineProperty(s.target,a[o],i);continue}l=i.value;if(t){if(h.has(l)){i.value=h.get(l);Object.defineProperty(s.target,a[o],i);continue}}f=Object.getPrototypeOf(i.value);if(n.opaque.has(f)){i.value=n.opaque.get(f)(i.value);Object.defineProperty(s.target,a[o],i);continue}i.value=Array.isArray(l)?[]:Object.create(f);if(t){h.set(l,i.value)}Object.defineProperty(s.target,a[o],i);u.push({source:l,target:i.value})}}return c}t.exports=n;n.opaque=new Map;n.opaque.set(Date.prototype,e=>new Date(e))},{}],33:[function(e,t,r){"use strict";const n={};t.exports=n;const o=[];const i="This would pollute prototype";function a(e){if(Array.isArray(e)){return e}else if(!e){return o}else if(typeof e==="string"){return e.split(".")}throw new TypeError("[tree.dotPath]: the path argument should be a string or an array")}function s(e,t,r=0){var n,o,a,s=e;for(n=0,o=t.length+r;n<o;n++){a=t[n];if(a==="__proto__"||typeof s==="function"){throw new Error(i)}if(!s||typeof s!=="object"){return undefined}s=s[a]}return s}function l(e,t){var r,n,o,a=e;for(r=0,n=t.length-1;r<n;r++){o=t[r];if(o==="__proto__"||typeof a[o]==="function"){throw new Error(i)}if(!a[o]||typeof a[o]!=="object"){a[o]={}}a=a[o]}return a}n.get=((e,t)=>s(e,a(t)));n.set=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(o==="__proto__"){throw new Error(i)}var s=l(e,n);s[o]=r;return r});n.define=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(o==="__proto__"){throw new Error(i)}var s=l(e,n);if(!(o in s)){s[o]=r}return r});n.inc=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(o==="__proto__"){throw new Error(i)}var s=l(e,n);if(typeof s[o]==="number"){s[o]++}else if(!s[o]||typeof s[o]!=="object"){s[o]=1}return r});n.dec=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(o==="__proto__"){throw new Error(i)}var s=l(e,n);if(typeof s[o]==="number"){s[o]--}else if(!s[o]||typeof s[o]!=="object"){s[o]=-1}return r});n.concat=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(o==="__proto__"){throw new Error(i)}var s=l(e,n);if(!s[o]){s[o]=r}else if(Array.isArray(s[o])&&Array.isArray(r)){s[o]=s[o].concat(r)}return r});n.insert=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(o==="__proto__"){throw new Error(i)}var s=l(e,n);if(!s[o]){s[o]=r}else if(Array.isArray(s[o])&&Array.isArray(r)){s[o]=r.concat(s[o])}return r});n.delete=((e,t)=>{var r=a(t),n=r[r.length-1];if(n==="__proto__"){throw new Error(i)}var o=s(e,r,-1);if(!o||typeof o!=="object"){return false}return delete o[n]});n.autoPush=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(o==="__proto__"){throw new Error(i)}var s=l(e,n);if(s[o]===undefined){s[o]=r}else if(Array.isArray(s[o])){s[o].push(r)}else{s[o]=[s[o],r]}return s[o]});n.append=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(o==="__proto__"){throw new Error(i)}var s=l(e,n);if(!s[o]){s[o]=[r]}else if(Array.isArray(s[o])){s[o].push(r)}return s[o]});n.prepend=((e,t,r)=>{if(!e||typeof e!=="object"){return undefined}var n=a(t),o=n[n.length-1];if(o==="__proto__"){throw new Error(i)}var s=l(e,n);if(!s[o]){s[o]=[r]}else if(Array.isArray(s[o])){s[o].unshift(r)}return s[o]})},{}]},{},[7])(7)});